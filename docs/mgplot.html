<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>mgplot API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>


            <h2>Submodules</h2>
            <ul>
                    <li><a href="mgplot/bar_plot.html">bar_plot</a></li>
                    <li><a href="mgplot/finalise_plot.html">finalise_plot</a></li>
                    <li><a href="mgplot/growth_plot.html">growth_plot</a></li>
                    <li><a href="mgplot/line_plot.html">line_plot</a></li>
                    <li><a href="mgplot/postcovid_plot.html">postcovid_plot</a></li>
                    <li><a href="mgplot/revision_plot.html">revision_plot</a></li>
                    <li><a href="mgplot/run_plot.html">run_plot</a></li>
                    <li><a href="mgplot/seastrend_plot.html">seastrend_plot</a></li>
                    <li><a href="mgplot/summary_plot.html">summary_plot</a></li>
            </ul>

            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#BarKwargs">BarKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#BarKwargs.ax">ax</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.stacked">stacked</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.max_ticks">max_ticks</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.plot_from">plot_from</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.label_rotation">label_rotation</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.color">color</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.label_series">label_series</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.width">width</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.annotate">annotate</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.fontsize">fontsize</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.fontname">fontname</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.rounding">rounding</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.rotation">rotation</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.annotate_color">annotate_color</a>
                        </li>
                        <li>
                                <a class="variable" href="#BarKwargs.above">above</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FinaliseKwargs">FinaliseKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#FinaliseKwargs.title">title</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.xlabel">xlabel</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.ylabel">ylabel</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.xlim">xlim</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.ylim">ylim</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.xticks">xticks</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.yticks">yticks</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.xscale">xscale</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.yscale">yscale</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.legend">legend</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.axhspan">axhspan</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.axvspan">axvspan</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.axhline">axhline</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.axvline">axvline</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.lfooter">lfooter</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.rfooter">rfooter</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.lheader">lheader</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.rheader">rheader</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.pre_tag">pre_tag</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.tag">tag</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.chart_dir">chart_dir</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.file_type">file_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.dpi">dpi</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.figsize">figsize</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.show">show</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.preserve_lims">preserve_lims</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.remove_legend">remove_legend</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.zero_y">zero_y</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.y0">y0</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.x0">x0</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.dont_save">dont_save</a>
                        </li>
                        <li>
                                <a class="variable" href="#FinaliseKwargs.dont_close">dont_close</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#GrowthKwargs">GrowthKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#GrowthKwargs.ax">ax</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.plot_from">plot_from</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.label_series">label_series</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.max_ticks">max_ticks</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.line_width">line_width</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.line_color">line_color</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.line_style">line_style</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.annotate_line">annotate_line</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.line_rounding">line_rounding</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.line_fontsize">line_fontsize</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.line_fontname">line_fontname</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.line_anno_color">line_anno_color</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.annotate_bars">annotate_bars</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.bar_fontsize">bar_fontsize</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.bar_fontname">bar_fontname</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.bar_rounding">bar_rounding</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.bar_width">bar_width</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.bar_color">bar_color</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.bar_anno_color">bar_anno_color</a>
                        </li>
                        <li>
                                <a class="variable" href="#GrowthKwargs.bar_rotation">bar_rotation</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LineKwargs">LineKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#LineKwargs.ax">ax</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.style">style</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.width">width</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.color">color</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.alpha">alpha</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.drawstyle">drawstyle</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.marker">marker</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.markersize">markersize</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.dropna">dropna</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.annotate">annotate</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.rounding">rounding</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.fontsize">fontsize</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.fontname">fontname</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.rotation">rotation</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.annotate_color">annotate_color</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.plot_from">plot_from</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.label_series">label_series</a>
                        </li>
                        <li>
                                <a class="variable" href="#LineKwargs.max_ticks">max_ticks</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PostcovidKwargs">PostcovidKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#PostcovidKwargs.start_r">start_r</a>
                        </li>
                        <li>
                                <a class="variable" href="#PostcovidKwargs.end_r">end_r</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RunKwargs">RunKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#RunKwargs.threshold">threshold</a>
                        </li>
                        <li>
                                <a class="variable" href="#RunKwargs.direction">direction</a>
                        </li>
                        <li>
                                <a class="variable" href="#RunKwargs.highlight_color">highlight_color</a>
                        </li>
                        <li>
                                <a class="variable" href="#RunKwargs.highlight_label">highlight_label</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SeriesGrowthKwargs">SeriesGrowthKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#SeriesGrowthKwargs.ylabel">ylabel</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SummaryKwargs">SummaryKwargs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#SummaryKwargs.ax">ax</a>
                        </li>
                        <li>
                                <a class="variable" href="#SummaryKwargs.verbose">verbose</a>
                        </li>
                        <li>
                                <a class="variable" href="#SummaryKwargs.middle">middle</a>
                        </li>
                        <li>
                                <a class="variable" href="#SummaryKwargs.plot_type">plot_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#SummaryKwargs.plot_from">plot_from</a>
                        </li>
                        <li>
                                <a class="variable" href="#SummaryKwargs.legend">legend</a>
                        </li>
                        <li>
                                <a class="variable" href="#SummaryKwargs.xlabel">xlabel</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#__author__">__author__</a>
            </li>
            <li>
                    <a class="variable" href="#__version__">__version__</a>
            </li>
            <li>
                    <a class="function" href="#abbreviate_state">abbreviate_state</a>
            </li>
            <li>
                    <a class="function" href="#bar_plot">bar_plot</a>
            </li>
            <li>
                    <a class="function" href="#bar_plot_finalise">bar_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#calc_growth">calc_growth</a>
            </li>
            <li>
                    <a class="function" href="#clear_chart_dir">clear_chart_dir</a>
            </li>
            <li>
                    <a class="function" href="#colorise_list">colorise_list</a>
            </li>
            <li>
                    <a class="function" href="#contrast">contrast</a>
            </li>
            <li>
                    <a class="function" href="#finalise_plot">finalise_plot</a>
            </li>
            <li>
                    <a class="function" href="#get_color">get_color</a>
            </li>
            <li>
                    <a class="function" href="#get_party_palette">get_party_palette</a>
            </li>
            <li>
                    <a class="function" href="#get_setting">get_setting</a>
            </li>
            <li>
                    <a class="function" href="#growth_plot">growth_plot</a>
            </li>
            <li>
                    <a class="function" href="#growth_plot_finalise">growth_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#line_plot">line_plot</a>
            </li>
            <li>
                    <a class="function" href="#line_plot_finalise">line_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#multi_column">multi_column</a>
            </li>
            <li>
                    <a class="function" href="#multi_start">multi_start</a>
            </li>
            <li>
                    <a class="function" href="#plot_then_finalise">plot_then_finalise</a>
            </li>
            <li>
                    <a class="function" href="#postcovid_plot">postcovid_plot</a>
            </li>
            <li>
                    <a class="function" href="#postcovid_plot_finalise">postcovid_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#revision_plot">revision_plot</a>
            </li>
            <li>
                    <a class="function" href="#revision_plot_finalise">revision_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#run_plot">run_plot</a>
            </li>
            <li>
                    <a class="function" href="#run_plot_finalise">run_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#seastrend_plot">seastrend_plot</a>
            </li>
            <li>
                    <a class="function" href="#seastrend_plot_finalise">seastrend_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#series_growth_plot">series_growth_plot</a>
            </li>
            <li>
                    <a class="function" href="#series_growth_plot_finalise">series_growth_plot_finalise</a>
            </li>
            <li>
                    <a class="function" href="#set_chart_dir">set_chart_dir</a>
            </li>
            <li>
                    <a class="function" href="#set_setting">set_setting</a>
            </li>
            <li>
                    <a class="variable" href="#state_abbrs">state_abbrs</a>
            </li>
            <li>
                    <a class="variable" href="#state_names">state_names</a>
            </li>
            <li>
                    <a class="function" href="#summary_plot">summary_plot</a>
            </li>
            <li>
                    <a class="function" href="#summary_plot_finalise">summary_plot_finalise</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
mgplot    </h1>

                        <div class="docstring"><p>Provide a frontend to matplotlib for working with timeseries data, indexed with a PeriodIndex.</p>

<p>This package simplifiers the creation of common plots used in economic and financial analysis,
such as bar plots, line plots, growth plots, and seasonal trend plots. It also includes utilities
for color management and finalising plots with consistent styling.</p>
</div>

                        <input id="mod-mgplot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-mgplot-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;Provide a frontend to matplotlib for working with timeseries data, indexed with a PeriodIndex.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">This package simplifiers the creation of common plots used in economic and financial analysis,</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="sd">such as bar plots, line plots, growth plots, and seasonal trend plots. It also includes utilities</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="sd">for color management and finalising plots with consistent styling.</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="c1"># --- version and author</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">importlib.metadata</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="c1"># --- local imports</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="c1">#    Do not import the utilities, axis_utils nor keyword_checking modules here.</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.bar_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">BarKwargs</span><span class="p">,</span> <span class="n">bar_plot</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.colors</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>    <span class="n">abbreviate_state</span><span class="p">,</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>    <span class="n">colorise_list</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>    <span class="n">contrast</span><span class="p">,</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>    <span class="n">get_color</span><span class="p">,</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>    <span class="n">get_party_palette</span><span class="p">,</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>    <span class="n">state_abbrs</span><span class="p">,</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>    <span class="n">state_names</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="p">)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.finalise_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">FinaliseKwargs</span><span class="p">,</span> <span class="n">finalise_plot</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.finalisers</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>    <span class="n">bar_plot_finalise</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a>    <span class="n">growth_plot_finalise</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>    <span class="n">line_plot_finalise</span><span class="p">,</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>    <span class="n">postcovid_plot_finalise</span><span class="p">,</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>    <span class="n">revision_plot_finalise</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>    <span class="n">run_plot_finalise</span><span class="p">,</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>    <span class="n">seastrend_plot_finalise</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>    <span class="n">series_growth_plot_finalise</span><span class="p">,</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>    <span class="n">summary_plot_finalise</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="p">)</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.growth_plot</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>    <span class="n">GrowthKwargs</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>    <span class="n">SeriesGrowthKwargs</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>    <span class="n">calc_growth</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>    <span class="n">growth_plot</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>    <span class="n">series_growth_plot</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="p">)</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.line_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">LineKwargs</span><span class="p">,</span> <span class="n">line_plot</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.multi_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">multi_column</span><span class="p">,</span> <span class="n">multi_start</span><span class="p">,</span> <span class="n">plot_then_finalise</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.postcovid_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">PostcovidKwargs</span><span class="p">,</span> <span class="n">postcovid_plot</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.revision_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">revision_plot</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.run_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunKwargs</span><span class="p">,</span> <span class="n">run_plot</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.seastrend_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">seastrend_plot</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.settings</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="n">clear_chart_dir</span><span class="p">,</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>    <span class="n">get_setting</span><span class="p">,</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>    <span class="n">set_chart_dir</span><span class="p">,</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>    <span class="n">set_setting</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="p">)</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">mgplot.summary_plot</span><span class="w"> </span><span class="kn">import</span> <span class="n">SummaryKwargs</span><span class="p">,</span> <span class="n">summary_plot</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="c1"># --- version and author</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="k">try</span><span class="p">:</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="n">__version__</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">version</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="k">except</span> <span class="n">importlib</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">PackageNotFoundError</span><span class="p">:</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>    <span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.0.0&quot;</span>  <span class="c1"># Fallback for development mode</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Bryan Palmer&quot;</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="c1"># --- public API</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>    <span class="s2">&quot;BarKwargs&quot;</span><span class="p">,</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>    <span class="s2">&quot;FinaliseKwargs&quot;</span><span class="p">,</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    <span class="s2">&quot;GrowthKwargs&quot;</span><span class="p">,</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>    <span class="s2">&quot;LineKwargs&quot;</span><span class="p">,</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>    <span class="s2">&quot;PostcovidKwargs&quot;</span><span class="p">,</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>    <span class="s2">&quot;RunKwargs&quot;</span><span class="p">,</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="s2">&quot;SeriesGrowthKwargs&quot;</span><span class="p">,</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>    <span class="s2">&quot;SummaryKwargs&quot;</span><span class="p">,</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="s2">&quot;__author__&quot;</span><span class="p">,</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>    <span class="s2">&quot;__version__&quot;</span><span class="p">,</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="s2">&quot;abbreviate_state&quot;</span><span class="p">,</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>    <span class="s2">&quot;bar_plot&quot;</span><span class="p">,</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>    <span class="s2">&quot;bar_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="s2">&quot;calc_growth&quot;</span><span class="p">,</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>    <span class="s2">&quot;clear_chart_dir&quot;</span><span class="p">,</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>    <span class="s2">&quot;colorise_list&quot;</span><span class="p">,</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>    <span class="s2">&quot;contrast&quot;</span><span class="p">,</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>    <span class="s2">&quot;finalise_plot&quot;</span><span class="p">,</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>    <span class="s2">&quot;get_color&quot;</span><span class="p">,</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="s2">&quot;get_party_palette&quot;</span><span class="p">,</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>    <span class="s2">&quot;get_setting&quot;</span><span class="p">,</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>    <span class="s2">&quot;growth_plot&quot;</span><span class="p">,</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>    <span class="s2">&quot;growth_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>    <span class="s2">&quot;line_plot&quot;</span><span class="p">,</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>    <span class="s2">&quot;line_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>    <span class="s2">&quot;multi_column&quot;</span><span class="p">,</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>    <span class="s2">&quot;multi_start&quot;</span><span class="p">,</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="s2">&quot;plot_then_finalise&quot;</span><span class="p">,</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="s2">&quot;postcovid_plot&quot;</span><span class="p">,</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>    <span class="s2">&quot;postcovid_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>    <span class="s2">&quot;revision_plot&quot;</span><span class="p">,</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>    <span class="s2">&quot;revision_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>    <span class="s2">&quot;run_plot&quot;</span><span class="p">,</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>    <span class="s2">&quot;run_plot&quot;</span><span class="p">,</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>    <span class="s2">&quot;run_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>    <span class="s2">&quot;seastrend_plot&quot;</span><span class="p">,</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>    <span class="s2">&quot;seastrend_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>    <span class="s2">&quot;series_growth_plot&quot;</span><span class="p">,</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>    <span class="s2">&quot;series_growth_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>    <span class="s2">&quot;set_chart_dir&quot;</span><span class="p">,</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>    <span class="s2">&quot;set_setting&quot;</span><span class="p">,</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="s2">&quot;state_abbrs&quot;</span><span class="p">,</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>    <span class="s2">&quot;state_names&quot;</span><span class="p">,</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>    <span class="s2">&quot;summary_plot&quot;</span><span class="p">,</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>    <span class="s2">&quot;summary_plot_finalise&quot;</span><span class="p">,</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="BarKwargs">
                            <input id="BarKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">BarKwargs</span><wbr>(<span class="base">mgplot.keyword_checking.BaseKwargs</span>):

                <label class="view-source-button" for="BarKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BarKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BarKwargs-41"><a href="#BarKwargs-41"><span class="linenos">41</span></a><span class="k">class</span><span class="w"> </span><span class="nc">BarKwargs</span><span class="p">(</span><span class="n">BaseKwargs</span><span class="p">):</span>
</span><span id="BarKwargs-42"><a href="#BarKwargs-42"><span class="linenos">42</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the bar_plot function.&quot;&quot;&quot;</span>
</span><span id="BarKwargs-43"><a href="#BarKwargs-43"><span class="linenos">43</span></a>
</span><span id="BarKwargs-44"><a href="#BarKwargs-44"><span class="linenos">44</span></a>    <span class="c1"># --- options for the entire bar plot</span>
</span><span id="BarKwargs-45"><a href="#BarKwargs-45"><span class="linenos">45</span></a>    <span class="n">ax</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Axes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="BarKwargs-46"><a href="#BarKwargs-46"><span class="linenos">46</span></a>    <span class="n">stacked</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="BarKwargs-47"><a href="#BarKwargs-47"><span class="linenos">47</span></a>    <span class="n">max_ticks</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="BarKwargs-48"><a href="#BarKwargs-48"><span class="linenos">48</span></a>    <span class="n">plot_from</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="n">Period</span><span class="p">]</span>
</span><span id="BarKwargs-49"><a href="#BarKwargs-49"><span class="linenos">49</span></a>    <span class="n">label_rotation</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span>
</span><span id="BarKwargs-50"><a href="#BarKwargs-50"><span class="linenos">50</span></a>    <span class="c1"># --- options for each bar ...</span>
</span><span id="BarKwargs-51"><a href="#BarKwargs-51"><span class="linenos">51</span></a>    <span class="n">color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span><span id="BarKwargs-52"><a href="#BarKwargs-52"><span class="linenos">52</span></a>    <span class="n">label_series</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span>
</span><span id="BarKwargs-53"><a href="#BarKwargs-53"><span class="linenos">53</span></a>    <span class="n">width</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]]</span>
</span><span id="BarKwargs-54"><a href="#BarKwargs-54"><span class="linenos">54</span></a>    <span class="c1"># --- options for bar annotations</span>
</span><span id="BarKwargs-55"><a href="#BarKwargs-55"><span class="linenos">55</span></a>    <span class="n">annotate</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="BarKwargs-56"><a href="#BarKwargs-56"><span class="linenos">56</span></a>    <span class="n">fontsize</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span>
</span><span id="BarKwargs-57"><a href="#BarKwargs-57"><span class="linenos">57</span></a>    <span class="n">fontname</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="BarKwargs-58"><a href="#BarKwargs-58"><span class="linenos">58</span></a>    <span class="n">rounding</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="BarKwargs-59"><a href="#BarKwargs-59"><span class="linenos">59</span></a>    <span class="n">rotation</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span>
</span><span id="BarKwargs-60"><a href="#BarKwargs-60"><span class="linenos">60</span></a>    <span class="n">annotate_color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="BarKwargs-61"><a href="#BarKwargs-61"><span class="linenos">61</span></a>    <span class="n">above</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the bar_plot function.</p>
</div>


                            <div id="BarKwargs.ax" class="classattr">
                                <div class="attr variable">
            <span class="name">ax</span><span class="annotation">: NotRequired[matplotlib.axes._axes.Axes | None]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.ax"></a>
    
    

                            </div>
                            <div id="BarKwargs.stacked" class="classattr">
                                <div class="attr variable">
            <span class="name">stacked</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.stacked"></a>
    
    

                            </div>
                            <div id="BarKwargs.max_ticks" class="classattr">
                                <div class="attr variable">
            <span class="name">max_ticks</span><span class="annotation">: NotRequired[int]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.max_ticks"></a>
    
    

                            </div>
                            <div id="BarKwargs.plot_from" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_from</span><span class="annotation">: NotRequired[int | pandas._libs.tslibs.period.Period]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.plot_from"></a>
    
    

                            </div>
                            <div id="BarKwargs.label_rotation" class="classattr">
                                <div class="attr variable">
            <span class="name">label_rotation</span><span class="annotation">: NotRequired[int | float]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.label_rotation"></a>
    
    

                            </div>
                            <div id="BarKwargs.color" class="classattr">
                                <div class="attr variable">
            <span class="name">color</span><span class="annotation">: NotRequired[str | Sequence[str]]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.color"></a>
    
    

                            </div>
                            <div id="BarKwargs.label_series" class="classattr">
                                <div class="attr variable">
            <span class="name">label_series</span><span class="annotation">: NotRequired[bool | Sequence[bool]]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.label_series"></a>
    
    

                            </div>
                            <div id="BarKwargs.width" class="classattr">
                                <div class="attr variable">
            <span class="name">width</span><span class="annotation">: NotRequired[float | int | Sequence[float | int]]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.width"></a>
    
    

                            </div>
                            <div id="BarKwargs.annotate" class="classattr">
                                <div class="attr variable">
            <span class="name">annotate</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.annotate"></a>
    
    

                            </div>
                            <div id="BarKwargs.fontsize" class="classattr">
                                <div class="attr variable">
            <span class="name">fontsize</span><span class="annotation">: NotRequired[int | float | str]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.fontsize"></a>
    
    

                            </div>
                            <div id="BarKwargs.fontname" class="classattr">
                                <div class="attr variable">
            <span class="name">fontname</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.fontname"></a>
    
    

                            </div>
                            <div id="BarKwargs.rounding" class="classattr">
                                <div class="attr variable">
            <span class="name">rounding</span><span class="annotation">: NotRequired[int]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.rounding"></a>
    
    

                            </div>
                            <div id="BarKwargs.rotation" class="classattr">
                                <div class="attr variable">
            <span class="name">rotation</span><span class="annotation">: NotRequired[int | float]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.rotation"></a>
    
    

                            </div>
                            <div id="BarKwargs.annotate_color" class="classattr">
                                <div class="attr variable">
            <span class="name">annotate_color</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.annotate_color"></a>
    
    

                            </div>
                            <div id="BarKwargs.above" class="classattr">
                                <div class="attr variable">
            <span class="name">above</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#BarKwargs.above"></a>
    
    

                            </div>
                </section>
                <section id="FinaliseKwargs">
                            <input id="FinaliseKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FinaliseKwargs</span><wbr>(<span class="base">mgplot.keyword_checking.BaseKwargs</span>):

                <label class="view-source-button" for="FinaliseKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FinaliseKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FinaliseKwargs-31"><a href="#FinaliseKwargs-31"><span class="linenos">31</span></a><span class="k">class</span><span class="w"> </span><span class="nc">FinaliseKwargs</span><span class="p">(</span><span class="n">BaseKwargs</span><span class="p">):</span>
</span><span id="FinaliseKwargs-32"><a href="#FinaliseKwargs-32"><span class="linenos">32</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the finalise_plot function.&quot;&quot;&quot;</span>
</span><span id="FinaliseKwargs-33"><a href="#FinaliseKwargs-33"><span class="linenos">33</span></a>
</span><span id="FinaliseKwargs-34"><a href="#FinaliseKwargs-34"><span class="linenos">34</span></a>    <span class="c1"># --- value options</span>
</span><span id="FinaliseKwargs-35"><a href="#FinaliseKwargs-35"><span class="linenos">35</span></a>    <span class="n">title</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-36"><a href="#FinaliseKwargs-36"><span class="linenos">36</span></a>    <span class="n">xlabel</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-37"><a href="#FinaliseKwargs-37"><span class="linenos">37</span></a>    <span class="n">ylabel</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-38"><a href="#FinaliseKwargs-38"><span class="linenos">38</span></a>    <span class="n">xlim</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-39"><a href="#FinaliseKwargs-39"><span class="linenos">39</span></a>    <span class="n">ylim</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-40"><a href="#FinaliseKwargs-40"><span class="linenos">40</span></a>    <span class="n">xticks</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-41"><a href="#FinaliseKwargs-41"><span class="linenos">41</span></a>    <span class="n">yticks</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-42"><a href="#FinaliseKwargs-42"><span class="linenos">42</span></a>    <span class="n">xscale</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-43"><a href="#FinaliseKwargs-43"><span class="linenos">43</span></a>    <span class="n">yscale</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-44"><a href="#FinaliseKwargs-44"><span class="linenos">44</span></a>    <span class="c1"># --- splat options</span>
</span><span id="FinaliseKwargs-45"><a href="#FinaliseKwargs-45"><span class="linenos">45</span></a>    <span class="n">legend</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="FinaliseKwargs-46"><a href="#FinaliseKwargs-46"><span class="linenos">46</span></a>    <span class="n">axhspan</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
</span><span id="FinaliseKwargs-47"><a href="#FinaliseKwargs-47"><span class="linenos">47</span></a>    <span class="n">axvspan</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
</span><span id="FinaliseKwargs-48"><a href="#FinaliseKwargs-48"><span class="linenos">48</span></a>    <span class="n">axhline</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
</span><span id="FinaliseKwargs-49"><a href="#FinaliseKwargs-49"><span class="linenos">49</span></a>    <span class="n">axvline</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
</span><span id="FinaliseKwargs-50"><a href="#FinaliseKwargs-50"><span class="linenos">50</span></a>    <span class="c1"># --- options for annotations</span>
</span><span id="FinaliseKwargs-51"><a href="#FinaliseKwargs-51"><span class="linenos">51</span></a>    <span class="n">lfooter</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-52"><a href="#FinaliseKwargs-52"><span class="linenos">52</span></a>    <span class="n">rfooter</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-53"><a href="#FinaliseKwargs-53"><span class="linenos">53</span></a>    <span class="n">lheader</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-54"><a href="#FinaliseKwargs-54"><span class="linenos">54</span></a>    <span class="n">rheader</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-55"><a href="#FinaliseKwargs-55"><span class="linenos">55</span></a>    <span class="c1"># --- file/save options</span>
</span><span id="FinaliseKwargs-56"><a href="#FinaliseKwargs-56"><span class="linenos">56</span></a>    <span class="n">pre_tag</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-57"><a href="#FinaliseKwargs-57"><span class="linenos">57</span></a>    <span class="n">tag</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-58"><a href="#FinaliseKwargs-58"><span class="linenos">58</span></a>    <span class="n">chart_dir</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-59"><a href="#FinaliseKwargs-59"><span class="linenos">59</span></a>    <span class="n">file_type</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="FinaliseKwargs-60"><a href="#FinaliseKwargs-60"><span class="linenos">60</span></a>    <span class="n">dpi</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="FinaliseKwargs-61"><a href="#FinaliseKwargs-61"><span class="linenos">61</span></a>    <span class="n">figsize</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span>
</span><span id="FinaliseKwargs-62"><a href="#FinaliseKwargs-62"><span class="linenos">62</span></a>    <span class="n">show</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="FinaliseKwargs-63"><a href="#FinaliseKwargs-63"><span class="linenos">63</span></a>    <span class="c1"># --- other options</span>
</span><span id="FinaliseKwargs-64"><a href="#FinaliseKwargs-64"><span class="linenos">64</span></a>    <span class="n">preserve_lims</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="FinaliseKwargs-65"><a href="#FinaliseKwargs-65"><span class="linenos">65</span></a>    <span class="n">remove_legend</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="FinaliseKwargs-66"><a href="#FinaliseKwargs-66"><span class="linenos">66</span></a>    <span class="n">zero_y</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="FinaliseKwargs-67"><a href="#FinaliseKwargs-67"><span class="linenos">67</span></a>    <span class="n">y0</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="FinaliseKwargs-68"><a href="#FinaliseKwargs-68"><span class="linenos">68</span></a>    <span class="n">x0</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="FinaliseKwargs-69"><a href="#FinaliseKwargs-69"><span class="linenos">69</span></a>    <span class="n">dont_save</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="FinaliseKwargs-70"><a href="#FinaliseKwargs-70"><span class="linenos">70</span></a>    <span class="n">dont_close</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the finalise_plot function.</p>
</div>


                            <div id="FinaliseKwargs.title" class="classattr">
                                <div class="attr variable">
            <span class="name">title</span><span class="annotation">: NotRequired[str | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.title"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.xlabel" class="classattr">
                                <div class="attr variable">
            <span class="name">xlabel</span><span class="annotation">: NotRequired[str | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.xlabel"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.ylabel" class="classattr">
                                <div class="attr variable">
            <span class="name">ylabel</span><span class="annotation">: NotRequired[str | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.ylabel"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.xlim" class="classattr">
                                <div class="attr variable">
            <span class="name">xlim</span><span class="annotation">: NotRequired[tuple[float, float] | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.xlim"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.ylim" class="classattr">
                                <div class="attr variable">
            <span class="name">ylim</span><span class="annotation">: NotRequired[tuple[float, float] | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.ylim"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.xticks" class="classattr">
                                <div class="attr variable">
            <span class="name">xticks</span><span class="annotation">: NotRequired[list[float] | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.xticks"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.yticks" class="classattr">
                                <div class="attr variable">
            <span class="name">yticks</span><span class="annotation">: NotRequired[list[float] | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.yticks"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.xscale" class="classattr">
                                <div class="attr variable">
            <span class="name">xscale</span><span class="annotation">: NotRequired[str | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.xscale"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.yscale" class="classattr">
                                <div class="attr variable">
            <span class="name">yscale</span><span class="annotation">: NotRequired[str | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.yscale"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.legend" class="classattr">
                                <div class="attr variable">
            <span class="name">legend</span><span class="annotation">: NotRequired[bool | dict[str, Any] | None]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.legend"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.axhspan" class="classattr">
                                <div class="attr variable">
            <span class="name">axhspan</span><span class="annotation">: NotRequired[dict[str, Any]]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.axhspan"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.axvspan" class="classattr">
                                <div class="attr variable">
            <span class="name">axvspan</span><span class="annotation">: NotRequired[dict[str, Any]]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.axvspan"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.axhline" class="classattr">
                                <div class="attr variable">
            <span class="name">axhline</span><span class="annotation">: NotRequired[dict[str, Any]]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.axhline"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.axvline" class="classattr">
                                <div class="attr variable">
            <span class="name">axvline</span><span class="annotation">: NotRequired[dict[str, Any]]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.axvline"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.lfooter" class="classattr">
                                <div class="attr variable">
            <span class="name">lfooter</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.lfooter"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.rfooter" class="classattr">
                                <div class="attr variable">
            <span class="name">rfooter</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.rfooter"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.lheader" class="classattr">
                                <div class="attr variable">
            <span class="name">lheader</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.lheader"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.rheader" class="classattr">
                                <div class="attr variable">
            <span class="name">rheader</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.rheader"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.pre_tag" class="classattr">
                                <div class="attr variable">
            <span class="name">pre_tag</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.pre_tag"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.tag" class="classattr">
                                <div class="attr variable">
            <span class="name">tag</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.tag"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.chart_dir" class="classattr">
                                <div class="attr variable">
            <span class="name">chart_dir</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.chart_dir"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.file_type" class="classattr">
                                <div class="attr variable">
            <span class="name">file_type</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.file_type"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.dpi" class="classattr">
                                <div class="attr variable">
            <span class="name">dpi</span><span class="annotation">: NotRequired[int]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.dpi"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.figsize" class="classattr">
                                <div class="attr variable">
            <span class="name">figsize</span><span class="annotation">: NotRequired[tuple[float, float]]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.figsize"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.show" class="classattr">
                                <div class="attr variable">
            <span class="name">show</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.show"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.preserve_lims" class="classattr">
                                <div class="attr variable">
            <span class="name">preserve_lims</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.preserve_lims"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.remove_legend" class="classattr">
                                <div class="attr variable">
            <span class="name">remove_legend</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.remove_legend"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.zero_y" class="classattr">
                                <div class="attr variable">
            <span class="name">zero_y</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.zero_y"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.y0" class="classattr">
                                <div class="attr variable">
            <span class="name">y0</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.y0"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.x0" class="classattr">
                                <div class="attr variable">
            <span class="name">x0</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.x0"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.dont_save" class="classattr">
                                <div class="attr variable">
            <span class="name">dont_save</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.dont_save"></a>
    
    

                            </div>
                            <div id="FinaliseKwargs.dont_close" class="classattr">
                                <div class="attr variable">
            <span class="name">dont_close</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#FinaliseKwargs.dont_close"></a>
    
    

                            </div>
                </section>
                <section id="GrowthKwargs">
                            <input id="GrowthKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">GrowthKwargs</span><wbr>(<span class="base">mgplot.keyword_checking.BaseKwargs</span>):

                <label class="view-source-button" for="GrowthKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GrowthKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GrowthKwargs-38"><a href="#GrowthKwargs-38"><span class="linenos">38</span></a><span class="k">class</span><span class="w"> </span><span class="nc">GrowthKwargs</span><span class="p">(</span><span class="n">BaseKwargs</span><span class="p">):</span>
</span><span id="GrowthKwargs-39"><a href="#GrowthKwargs-39"><span class="linenos">39</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the growth_plot function.&quot;&quot;&quot;</span>
</span><span id="GrowthKwargs-40"><a href="#GrowthKwargs-40"><span class="linenos">40</span></a>
</span><span id="GrowthKwargs-41"><a href="#GrowthKwargs-41"><span class="linenos">41</span></a>    <span class="c1"># --- common options</span>
</span><span id="GrowthKwargs-42"><a href="#GrowthKwargs-42"><span class="linenos">42</span></a>    <span class="n">ax</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Axes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="GrowthKwargs-43"><a href="#GrowthKwargs-43"><span class="linenos">43</span></a>    <span class="n">plot_from</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="n">Period</span><span class="p">]</span>
</span><span id="GrowthKwargs-44"><a href="#GrowthKwargs-44"><span class="linenos">44</span></a>    <span class="n">label_series</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="GrowthKwargs-45"><a href="#GrowthKwargs-45"><span class="linenos">45</span></a>    <span class="n">max_ticks</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="GrowthKwargs-46"><a href="#GrowthKwargs-46"><span class="linenos">46</span></a>    <span class="c1"># --- options passed to the line plot</span>
</span><span id="GrowthKwargs-47"><a href="#GrowthKwargs-47"><span class="linenos">47</span></a>    <span class="n">line_width</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span>
</span><span id="GrowthKwargs-48"><a href="#GrowthKwargs-48"><span class="linenos">48</span></a>    <span class="n">line_color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="GrowthKwargs-49"><a href="#GrowthKwargs-49"><span class="linenos">49</span></a>    <span class="n">line_style</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="GrowthKwargs-50"><a href="#GrowthKwargs-50"><span class="linenos">50</span></a>    <span class="n">annotate_line</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="GrowthKwargs-51"><a href="#GrowthKwargs-51"><span class="linenos">51</span></a>    <span class="n">line_rounding</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span>
</span><span id="GrowthKwargs-52"><a href="#GrowthKwargs-52"><span class="linenos">52</span></a>    <span class="n">line_fontsize</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span>
</span><span id="GrowthKwargs-53"><a href="#GrowthKwargs-53"><span class="linenos">53</span></a>    <span class="n">line_fontname</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="GrowthKwargs-54"><a href="#GrowthKwargs-54"><span class="linenos">54</span></a>    <span class="n">line_anno_color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="GrowthKwargs-55"><a href="#GrowthKwargs-55"><span class="linenos">55</span></a>    <span class="c1"># --- options passed to the bar plot</span>
</span><span id="GrowthKwargs-56"><a href="#GrowthKwargs-56"><span class="linenos">56</span></a>    <span class="n">annotate_bars</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="GrowthKwargs-57"><a href="#GrowthKwargs-57"><span class="linenos">57</span></a>    <span class="n">bar_fontsize</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span>
</span><span id="GrowthKwargs-58"><a href="#GrowthKwargs-58"><span class="linenos">58</span></a>    <span class="n">bar_fontname</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="GrowthKwargs-59"><a href="#GrowthKwargs-59"><span class="linenos">59</span></a>    <span class="n">bar_rounding</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="GrowthKwargs-60"><a href="#GrowthKwargs-60"><span class="linenos">60</span></a>    <span class="n">bar_width</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
</span><span id="GrowthKwargs-61"><a href="#GrowthKwargs-61"><span class="linenos">61</span></a>    <span class="n">bar_color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="GrowthKwargs-62"><a href="#GrowthKwargs-62"><span class="linenos">62</span></a>    <span class="n">bar_anno_color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="GrowthKwargs-63"><a href="#GrowthKwargs-63"><span class="linenos">63</span></a>    <span class="n">bar_rotation</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the growth_plot function.</p>
</div>


                            <div id="GrowthKwargs.ax" class="classattr">
                                <div class="attr variable">
            <span class="name">ax</span><span class="annotation">: NotRequired[matplotlib.axes._axes.Axes | None]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.ax"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.plot_from" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_from</span><span class="annotation">: NotRequired[int | pandas._libs.tslibs.period.Period]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.plot_from"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.label_series" class="classattr">
                                <div class="attr variable">
            <span class="name">label_series</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.label_series"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.max_ticks" class="classattr">
                                <div class="attr variable">
            <span class="name">max_ticks</span><span class="annotation">: NotRequired[int]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.max_ticks"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.line_width" class="classattr">
                                <div class="attr variable">
            <span class="name">line_width</span><span class="annotation">: NotRequired[int | float]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.line_width"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.line_color" class="classattr">
                                <div class="attr variable">
            <span class="name">line_color</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.line_color"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.line_style" class="classattr">
                                <div class="attr variable">
            <span class="name">line_style</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.line_style"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.annotate_line" class="classattr">
                                <div class="attr variable">
            <span class="name">annotate_line</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.annotate_line"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.line_rounding" class="classattr">
                                <div class="attr variable">
            <span class="name">line_rounding</span><span class="annotation">: NotRequired[bool | int]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.line_rounding"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.line_fontsize" class="classattr">
                                <div class="attr variable">
            <span class="name">line_fontsize</span><span class="annotation">: NotRequired[int | float | str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.line_fontsize"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.line_fontname" class="classattr">
                                <div class="attr variable">
            <span class="name">line_fontname</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.line_fontname"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.line_anno_color" class="classattr">
                                <div class="attr variable">
            <span class="name">line_anno_color</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.line_anno_color"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.annotate_bars" class="classattr">
                                <div class="attr variable">
            <span class="name">annotate_bars</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.annotate_bars"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.bar_fontsize" class="classattr">
                                <div class="attr variable">
            <span class="name">bar_fontsize</span><span class="annotation">: NotRequired[int | float | str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.bar_fontsize"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.bar_fontname" class="classattr">
                                <div class="attr variable">
            <span class="name">bar_fontname</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.bar_fontname"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.bar_rounding" class="classattr">
                                <div class="attr variable">
            <span class="name">bar_rounding</span><span class="annotation">: NotRequired[int]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.bar_rounding"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.bar_width" class="classattr">
                                <div class="attr variable">
            <span class="name">bar_width</span><span class="annotation">: NotRequired[float]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.bar_width"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.bar_color" class="classattr">
                                <div class="attr variable">
            <span class="name">bar_color</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.bar_color"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.bar_anno_color" class="classattr">
                                <div class="attr variable">
            <span class="name">bar_anno_color</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.bar_anno_color"></a>
    
    

                            </div>
                            <div id="GrowthKwargs.bar_rotation" class="classattr">
                                <div class="attr variable">
            <span class="name">bar_rotation</span><span class="annotation">: NotRequired[int | float]</span>

        
    </div>
    <a class="headerlink" href="#GrowthKwargs.bar_rotation"></a>
    
    

                            </div>
                </section>
                <section id="LineKwargs">
                            <input id="LineKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LineKwargs</span><wbr>(<span class="base">mgplot.keyword_checking.BaseKwargs</span>):

                <label class="view-source-button" for="LineKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LineKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LineKwargs-28"><a href="#LineKwargs-28"><span class="linenos">28</span></a><span class="k">class</span><span class="w"> </span><span class="nc">LineKwargs</span><span class="p">(</span><span class="n">BaseKwargs</span><span class="p">):</span>
</span><span id="LineKwargs-29"><a href="#LineKwargs-29"><span class="linenos">29</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the line_plot function.&quot;&quot;&quot;</span>
</span><span id="LineKwargs-30"><a href="#LineKwargs-30"><span class="linenos">30</span></a>
</span><span id="LineKwargs-31"><a href="#LineKwargs-31"><span class="linenos">31</span></a>    <span class="c1"># --- options for the entire line plot</span>
</span><span id="LineKwargs-32"><a href="#LineKwargs-32"><span class="linenos">32</span></a>    <span class="n">ax</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Axes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-33"><a href="#LineKwargs-33"><span class="linenos">33</span></a>    <span class="n">style</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span><span id="LineKwargs-34"><a href="#LineKwargs-34"><span class="linenos">34</span></a>    <span class="n">width</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]]</span>
</span><span id="LineKwargs-35"><a href="#LineKwargs-35"><span class="linenos">35</span></a>    <span class="n">color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span><span id="LineKwargs-36"><a href="#LineKwargs-36"><span class="linenos">36</span></a>    <span class="n">alpha</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span>
</span><span id="LineKwargs-37"><a href="#LineKwargs-37"><span class="linenos">37</span></a>    <span class="n">drawstyle</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-38"><a href="#LineKwargs-38"><span class="linenos">38</span></a>    <span class="n">marker</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-39"><a href="#LineKwargs-39"><span class="linenos">39</span></a>    <span class="n">markersize</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-40"><a href="#LineKwargs-40"><span class="linenos">40</span></a>    <span class="n">dropna</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span>
</span><span id="LineKwargs-41"><a href="#LineKwargs-41"><span class="linenos">41</span></a>    <span class="n">annotate</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span>
</span><span id="LineKwargs-42"><a href="#LineKwargs-42"><span class="linenos">42</span></a>    <span class="n">rounding</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-43"><a href="#LineKwargs-43"><span class="linenos">43</span></a>    <span class="n">fontsize</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span>
</span><span id="LineKwargs-44"><a href="#LineKwargs-44"><span class="linenos">44</span></a>    <span class="n">fontname</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span><span id="LineKwargs-45"><a href="#LineKwargs-45"><span class="linenos">45</span></a>    <span class="n">rotation</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span>
</span><span id="LineKwargs-46"><a href="#LineKwargs-46"><span class="linenos">46</span></a>    <span class="n">annotate_color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-47"><a href="#LineKwargs-47"><span class="linenos">47</span></a>    <span class="n">plot_from</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="n">Period</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-48"><a href="#LineKwargs-48"><span class="linenos">48</span></a>    <span class="n">label_series</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="LineKwargs-49"><a href="#LineKwargs-49"><span class="linenos">49</span></a>    <span class="n">max_ticks</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the line_plot function.</p>
</div>


                            <div id="LineKwargs.ax" class="classattr">
                                <div class="attr variable">
            <span class="name">ax</span><span class="annotation">: NotRequired[matplotlib.axes._axes.Axes | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.ax"></a>
    
    

                            </div>
                            <div id="LineKwargs.style" class="classattr">
                                <div class="attr variable">
            <span class="name">style</span><span class="annotation">: NotRequired[str | Sequence[str]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.style"></a>
    
    

                            </div>
                            <div id="LineKwargs.width" class="classattr">
                                <div class="attr variable">
            <span class="name">width</span><span class="annotation">: NotRequired[float | int | Sequence[float | int]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.width"></a>
    
    

                            </div>
                            <div id="LineKwargs.color" class="classattr">
                                <div class="attr variable">
            <span class="name">color</span><span class="annotation">: NotRequired[str | Sequence[str]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.color"></a>
    
    

                            </div>
                            <div id="LineKwargs.alpha" class="classattr">
                                <div class="attr variable">
            <span class="name">alpha</span><span class="annotation">: NotRequired[float | Sequence[float]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.alpha"></a>
    
    

                            </div>
                            <div id="LineKwargs.drawstyle" class="classattr">
                                <div class="attr variable">
            <span class="name">drawstyle</span><span class="annotation">: NotRequired[str | Sequence[str] | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.drawstyle"></a>
    
    

                            </div>
                            <div id="LineKwargs.marker" class="classattr">
                                <div class="attr variable">
            <span class="name">marker</span><span class="annotation">: NotRequired[str | Sequence[str] | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.marker"></a>
    
    

                            </div>
                            <div id="LineKwargs.markersize" class="classattr">
                                <div class="attr variable">
            <span class="name">markersize</span><span class="annotation">: NotRequired[float | Sequence[float] | int | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.markersize"></a>
    
    

                            </div>
                            <div id="LineKwargs.dropna" class="classattr">
                                <div class="attr variable">
            <span class="name">dropna</span><span class="annotation">: NotRequired[bool | Sequence[bool]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.dropna"></a>
    
    

                            </div>
                            <div id="LineKwargs.annotate" class="classattr">
                                <div class="attr variable">
            <span class="name">annotate</span><span class="annotation">: NotRequired[bool | Sequence[bool]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.annotate"></a>
    
    

                            </div>
                            <div id="LineKwargs.rounding" class="classattr">
                                <div class="attr variable">
            <span class="name">rounding</span><span class="annotation">: NotRequired[Sequence[int | bool] | int | bool | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.rounding"></a>
    
    

                            </div>
                            <div id="LineKwargs.fontsize" class="classattr">
                                <div class="attr variable">
            <span class="name">fontsize</span><span class="annotation">: NotRequired[Sequence[str | int | float] | str | int | float]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.fontsize"></a>
    
    

                            </div>
                            <div id="LineKwargs.fontname" class="classattr">
                                <div class="attr variable">
            <span class="name">fontname</span><span class="annotation">: NotRequired[str | Sequence[str]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.fontname"></a>
    
    

                            </div>
                            <div id="LineKwargs.rotation" class="classattr">
                                <div class="attr variable">
            <span class="name">rotation</span><span class="annotation">: NotRequired[float | int | Sequence[float | int]]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.rotation"></a>
    
    

                            </div>
                            <div id="LineKwargs.annotate_color" class="classattr">
                                <div class="attr variable">
            <span class="name">annotate_color</span><span class="annotation">: NotRequired[str | Sequence[str] | bool | Sequence[bool] | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.annotate_color"></a>
    
    

                            </div>
                            <div id="LineKwargs.plot_from" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_from</span><span class="annotation">: NotRequired[int | pandas._libs.tslibs.period.Period | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.plot_from"></a>
    
    

                            </div>
                            <div id="LineKwargs.label_series" class="classattr">
                                <div class="attr variable">
            <span class="name">label_series</span><span class="annotation">: NotRequired[bool | Sequence[bool] | None]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.label_series"></a>
    
    

                            </div>
                            <div id="LineKwargs.max_ticks" class="classattr">
                                <div class="attr variable">
            <span class="name">max_ticks</span><span class="annotation">: NotRequired[int]</span>

        
    </div>
    <a class="headerlink" href="#LineKwargs.max_ticks"></a>
    
    

                            </div>
                </section>
                <section id="PostcovidKwargs">
                            <input id="PostcovidKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PostcovidKwargs</span><wbr>(<span class="base"><a href="#LineKwargs">mgplot.LineKwargs</a></span>):

                <label class="view-source-button" for="PostcovidKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PostcovidKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PostcovidKwargs-30"><a href="#PostcovidKwargs-30"><span class="linenos">30</span></a><span class="k">class</span><span class="w"> </span><span class="nc">PostcovidKwargs</span><span class="p">(</span><span class="n">LineKwargs</span><span class="p">):</span>
</span><span id="PostcovidKwargs-31"><a href="#PostcovidKwargs-31"><span class="linenos">31</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the post-COVID plot.&quot;&quot;&quot;</span>
</span><span id="PostcovidKwargs-32"><a href="#PostcovidKwargs-32"><span class="linenos">32</span></a>
</span><span id="PostcovidKwargs-33"><a href="#PostcovidKwargs-33"><span class="linenos">33</span></a>    <span class="n">start_r</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Period</span><span class="p">]</span>  <span class="c1"># start of regression period</span>
</span><span id="PostcovidKwargs-34"><a href="#PostcovidKwargs-34"><span class="linenos">34</span></a>    <span class="n">end_r</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Period</span><span class="p">]</span>  <span class="c1"># end of regression period</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the post-COVID plot.</p>
</div>


                            <div id="PostcovidKwargs.start_r" class="classattr">
                                <div class="attr variable">
            <span class="name">start_r</span><span class="annotation">: NotRequired[pandas._libs.tslibs.period.Period]</span>

        
    </div>
    <a class="headerlink" href="#PostcovidKwargs.start_r"></a>
    
    

                            </div>
                            <div id="PostcovidKwargs.end_r" class="classattr">
                                <div class="attr variable">
            <span class="name">end_r</span><span class="annotation">: NotRequired[pandas._libs.tslibs.period.Period]</span>

        
    </div>
    <a class="headerlink" href="#PostcovidKwargs.end_r"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#LineKwargs">LineKwargs</a></dt>
                                <dd id="PostcovidKwargs.ax" class="variable"><a href="#LineKwargs.ax">ax</a></dd>
                <dd id="PostcovidKwargs.style" class="variable"><a href="#LineKwargs.style">style</a></dd>
                <dd id="PostcovidKwargs.width" class="variable"><a href="#LineKwargs.width">width</a></dd>
                <dd id="PostcovidKwargs.color" class="variable"><a href="#LineKwargs.color">color</a></dd>
                <dd id="PostcovidKwargs.alpha" class="variable"><a href="#LineKwargs.alpha">alpha</a></dd>
                <dd id="PostcovidKwargs.drawstyle" class="variable"><a href="#LineKwargs.drawstyle">drawstyle</a></dd>
                <dd id="PostcovidKwargs.marker" class="variable"><a href="#LineKwargs.marker">marker</a></dd>
                <dd id="PostcovidKwargs.markersize" class="variable"><a href="#LineKwargs.markersize">markersize</a></dd>
                <dd id="PostcovidKwargs.dropna" class="variable"><a href="#LineKwargs.dropna">dropna</a></dd>
                <dd id="PostcovidKwargs.annotate" class="variable"><a href="#LineKwargs.annotate">annotate</a></dd>
                <dd id="PostcovidKwargs.rounding" class="variable"><a href="#LineKwargs.rounding">rounding</a></dd>
                <dd id="PostcovidKwargs.fontsize" class="variable"><a href="#LineKwargs.fontsize">fontsize</a></dd>
                <dd id="PostcovidKwargs.fontname" class="variable"><a href="#LineKwargs.fontname">fontname</a></dd>
                <dd id="PostcovidKwargs.rotation" class="variable"><a href="#LineKwargs.rotation">rotation</a></dd>
                <dd id="PostcovidKwargs.annotate_color" class="variable"><a href="#LineKwargs.annotate_color">annotate_color</a></dd>
                <dd id="PostcovidKwargs.plot_from" class="variable"><a href="#LineKwargs.plot_from">plot_from</a></dd>
                <dd id="PostcovidKwargs.label_series" class="variable"><a href="#LineKwargs.label_series">label_series</a></dd>
                <dd id="PostcovidKwargs.max_ticks" class="variable"><a href="#LineKwargs.max_ticks">max_ticks</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RunKwargs">
                            <input id="RunKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RunKwargs</span><wbr>(<span class="base"><a href="#LineKwargs">mgplot.LineKwargs</a></span>):

                <label class="view-source-button" for="RunKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RunKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RunKwargs-32"><a href="#RunKwargs-32"><span class="linenos">32</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RunKwargs</span><span class="p">(</span><span class="n">LineKwargs</span><span class="p">):</span>
</span><span id="RunKwargs-33"><a href="#RunKwargs-33"><span class="linenos">33</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the run_plot function.&quot;&quot;&quot;</span>
</span><span id="RunKwargs-34"><a href="#RunKwargs-34"><span class="linenos">34</span></a>
</span><span id="RunKwargs-35"><a href="#RunKwargs-35"><span class="linenos">35</span></a>    <span class="n">threshold</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
</span><span id="RunKwargs-36"><a href="#RunKwargs-36"><span class="linenos">36</span></a>    <span class="n">direction</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="RunKwargs-37"><a href="#RunKwargs-37"><span class="linenos">37</span></a>    <span class="n">highlight_color</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span><span id="RunKwargs-38"><a href="#RunKwargs-38"><span class="linenos">38</span></a>    <span class="n">highlight_label</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the run_plot function.</p>
</div>


                            <div id="RunKwargs.threshold" class="classattr">
                                <div class="attr variable">
            <span class="name">threshold</span><span class="annotation">: NotRequired[float]</span>

        
    </div>
    <a class="headerlink" href="#RunKwargs.threshold"></a>
    
    

                            </div>
                            <div id="RunKwargs.direction" class="classattr">
                                <div class="attr variable">
            <span class="name">direction</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#RunKwargs.direction"></a>
    
    

                            </div>
                            <div id="RunKwargs.highlight_color" class="classattr">
                                <div class="attr variable">
            <span class="name">highlight_color</span><span class="annotation">: NotRequired[str | Sequence[str]]</span>

        
    </div>
    <a class="headerlink" href="#RunKwargs.highlight_color"></a>
    
    

                            </div>
                            <div id="RunKwargs.highlight_label" class="classattr">
                                <div class="attr variable">
            <span class="name">highlight_label</span><span class="annotation">: NotRequired[str | Sequence[str]]</span>

        
    </div>
    <a class="headerlink" href="#RunKwargs.highlight_label"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#LineKwargs">LineKwargs</a></dt>
                                <dd id="RunKwargs.ax" class="variable"><a href="#LineKwargs.ax">ax</a></dd>
                <dd id="RunKwargs.style" class="variable"><a href="#LineKwargs.style">style</a></dd>
                <dd id="RunKwargs.width" class="variable"><a href="#LineKwargs.width">width</a></dd>
                <dd id="RunKwargs.color" class="variable"><a href="#LineKwargs.color">color</a></dd>
                <dd id="RunKwargs.alpha" class="variable"><a href="#LineKwargs.alpha">alpha</a></dd>
                <dd id="RunKwargs.drawstyle" class="variable"><a href="#LineKwargs.drawstyle">drawstyle</a></dd>
                <dd id="RunKwargs.marker" class="variable"><a href="#LineKwargs.marker">marker</a></dd>
                <dd id="RunKwargs.markersize" class="variable"><a href="#LineKwargs.markersize">markersize</a></dd>
                <dd id="RunKwargs.dropna" class="variable"><a href="#LineKwargs.dropna">dropna</a></dd>
                <dd id="RunKwargs.annotate" class="variable"><a href="#LineKwargs.annotate">annotate</a></dd>
                <dd id="RunKwargs.rounding" class="variable"><a href="#LineKwargs.rounding">rounding</a></dd>
                <dd id="RunKwargs.fontsize" class="variable"><a href="#LineKwargs.fontsize">fontsize</a></dd>
                <dd id="RunKwargs.fontname" class="variable"><a href="#LineKwargs.fontname">fontname</a></dd>
                <dd id="RunKwargs.rotation" class="variable"><a href="#LineKwargs.rotation">rotation</a></dd>
                <dd id="RunKwargs.annotate_color" class="variable"><a href="#LineKwargs.annotate_color">annotate_color</a></dd>
                <dd id="RunKwargs.plot_from" class="variable"><a href="#LineKwargs.plot_from">plot_from</a></dd>
                <dd id="RunKwargs.label_series" class="variable"><a href="#LineKwargs.label_series">label_series</a></dd>
                <dd id="RunKwargs.max_ticks" class="variable"><a href="#LineKwargs.max_ticks">max_ticks</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SeriesGrowthKwargs">
                            <input id="SeriesGrowthKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SeriesGrowthKwargs</span><wbr>(<span class="base"><a href="#GrowthKwargs">mgplot.GrowthKwargs</a></span>):

                <label class="view-source-button" for="SeriesGrowthKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SeriesGrowthKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SeriesGrowthKwargs-66"><a href="#SeriesGrowthKwargs-66"><span class="linenos">66</span></a><span class="k">class</span><span class="w"> </span><span class="nc">SeriesGrowthKwargs</span><span class="p">(</span><span class="n">GrowthKwargs</span><span class="p">):</span>
</span><span id="SeriesGrowthKwargs-67"><a href="#SeriesGrowthKwargs-67"><span class="linenos">67</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the series_growth_plot function.&quot;&quot;&quot;</span>
</span><span id="SeriesGrowthKwargs-68"><a href="#SeriesGrowthKwargs-68"><span class="linenos">68</span></a>
</span><span id="SeriesGrowthKwargs-69"><a href="#SeriesGrowthKwargs-69"><span class="linenos">69</span></a>    <span class="n">ylabel</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the series_growth_plot function.</p>
</div>


                            <div id="SeriesGrowthKwargs.ylabel" class="classattr">
                                <div class="attr variable">
            <span class="name">ylabel</span><span class="annotation">: NotRequired[str | None]</span>

        
    </div>
    <a class="headerlink" href="#SeriesGrowthKwargs.ylabel"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#GrowthKwargs">GrowthKwargs</a></dt>
                                <dd id="SeriesGrowthKwargs.ax" class="variable"><a href="#GrowthKwargs.ax">ax</a></dd>
                <dd id="SeriesGrowthKwargs.plot_from" class="variable"><a href="#GrowthKwargs.plot_from">plot_from</a></dd>
                <dd id="SeriesGrowthKwargs.label_series" class="variable"><a href="#GrowthKwargs.label_series">label_series</a></dd>
                <dd id="SeriesGrowthKwargs.max_ticks" class="variable"><a href="#GrowthKwargs.max_ticks">max_ticks</a></dd>
                <dd id="SeriesGrowthKwargs.line_width" class="variable"><a href="#GrowthKwargs.line_width">line_width</a></dd>
                <dd id="SeriesGrowthKwargs.line_color" class="variable"><a href="#GrowthKwargs.line_color">line_color</a></dd>
                <dd id="SeriesGrowthKwargs.line_style" class="variable"><a href="#GrowthKwargs.line_style">line_style</a></dd>
                <dd id="SeriesGrowthKwargs.annotate_line" class="variable"><a href="#GrowthKwargs.annotate_line">annotate_line</a></dd>
                <dd id="SeriesGrowthKwargs.line_rounding" class="variable"><a href="#GrowthKwargs.line_rounding">line_rounding</a></dd>
                <dd id="SeriesGrowthKwargs.line_fontsize" class="variable"><a href="#GrowthKwargs.line_fontsize">line_fontsize</a></dd>
                <dd id="SeriesGrowthKwargs.line_fontname" class="variable"><a href="#GrowthKwargs.line_fontname">line_fontname</a></dd>
                <dd id="SeriesGrowthKwargs.line_anno_color" class="variable"><a href="#GrowthKwargs.line_anno_color">line_anno_color</a></dd>
                <dd id="SeriesGrowthKwargs.annotate_bars" class="variable"><a href="#GrowthKwargs.annotate_bars">annotate_bars</a></dd>
                <dd id="SeriesGrowthKwargs.bar_fontsize" class="variable"><a href="#GrowthKwargs.bar_fontsize">bar_fontsize</a></dd>
                <dd id="SeriesGrowthKwargs.bar_fontname" class="variable"><a href="#GrowthKwargs.bar_fontname">bar_fontname</a></dd>
                <dd id="SeriesGrowthKwargs.bar_rounding" class="variable"><a href="#GrowthKwargs.bar_rounding">bar_rounding</a></dd>
                <dd id="SeriesGrowthKwargs.bar_width" class="variable"><a href="#GrowthKwargs.bar_width">bar_width</a></dd>
                <dd id="SeriesGrowthKwargs.bar_color" class="variable"><a href="#GrowthKwargs.bar_color">bar_color</a></dd>
                <dd id="SeriesGrowthKwargs.bar_anno_color" class="variable"><a href="#GrowthKwargs.bar_anno_color">bar_anno_color</a></dd>
                <dd id="SeriesGrowthKwargs.bar_rotation" class="variable"><a href="#GrowthKwargs.bar_rotation">bar_rotation</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SummaryKwargs">
                            <input id="SummaryKwargs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SummaryKwargs</span><wbr>(<span class="base">mgplot.keyword_checking.BaseKwargs</span>):

                <label class="view-source-button" for="SummaryKwargs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SummaryKwargs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SummaryKwargs-41"><a href="#SummaryKwargs-41"><span class="linenos">41</span></a><span class="k">class</span><span class="w"> </span><span class="nc">SummaryKwargs</span><span class="p">(</span><span class="n">BaseKwargs</span><span class="p">):</span>
</span><span id="SummaryKwargs-42"><a href="#SummaryKwargs-42"><span class="linenos">42</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keyword arguments for the summary_plot function.&quot;&quot;&quot;</span>
</span><span id="SummaryKwargs-43"><a href="#SummaryKwargs-43"><span class="linenos">43</span></a>
</span><span id="SummaryKwargs-44"><a href="#SummaryKwargs-44"><span class="linenos">44</span></a>    <span class="n">ax</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="n">Axes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="SummaryKwargs-45"><a href="#SummaryKwargs-45"><span class="linenos">45</span></a>    <span class="n">verbose</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="SummaryKwargs-46"><a href="#SummaryKwargs-46"><span class="linenos">46</span></a>    <span class="n">middle</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
</span><span id="SummaryKwargs-47"><a href="#SummaryKwargs-47"><span class="linenos">47</span></a>    <span class="n">plot_type</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="SummaryKwargs-48"><a href="#SummaryKwargs-48"><span class="linenos">48</span></a>    <span class="n">plot_from</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="n">Period</span><span class="p">]</span>
</span><span id="SummaryKwargs-49"><a href="#SummaryKwargs-49"><span class="linenos">49</span></a>    <span class="n">legend</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="SummaryKwargs-50"><a href="#SummaryKwargs-50"><span class="linenos">50</span></a>    <span class="n">xlabel</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Keyword arguments for the summary_plot function.</p>
</div>


                            <div id="SummaryKwargs.ax" class="classattr">
                                <div class="attr variable">
            <span class="name">ax</span><span class="annotation">: NotRequired[matplotlib.axes._axes.Axes | None]</span>

        
    </div>
    <a class="headerlink" href="#SummaryKwargs.ax"></a>
    
    

                            </div>
                            <div id="SummaryKwargs.verbose" class="classattr">
                                <div class="attr variable">
            <span class="name">verbose</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#SummaryKwargs.verbose"></a>
    
    

                            </div>
                            <div id="SummaryKwargs.middle" class="classattr">
                                <div class="attr variable">
            <span class="name">middle</span><span class="annotation">: NotRequired[float]</span>

        
    </div>
    <a class="headerlink" href="#SummaryKwargs.middle"></a>
    
    

                            </div>
                            <div id="SummaryKwargs.plot_type" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_type</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#SummaryKwargs.plot_type"></a>
    
    

                            </div>
                            <div id="SummaryKwargs.plot_from" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_from</span><span class="annotation">: NotRequired[int | pandas._libs.tslibs.period.Period]</span>

        
    </div>
    <a class="headerlink" href="#SummaryKwargs.plot_from"></a>
    
    

                            </div>
                            <div id="SummaryKwargs.legend" class="classattr">
                                <div class="attr variable">
            <span class="name">legend</span><span class="annotation">: NotRequired[bool | dict[str, Any] | None]</span>

        
    </div>
    <a class="headerlink" href="#SummaryKwargs.legend"></a>
    
    

                            </div>
                            <div id="SummaryKwargs.xlabel" class="classattr">
                                <div class="attr variable">
            <span class="name">xlabel</span><span class="annotation">: NotRequired[str | None]</span>

        
    </div>
    <a class="headerlink" href="#SummaryKwargs.xlabel"></a>
    
    

                            </div>
                </section>
                <section id="__author__">
                    <div class="attr variable">
            <span class="name">__author__</span>        =
<span class="default_value">&#39;Bryan Palmer&#39;</span>

        
    </div>
    <a class="headerlink" href="#__author__"></a>
    
    

                </section>
                <section id="__version__">
                    <div class="attr variable">
            <span class="name">__version__</span>        =
<span class="default_value">&#39;0.2.12&#39;</span>

        
    </div>
    <a class="headerlink" href="#__version__"></a>
    
    

                </section>
                <section id="abbreviate_state">
                            <input id="abbreviate_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">abbreviate_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">state</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="abbreviate_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#abbreviate_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="abbreviate_state-158"><a href="#abbreviate_state-158"><span class="linenos">158</span></a><span class="k">def</span><span class="w"> </span><span class="nf">abbreviate_state</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="abbreviate_state-159"><a href="#abbreviate_state-159"><span class="linenos">159</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Abbreviate long-form state names.</span>
</span><span id="abbreviate_state-160"><a href="#abbreviate_state-160"><span class="linenos">160</span></a>
</span><span id="abbreviate_state-161"><a href="#abbreviate_state-161"><span class="linenos">161</span></a><span class="sd">    Args:</span>
</span><span id="abbreviate_state-162"><a href="#abbreviate_state-162"><span class="linenos">162</span></a><span class="sd">        state: str - the long-form state name.</span>
</span><span id="abbreviate_state-163"><a href="#abbreviate_state-163"><span class="linenos">163</span></a>
</span><span id="abbreviate_state-164"><a href="#abbreviate_state-164"><span class="linenos">164</span></a><span class="sd">    Return the abbreviation for a state name.</span>
</span><span id="abbreviate_state-165"><a href="#abbreviate_state-165"><span class="linenos">165</span></a>
</span><span id="abbreviate_state-166"><a href="#abbreviate_state-166"><span class="linenos">166</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="abbreviate_state-167"><a href="#abbreviate_state-167"><span class="linenos">167</span></a>    <span class="k">return</span> <span class="n">_state_names_multi</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">state</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Abbreviate long-form state names.</p>

<p>Args:
    state: str - the long-form state name.</p>

<p>Return the abbreviation for a state name.</p>
</div>


                </section>
                <section id="bar_plot">
                            <input id="bar_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">bar_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#BarKwargs">BarKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="bar_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#bar_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="bar_plot-210"><a href="#bar_plot-210"><span class="linenos">210</span></a><span class="k">def</span><span class="w"> </span><span class="nf">bar_plot</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">BarKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="bar_plot-211"><a href="#bar_plot-211"><span class="linenos">211</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a bar plot from the given data.</span>
</span><span id="bar_plot-212"><a href="#bar_plot-212"><span class="linenos">212</span></a>
</span><span id="bar_plot-213"><a href="#bar_plot-213"><span class="linenos">213</span></a><span class="sd">    Each column in the DataFrame will be stacked on top of each other,</span>
</span><span id="bar_plot-214"><a href="#bar_plot-214"><span class="linenos">214</span></a><span class="sd">    with positive values above zero and negative values below zero.</span>
</span><span id="bar_plot-215"><a href="#bar_plot-215"><span class="linenos">215</span></a>
</span><span id="bar_plot-216"><a href="#bar_plot-216"><span class="linenos">216</span></a><span class="sd">    Args:</span>
</span><span id="bar_plot-217"><a href="#bar_plot-217"><span class="linenos">217</span></a><span class="sd">        data: Series | DataFrame - The data to plot. Can be a DataFrame or a Series.</span>
</span><span id="bar_plot-218"><a href="#bar_plot-218"><span class="linenos">218</span></a><span class="sd">        **kwargs: BarKwargs - Additional keyword arguments for customization.</span>
</span><span id="bar_plot-219"><a href="#bar_plot-219"><span class="linenos">219</span></a><span class="sd">        (see BarKwargs for details)</span>
</span><span id="bar_plot-220"><a href="#bar_plot-220"><span class="linenos">220</span></a>
</span><span id="bar_plot-221"><a href="#bar_plot-221"><span class="linenos">221</span></a><span class="sd">    Note: This function does not assume all data is timeseries with a PeriodIndex.</span>
</span><span id="bar_plot-222"><a href="#bar_plot-222"><span class="linenos">222</span></a>
</span><span id="bar_plot-223"><a href="#bar_plot-223"><span class="linenos">223</span></a><span class="sd">    Returns:</span>
</span><span id="bar_plot-224"><a href="#bar_plot-224"><span class="linenos">224</span></a><span class="sd">        axes: Axes - The axes for the plot.</span>
</span><span id="bar_plot-225"><a href="#bar_plot-225"><span class="linenos">225</span></a>
</span><span id="bar_plot-226"><a href="#bar_plot-226"><span class="linenos">226</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="bar_plot-227"><a href="#bar_plot-227"><span class="linenos">227</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="bar_plot-228"><a href="#bar_plot-228"><span class="linenos">228</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="bar_plot-229"><a href="#bar_plot-229"><span class="linenos">229</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">BarKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="bar_plot-230"><a href="#bar_plot-230"><span class="linenos">230</span></a>
</span><span id="bar_plot-231"><a href="#bar_plot-231"><span class="linenos">231</span></a>    <span class="c1"># --- get the data</span>
</span><span id="bar_plot-232"><a href="#bar_plot-232"><span class="linenos">232</span></a>    <span class="c1"># no call to check_clean_timeseries here, as bar plots are not</span>
</span><span id="bar_plot-233"><a href="#bar_plot-233"><span class="linenos">233</span></a>    <span class="c1"># necessarily timeseries data. If the data is a Series, it will be</span>
</span><span id="bar_plot-234"><a href="#bar_plot-234"><span class="linenos">234</span></a>    <span class="c1"># converted to a DataFrame with a single column.</span>
</span><span id="bar_plot-235"><a href="#bar_plot-235"><span class="linenos">235</span></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># really we are only plotting DataFrames</span>
</span><span id="bar_plot-236"><a href="#bar_plot-236"><span class="linenos">236</span></a>    <span class="n">df</span><span class="p">,</span> <span class="n">kwargs_d</span> <span class="o">=</span> <span class="n">constrain_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="bar_plot-237"><a href="#bar_plot-237"><span class="linenos">237</span></a>    <span class="n">item_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</span><span id="bar_plot-238"><a href="#bar_plot-238"><span class="linenos">238</span></a>
</span><span id="bar_plot-239"><a href="#bar_plot-239"><span class="linenos">239</span></a>    <span class="c1"># --- deal with complete PeriodIndex indices</span>
</span><span id="bar_plot-240"><a href="#bar_plot-240"><span class="linenos">240</span></a>    <span class="n">saved_pi</span> <span class="o">=</span> <span class="n">map_periodindex</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span><span id="bar_plot-241"><a href="#bar_plot-241"><span class="linenos">241</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="bar_plot-242"><a href="#bar_plot-242"><span class="linenos">242</span></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># extract the reindexed DataFrame from the PeriodIndex</span>
</span><span id="bar_plot-243"><a href="#bar_plot-243"><span class="linenos">243</span></a>
</span><span id="bar_plot-244"><a href="#bar_plot-244"><span class="linenos">244</span></a>    <span class="c1"># --- set up the default arguments</span>
</span><span id="bar_plot-245"><a href="#bar_plot-245"><span class="linenos">245</span></a>    <span class="n">chart_defaults</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="bar_plot-246"><a href="#bar_plot-246"><span class="linenos">246</span></a>        <span class="s2">&quot;stacked&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="bar_plot-247"><a href="#bar_plot-247"><span class="linenos">247</span></a>        <span class="s2">&quot;max_ticks&quot;</span><span class="p">:</span> <span class="n">DEFAULT_MAX_TICKS</span><span class="p">,</span>
</span><span id="bar_plot-248"><a href="#bar_plot-248"><span class="linenos">248</span></a>        <span class="s2">&quot;label_series&quot;</span><span class="p">:</span> <span class="n">item_count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="bar_plot-249"><a href="#bar_plot-249"><span class="linenos">249</span></a>        <span class="s2">&quot;xlabel_rotation&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="bar_plot-250"><a href="#bar_plot-250"><span class="linenos">250</span></a>    <span class="p">}</span>
</span><span id="bar_plot-251"><a href="#bar_plot-251"><span class="linenos">251</span></a>    <span class="n">chart_args</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">chart_defaults</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="bar_plot-252"><a href="#bar_plot-252"><span class="linenos">252</span></a>
</span><span id="bar_plot-253"><a href="#bar_plot-253"><span class="linenos">253</span></a>    <span class="n">bar_defaults</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="bar_plot-254"><a href="#bar_plot-254"><span class="linenos">254</span></a>        <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="n">get_color_list</span><span class="p">(</span><span class="n">item_count</span><span class="p">),</span>
</span><span id="bar_plot-255"><a href="#bar_plot-255"><span class="linenos">255</span></a>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;bar_width&quot;</span><span class="p">),</span>
</span><span id="bar_plot-256"><a href="#bar_plot-256"><span class="linenos">256</span></a>        <span class="s2">&quot;label_series&quot;</span><span class="p">:</span> <span class="n">item_count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="bar_plot-257"><a href="#bar_plot-257"><span class="linenos">257</span></a>    <span class="p">}</span>
</span><span id="bar_plot-258"><a href="#bar_plot-258"><span class="linenos">258</span></a>    <span class="n">above</span> <span class="o">=</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;above&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="bar_plot-259"><a href="#bar_plot-259"><span class="linenos">259</span></a>    <span class="n">anno_args</span><span class="p">:</span> <span class="n">AnnoKwargs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="bar_plot-260"><a href="#bar_plot-260"><span class="linenos">260</span></a>        <span class="s2">&quot;annotate&quot;</span><span class="p">:</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;annotate&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
</span><span id="bar_plot-261"><a href="#bar_plot-261"><span class="linenos">261</span></a>        <span class="s2">&quot;fontsize&quot;</span><span class="p">:</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fontsize&quot;</span><span class="p">,</span> <span class="s2">&quot;small&quot;</span><span class="p">),</span>
</span><span id="bar_plot-262"><a href="#bar_plot-262"><span class="linenos">262</span></a>        <span class="s2">&quot;fontname&quot;</span><span class="p">:</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fontname&quot;</span><span class="p">,</span> <span class="s2">&quot;Helvetica&quot;</span><span class="p">),</span>
</span><span id="bar_plot-263"><a href="#bar_plot-263"><span class="linenos">263</span></a>        <span class="s2">&quot;rotation&quot;</span><span class="p">:</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rotation&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="bar_plot-264"><a href="#bar_plot-264"><span class="linenos">264</span></a>        <span class="s2">&quot;rounding&quot;</span><span class="p">:</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rounding&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
</span><span id="bar_plot-265"><a href="#bar_plot-265"><span class="linenos">265</span></a>        <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;annotate_color&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span> <span class="k">if</span> <span class="n">above</span> <span class="k">else</span> <span class="s2">&quot;white&quot;</span><span class="p">),</span>
</span><span id="bar_plot-266"><a href="#bar_plot-266"><span class="linenos">266</span></a>        <span class="s2">&quot;above&quot;</span><span class="p">:</span> <span class="n">above</span><span class="p">,</span>
</span><span id="bar_plot-267"><a href="#bar_plot-267"><span class="linenos">267</span></a>    <span class="p">}</span>
</span><span id="bar_plot-268"><a href="#bar_plot-268"><span class="linenos">268</span></a>    <span class="n">bar_args</span><span class="p">,</span> <span class="n">remaining_kwargs</span> <span class="o">=</span> <span class="n">apply_defaults</span><span class="p">(</span><span class="n">item_count</span><span class="p">,</span> <span class="n">bar_defaults</span><span class="p">,</span> <span class="n">kwargs_d</span><span class="p">)</span>
</span><span id="bar_plot-269"><a href="#bar_plot-269"><span class="linenos">269</span></a>
</span><span id="bar_plot-270"><a href="#bar_plot-270"><span class="linenos">270</span></a>    <span class="c1"># --- plot the data</span>
</span><span id="bar_plot-271"><a href="#bar_plot-271"><span class="linenos">271</span></a>    <span class="n">axes</span><span class="p">,</span> <span class="n">remaining_kwargs</span> <span class="o">=</span> <span class="n">get_axes</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">remaining_kwargs</span><span class="p">))</span>
</span><span id="bar_plot-272"><a href="#bar_plot-272"><span class="linenos">272</span></a>    <span class="k">if</span> <span class="n">chart_args</span><span class="p">[</span><span class="s2">&quot;stacked&quot;</span><span class="p">]:</span>
</span><span id="bar_plot-273"><a href="#bar_plot-273"><span class="linenos">273</span></a>        <span class="n">stacked</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">anno_args</span><span class="p">,</span> <span class="o">**</span><span class="n">bar_args</span><span class="p">)</span>
</span><span id="bar_plot-274"><a href="#bar_plot-274"><span class="linenos">274</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="bar_plot-275"><a href="#bar_plot-275"><span class="linenos">275</span></a>        <span class="n">grouped</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">anno_args</span><span class="p">,</span> <span class="o">**</span><span class="n">bar_args</span><span class="p">)</span>
</span><span id="bar_plot-276"><a href="#bar_plot-276"><span class="linenos">276</span></a>
</span><span id="bar_plot-277"><a href="#bar_plot-277"><span class="linenos">277</span></a>    <span class="c1"># --- handle complete periodIndex data and label rotation</span>
</span><span id="bar_plot-278"><a href="#bar_plot-278"><span class="linenos">278</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="bar_plot-279"><a href="#bar_plot-279"><span class="linenos">279</span></a>        <span class="n">set_labels</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">chart_args</span><span class="p">[</span><span class="s2">&quot;max_ticks&quot;</span><span class="p">])</span>
</span><span id="bar_plot-280"><a href="#bar_plot-280"><span class="linenos">280</span></a>    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="n">chart_args</span><span class="p">[</span><span class="s2">&quot;xlabel_rotation&quot;</span><span class="p">])</span>
</span><span id="bar_plot-281"><a href="#bar_plot-281"><span class="linenos">281</span></a>
</span><span id="bar_plot-282"><a href="#bar_plot-282"><span class="linenos">282</span></a>    <span class="k">return</span> <span class="n">axes</span>
</span></pre></div>


            <div class="docstring"><p>Create a bar plot from the given data.</p>

<p>Each column in the DataFrame will be stacked on top of each other,
with positive values above zero and negative values below zero.</p>

<p>Args:
    data: Series | DataFrame - The data to plot. Can be a DataFrame or a Series.
    **kwargs: BarKwargs - Additional keyword arguments for customization.
    (see BarKwargs for details)</p>

<p>Note: This function does not assume all data is timeseries with a PeriodIndex.</p>

<p>Returns:
    axes: Axes - The axes for the plot.</p>
</div>


                </section>
                <section id="bar_plot_finalise">
                            <input id="bar_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">bar_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">BPFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="bar_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#bar_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="bar_plot_finalise-132"><a href="#bar_plot_finalise-132"><span class="linenos">132</span></a><span class="k">def</span><span class="w"> </span><span class="nf">bar_plot_finalise</span><span class="p">(</span>
</span><span id="bar_plot_finalise-133"><a href="#bar_plot_finalise-133"><span class="linenos">133</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="bar_plot_finalise-134"><a href="#bar_plot_finalise-134"><span class="linenos">134</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">BPFKwargs</span><span class="p">],</span>
</span><span id="bar_plot_finalise-135"><a href="#bar_plot_finalise-135"><span class="linenos">135</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="bar_plot_finalise-136"><a href="#bar_plot_finalise-136"><span class="linenos">136</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call bar_plot() and finalise_plot().</span>
</span><span id="bar_plot_finalise-137"><a href="#bar_plot_finalise-137"><span class="linenos">137</span></a>
</span><span id="bar_plot_finalise-138"><a href="#bar_plot_finalise-138"><span class="linenos">138</span></a><span class="sd">    Args:</span>
</span><span id="bar_plot_finalise-139"><a href="#bar_plot_finalise-139"><span class="linenos">139</span></a><span class="sd">        data: The data to be plotted.</span>
</span><span id="bar_plot_finalise-140"><a href="#bar_plot_finalise-140"><span class="linenos">140</span></a><span class="sd">        kwargs: Combined bar plot and finalise plot keyword arguments.</span>
</span><span id="bar_plot_finalise-141"><a href="#bar_plot_finalise-141"><span class="linenos">141</span></a>
</span><span id="bar_plot_finalise-142"><a href="#bar_plot_finalise-142"><span class="linenos">142</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="bar_plot_finalise-143"><a href="#bar_plot_finalise-143"><span class="linenos">143</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">BPFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;bar_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="bar_plot_finalise-144"><a href="#bar_plot_finalise-144"><span class="linenos">144</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</span><span id="bar_plot_finalise-145"><a href="#bar_plot_finalise-145"><span class="linenos">145</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span>
</span><span id="bar_plot_finalise-146"><a href="#bar_plot_finalise-146"><span class="linenos">146</span></a>        <span class="n">data</span><span class="p">,</span>
</span><span id="bar_plot_finalise-147"><a href="#bar_plot_finalise-147"><span class="linenos">147</span></a>        <span class="n">function</span><span class="o">=</span><span class="n">bar_plot</span><span class="p">,</span>
</span><span id="bar_plot_finalise-148"><a href="#bar_plot_finalise-148"><span class="linenos">148</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="bar_plot_finalise-149"><a href="#bar_plot_finalise-149"><span class="linenos">149</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call bar_plot() and finalise_plot().</p>

<p>Args:
    data: The data to be plotted.
    kwargs: Combined bar plot and finalise plot keyword arguments.</p>
</div>


                </section>
                <section id="calc_growth">
                            <input id="calc_growth-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">calc_growth</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">series</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="calc_growth-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#calc_growth"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="calc_growth-111"><a href="#calc_growth-111"><span class="linenos">111</span></a><span class="k">def</span><span class="w"> </span><span class="nf">calc_growth</span><span class="p">(</span><span class="n">series</span><span class="p">:</span> <span class="n">Series</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataFrame</span><span class="p">:</span>
</span><span id="calc_growth-112"><a href="#calc_growth-112"><span class="linenos">112</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate annual and periodic growth for a pandas Series.</span>
</span><span id="calc_growth-113"><a href="#calc_growth-113"><span class="linenos">113</span></a>
</span><span id="calc_growth-114"><a href="#calc_growth-114"><span class="linenos">114</span></a><span class="sd">    Args:</span>
</span><span id="calc_growth-115"><a href="#calc_growth-115"><span class="linenos">115</span></a><span class="sd">        series: Series - a pandas series with a date-like PeriodIndex.</span>
</span><span id="calc_growth-116"><a href="#calc_growth-116"><span class="linenos">116</span></a>
</span><span id="calc_growth-117"><a href="#calc_growth-117"><span class="linenos">117</span></a><span class="sd">    Returns:</span>
</span><span id="calc_growth-118"><a href="#calc_growth-118"><span class="linenos">118</span></a><span class="sd">        DataFrame: A two column DataFrame with annual and periodic growth rates.</span>
</span><span id="calc_growth-119"><a href="#calc_growth-119"><span class="linenos">119</span></a>
</span><span id="calc_growth-120"><a href="#calc_growth-120"><span class="linenos">120</span></a><span class="sd">    Raises:</span>
</span><span id="calc_growth-121"><a href="#calc_growth-121"><span class="linenos">121</span></a><span class="sd">        TypeError if the series is not a pandas Series.</span>
</span><span id="calc_growth-122"><a href="#calc_growth-122"><span class="linenos">122</span></a><span class="sd">        TypeError if the series index is not a PeriodIndex.</span>
</span><span id="calc_growth-123"><a href="#calc_growth-123"><span class="linenos">123</span></a><span class="sd">        ValueError if the series is empty.</span>
</span><span id="calc_growth-124"><a href="#calc_growth-124"><span class="linenos">124</span></a><span class="sd">        ValueError if the series index does not have a frequency of Q, M, or D.</span>
</span><span id="calc_growth-125"><a href="#calc_growth-125"><span class="linenos">125</span></a><span class="sd">        ValueError if the series index has duplicates.</span>
</span><span id="calc_growth-126"><a href="#calc_growth-126"><span class="linenos">126</span></a>
</span><span id="calc_growth-127"><a href="#calc_growth-127"><span class="linenos">127</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="calc_growth-128"><a href="#calc_growth-128"><span class="linenos">128</span></a>    <span class="c1"># --- sanity checks</span>
</span><span id="calc_growth-129"><a href="#calc_growth-129"><span class="linenos">129</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">Series</span><span class="p">):</span>
</span><span id="calc_growth-130"><a href="#calc_growth-130"><span class="linenos">130</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The series argument must be a pandas Series&quot;</span><span class="p">)</span>
</span><span id="calc_growth-131"><a href="#calc_growth-131"><span class="linenos">131</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">PeriodIndex</span><span class="p">):</span>
</span><span id="calc_growth-132"><a href="#calc_growth-132"><span class="linenos">132</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The series index must be a pandas PeriodIndex&quot;</span><span class="p">)</span>
</span><span id="calc_growth-133"><a href="#calc_growth-133"><span class="linenos">133</span></a>    <span class="k">if</span> <span class="n">series</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="calc_growth-134"><a href="#calc_growth-134"><span class="linenos">134</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The series argument must not be empty&quot;</span><span class="p">)</span>
</span><span id="calc_growth-135"><a href="#calc_growth-135"><span class="linenos">135</span></a>    <span class="n">freq</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">freqstr</span>
</span><span id="calc_growth-136"><a href="#calc_growth-136"><span class="linenos">136</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">freq</span> <span class="ow">or</span> <span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">FREQUENCY_TO_PERIODS</span><span class="p">:</span>
</span><span id="calc_growth-137"><a href="#calc_growth-137"><span class="linenos">137</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The series index must have a frequency of Q, M, or D&quot;</span><span class="p">)</span>
</span><span id="calc_growth-138"><a href="#calc_growth-138"><span class="linenos">138</span></a>    <span class="k">if</span> <span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">has_duplicates</span><span class="p">:</span>
</span><span id="calc_growth-139"><a href="#calc_growth-139"><span class="linenos">139</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The series index must not have duplicate values&quot;</span><span class="p">)</span>
</span><span id="calc_growth-140"><a href="#calc_growth-140"><span class="linenos">140</span></a>
</span><span id="calc_growth-141"><a href="#calc_growth-141"><span class="linenos">141</span></a>    <span class="c1"># --- ensure the index is complete and the date is sorted</span>
</span><span id="calc_growth-142"><a href="#calc_growth-142"><span class="linenos">142</span></a>    <span class="n">complete</span> <span class="o">=</span> <span class="n">period_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">end</span><span class="o">=</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</span><span id="calc_growth-143"><a href="#calc_growth-143"><span class="linenos">143</span></a>    <span class="n">series</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">complete</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">nan</span><span class="p">)</span>
</span><span id="calc_growth-144"><a href="#calc_growth-144"><span class="linenos">144</span></a>    <span class="n">series</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="calc_growth-145"><a href="#calc_growth-145"><span class="linenos">145</span></a>
</span><span id="calc_growth-146"><a href="#calc_growth-146"><span class="linenos">146</span></a>    <span class="c1"># --- calculate annual and periodic growth</span>
</span><span id="calc_growth-147"><a href="#calc_growth-147"><span class="linenos">147</span></a>    <span class="n">freq</span> <span class="o">=</span> <span class="n">PeriodIndex</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">freqstr</span>
</span><span id="calc_growth-148"><a href="#calc_growth-148"><span class="linenos">148</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">freq</span> <span class="ow">or</span> <span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">FREQUENCY_TO_PERIODS</span><span class="p">:</span>
</span><span id="calc_growth-149"><a href="#calc_growth-149"><span class="linenos">149</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The series index must have a frequency of Q, M, or D&quot;</span><span class="p">)</span>
</span><span id="calc_growth-150"><a href="#calc_growth-150"><span class="linenos">150</span></a>
</span><span id="calc_growth-151"><a href="#calc_growth-151"><span class="linenos">151</span></a>    <span class="n">freq_key</span> <span class="o">=</span> <span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="calc_growth-152"><a href="#calc_growth-152"><span class="linenos">152</span></a>    <span class="n">ppy</span> <span class="o">=</span> <span class="n">FREQUENCY_TO_PERIODS</span><span class="p">[</span><span class="n">freq_key</span><span class="p">]</span>
</span><span id="calc_growth-153"><a href="#calc_growth-153"><span class="linenos">153</span></a>    <span class="n">annual</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">pct_change</span><span class="p">(</span><span class="n">periods</span><span class="o">=</span><span class="n">ppy</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="calc_growth-154"><a href="#calc_growth-154"><span class="linenos">154</span></a>    <span class="n">periodic</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">pct_change</span><span class="p">(</span><span class="n">periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="calc_growth-155"><a href="#calc_growth-155"><span class="linenos">155</span></a>    <span class="n">periodic_name</span> <span class="o">=</span> <span class="n">FREQUENCY_TO_NAME</span><span class="p">[</span><span class="n">freq_key</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; Growth&quot;</span>
</span><span id="calc_growth-156"><a href="#calc_growth-156"><span class="linenos">156</span></a>    <span class="k">return</span> <span class="n">DataFrame</span><span class="p">(</span>
</span><span id="calc_growth-157"><a href="#calc_growth-157"><span class="linenos">157</span></a>        <span class="p">{</span>
</span><span id="calc_growth-158"><a href="#calc_growth-158"><span class="linenos">158</span></a>            <span class="s2">&quot;Annual Growth&quot;</span><span class="p">:</span> <span class="n">annual</span><span class="p">,</span>
</span><span id="calc_growth-159"><a href="#calc_growth-159"><span class="linenos">159</span></a>            <span class="n">periodic_name</span><span class="p">:</span> <span class="n">periodic</span><span class="p">,</span>
</span><span id="calc_growth-160"><a href="#calc_growth-160"><span class="linenos">160</span></a>        <span class="p">},</span>
</span><span id="calc_growth-161"><a href="#calc_growth-161"><span class="linenos">161</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate annual and periodic growth for a pandas Series.</p>

<p>Args:
    series: Series - a pandas series with a date-like PeriodIndex.</p>

<p>Returns:
    DataFrame: A two column DataFrame with annual and periodic growth rates.</p>

<p>Raises:
    TypeError if the series is not a pandas Series.
    TypeError if the series index is not a PeriodIndex.
    ValueError if the series is empty.
    ValueError if the series index does not have a frequency of Q, M, or D.
    ValueError if the series index has duplicates.</p>
</div>


                </section>
                <section id="clear_chart_dir">
                            <input id="clear_chart_dir-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear_chart_dir</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="clear_chart_dir-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#clear_chart_dir"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="clear_chart_dir-146"><a href="#clear_chart_dir-146"><span class="linenos">146</span></a><span class="k">def</span><span class="w"> </span><span class="nf">clear_chart_dir</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="clear_chart_dir-147"><a href="#clear_chart_dir-147"><span class="linenos">147</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove all graph-image files from the global chart_dir.&quot;&quot;&quot;</span>
</span><span id="clear_chart_dir-148"><a href="#clear_chart_dir-148"><span class="linenos">148</span></a>    <span class="n">chart_dir</span> <span class="o">=</span> <span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;chart_dir&quot;</span><span class="p">)</span>
</span><span id="clear_chart_dir-149"><a href="#clear_chart_dir-149"><span class="linenos">149</span></a>    <span class="n">Path</span><span class="p">(</span><span class="n">chart_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="clear_chart_dir-150"><a href="#clear_chart_dir-150"><span class="linenos">150</span></a>    <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">IMAGE_EXTENSIONS</span><span class="p">:</span>
</span><span id="clear_chart_dir-151"><a href="#clear_chart_dir-151"><span class="linenos">151</span></a>        <span class="k">for</span> <span class="n">fs_object</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="n">chart_dir</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;*.</span><span class="si">{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="clear_chart_dir-152"><a href="#clear_chart_dir-152"><span class="linenos">152</span></a>            <span class="k">if</span> <span class="n">fs_object</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
</span><span id="clear_chart_dir-153"><a href="#clear_chart_dir-153"><span class="linenos">153</span></a>                <span class="n">fs_object</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Remove all graph-image files from the global chart_dir.</p>
</div>


                </section>
                <section id="colorise_list">
                            <input id="colorise_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">colorise_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">party_list</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="colorise_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#colorise_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="colorise_list-103"><a href="#colorise_list-103"><span class="linenos">103</span></a><span class="k">def</span><span class="w"> </span><span class="nf">colorise_list</span><span class="p">(</span><span class="n">party_list</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="colorise_list-104"><a href="#colorise_list-104"><span class="linenos">104</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list of party/state colors for a party_list.&quot;&quot;&quot;</span>
</span><span id="colorise_list-105"><a href="#colorise_list-105"><span class="linenos">105</span></a>    <span class="k">return</span> <span class="p">[</span><span class="n">get_color</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">party_list</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Return a list of party/state colors for a party_list.</p>
</div>


                </section>
                <section id="contrast">
                            <input id="contrast-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">contrast</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">orig_color</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="contrast-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#contrast"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="contrast-108"><a href="#contrast-108"><span class="linenos">108</span></a><span class="k">def</span><span class="w"> </span><span class="nf">contrast</span><span class="p">(</span><span class="n">orig_color</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="contrast-109"><a href="#contrast-109"><span class="linenos">109</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide a contrasting color to any party color.&quot;&quot;&quot;</span>
</span><span id="contrast-110"><a href="#contrast-110"><span class="linenos">110</span></a>    <span class="n">new_color</span> <span class="o">=</span> <span class="n">DEFAULT_CONTRAST_COLOR</span>
</span><span id="contrast-111"><a href="#contrast-111"><span class="linenos">111</span></a>    <span class="k">match</span> <span class="n">orig_color</span><span class="p">:</span>
</span><span id="contrast-112"><a href="#contrast-112"><span class="linenos">112</span></a>        <span class="k">case</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">:</span>
</span><span id="contrast-113"><a href="#contrast-113"><span class="linenos">113</span></a>            <span class="n">new_color</span> <span class="o">=</span> <span class="s2">&quot;indianred&quot;</span>
</span><span id="contrast-114"><a href="#contrast-114"><span class="linenos">114</span></a>        <span class="k">case</span> <span class="s2">&quot;indianred&quot;</span><span class="p">:</span>
</span><span id="contrast-115"><a href="#contrast-115"><span class="linenos">115</span></a>            <span class="n">new_color</span> <span class="o">=</span> <span class="s2">&quot;royalblue&quot;</span>
</span><span id="contrast-116"><a href="#contrast-116"><span class="linenos">116</span></a>
</span><span id="contrast-117"><a href="#contrast-117"><span class="linenos">117</span></a>        <span class="k">case</span> <span class="s2">&quot;darkorange&quot;</span><span class="p">:</span>
</span><span id="contrast-118"><a href="#contrast-118"><span class="linenos">118</span></a>            <span class="n">new_color</span> <span class="o">=</span> <span class="s2">&quot;mediumblue&quot;</span>
</span><span id="contrast-119"><a href="#contrast-119"><span class="linenos">119</span></a>        <span class="k">case</span> <span class="s2">&quot;mediumblue&quot;</span><span class="p">:</span>
</span><span id="contrast-120"><a href="#contrast-120"><span class="linenos">120</span></a>            <span class="n">new_color</span> <span class="o">=</span> <span class="s2">&quot;darkorange&quot;</span>
</span><span id="contrast-121"><a href="#contrast-121"><span class="linenos">121</span></a>
</span><span id="contrast-122"><a href="#contrast-122"><span class="linenos">122</span></a>        <span class="k">case</span> <span class="s2">&quot;seagreen&quot;</span><span class="p">:</span>
</span><span id="contrast-123"><a href="#contrast-123"><span class="linenos">123</span></a>            <span class="n">new_color</span> <span class="o">=</span> <span class="s2">&quot;darkblue&quot;</span>
</span><span id="contrast-124"><a href="#contrast-124"><span class="linenos">124</span></a>
</span><span id="contrast-125"><a href="#contrast-125"><span class="linenos">125</span></a>        <span class="k">case</span> <span class="n">color</span> <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="n">DEFAULT_UNKNOWN_COLOR</span><span class="p">:</span>
</span><span id="contrast-126"><a href="#contrast-126"><span class="linenos">126</span></a>            <span class="n">new_color</span> <span class="o">=</span> <span class="s2">&quot;hotpink&quot;</span>
</span><span id="contrast-127"><a href="#contrast-127"><span class="linenos">127</span></a>
</span><span id="contrast-128"><a href="#contrast-128"><span class="linenos">128</span></a>    <span class="k">return</span> <span class="n">new_color</span>
</span></pre></div>


            <div class="docstring"><p>Provide a contrasting color to any party color.</p>
</div>


                </section>
                <section id="finalise_plot">
                            <input id="finalise_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">finalise_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">axes</span><span class="p">:</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#FinaliseKwargs">FinaliseKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="finalise_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#finalise_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="finalise_plot-338"><a href="#finalise_plot-338"><span class="linenos">338</span></a><span class="k">def</span><span class="w"> </span><span class="nf">finalise_plot</span><span class="p">(</span><span class="n">axes</span><span class="p">:</span> <span class="n">Axes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">FinaliseKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="finalise_plot-339"><a href="#finalise_plot-339"><span class="linenos">339</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Finalise and save plots to the file system.</span>
</span><span id="finalise_plot-340"><a href="#finalise_plot-340"><span class="linenos">340</span></a>
</span><span id="finalise_plot-341"><a href="#finalise_plot-341"><span class="linenos">341</span></a><span class="sd">    The filename for the saved plot is constructed from the global</span>
</span><span id="finalise_plot-342"><a href="#finalise_plot-342"><span class="linenos">342</span></a><span class="sd">    chart_dir, the plot&#39;s title, any specified tag text, and the</span>
</span><span id="finalise_plot-343"><a href="#finalise_plot-343"><span class="linenos">343</span></a><span class="sd">    file_type for the plot.</span>
</span><span id="finalise_plot-344"><a href="#finalise_plot-344"><span class="linenos">344</span></a>
</span><span id="finalise_plot-345"><a href="#finalise_plot-345"><span class="linenos">345</span></a><span class="sd">    Args:</span>
</span><span id="finalise_plot-346"><a href="#finalise_plot-346"><span class="linenos">346</span></a><span class="sd">        axes: Axes - matplotlib axes object - required</span>
</span><span id="finalise_plot-347"><a href="#finalise_plot-347"><span class="linenos">347</span></a><span class="sd">        kwargs: FinaliseKwargs</span>
</span><span id="finalise_plot-348"><a href="#finalise_plot-348"><span class="linenos">348</span></a>
</span><span id="finalise_plot-349"><a href="#finalise_plot-349"><span class="linenos">349</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="finalise_plot-350"><a href="#finalise_plot-350"><span class="linenos">350</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="finalise_plot-351"><a href="#finalise_plot-351"><span class="linenos">351</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="finalise_plot-352"><a href="#finalise_plot-352"><span class="linenos">352</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">FinaliseKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="finalise_plot-353"><a href="#finalise_plot-353"><span class="linenos">353</span></a>
</span><span id="finalise_plot-354"><a href="#finalise_plot-354"><span class="linenos">354</span></a>    <span class="c1"># --- sanity checks</span>
</span><span id="finalise_plot-355"><a href="#finalise_plot-355"><span class="linenos">355</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="o">.</span><span class="n">get_children</span><span class="p">())</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="finalise_plot-356"><a href="#finalise_plot-356"><span class="linenos">356</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: </span><span class="si">{</span><span class="n">ME</span><span class="si">}</span><span class="s2">() called with an empty axes, which was ignored.&quot;</span><span class="p">)</span>
</span><span id="finalise_plot-357"><a href="#finalise_plot-357"><span class="linenos">357</span></a>        <span class="k">return</span>
</span><span id="finalise_plot-358"><a href="#finalise_plot-358"><span class="linenos">358</span></a>
</span><span id="finalise_plot-359"><a href="#finalise_plot-359"><span class="linenos">359</span></a>    <span class="c1"># --- remember axis-limits should we need to restore thems</span>
</span><span id="finalise_plot-360"><a href="#finalise_plot-360"><span class="linenos">360</span></a>    <span class="n">xlim</span><span class="p">,</span> <span class="n">ylim</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">(),</span> <span class="n">axes</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>
</span><span id="finalise_plot-361"><a href="#finalise_plot-361"><span class="linenos">361</span></a>
</span><span id="finalise_plot-362"><a href="#finalise_plot-362"><span class="linenos">362</span></a>    <span class="c1"># margins</span>
</span><span id="finalise_plot-363"><a href="#finalise_plot-363"><span class="linenos">363</span></a>    <span class="n">axes</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="n">DEFAULT_MARGIN</span><span class="p">)</span>
</span><span id="finalise_plot-364"><a href="#finalise_plot-364"><span class="linenos">364</span></a>    <span class="n">axes</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="n">tight</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># This is problematic ...</span>
</span><span id="finalise_plot-365"><a href="#finalise_plot-365"><span class="linenos">365</span></a>
</span><span id="finalise_plot-366"><a href="#finalise_plot-366"><span class="linenos">366</span></a>    <span class="n">apply_kwargs</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="finalise_plot-367"><a href="#finalise_plot-367"><span class="linenos">367</span></a>
</span><span id="finalise_plot-368"><a href="#finalise_plot-368"><span class="linenos">368</span></a>    <span class="c1"># tight layout and save the figure</span>
</span><span id="finalise_plot-369"><a href="#finalise_plot-369"><span class="linenos">369</span></a>    <span class="n">fig</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">figure</span>
</span><span id="finalise_plot-370"><a href="#finalise_plot-370"><span class="linenos">370</span></a>    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;preserve_lims&quot;</span><span class="p">):</span>
</span><span id="finalise_plot-371"><a href="#finalise_plot-371"><span class="linenos">371</span></a>        <span class="c1"># restore the original limits of the axes</span>
</span><span id="finalise_plot-372"><a href="#finalise_plot-372"><span class="linenos">372</span></a>        <span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">xlim</span><span class="p">)</span>
</span><span id="finalise_plot-373"><a href="#finalise_plot-373"><span class="linenos">373</span></a>        <span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ylim</span><span class="p">)</span>
</span><span id="finalise_plot-374"><a href="#finalise_plot-374"><span class="linenos">374</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">SubFigure</span><span class="p">):</span>
</span><span id="finalise_plot-375"><a href="#finalise_plot-375"><span class="linenos">375</span></a>        <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="n">TIGHT_LAYOUT_PAD</span><span class="p">)</span>
</span><span id="finalise_plot-376"><a href="#finalise_plot-376"><span class="linenos">376</span></a>    <span class="n">apply_late_kwargs</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="finalise_plot-377"><a href="#finalise_plot-377"><span class="linenos">377</span></a>    <span class="n">legend</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span>
</span><span id="finalise_plot-378"><a href="#finalise_plot-378"><span class="linenos">378</span></a>    <span class="k">if</span> <span class="n">legend</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;remove_legend&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="finalise_plot-379"><a href="#finalise_plot-379"><span class="linenos">379</span></a>        <span class="n">legend</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
</span><span id="finalise_plot-380"><a href="#finalise_plot-380"><span class="linenos">380</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">SubFigure</span><span class="p">):</span>
</span><span id="finalise_plot-381"><a href="#finalise_plot-381"><span class="linenos">381</span></a>        <span class="n">save_to_file</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="finalise_plot-382"><a href="#finalise_plot-382"><span class="linenos">382</span></a>
</span><span id="finalise_plot-383"><a href="#finalise_plot-383"><span class="linenos">383</span></a>    <span class="c1"># show the plot in Jupyter Lab</span>
</span><span id="finalise_plot-384"><a href="#finalise_plot-384"><span class="linenos">384</span></a>    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show&quot;</span><span class="p">):</span>
</span><span id="finalise_plot-385"><a href="#finalise_plot-385"><span class="linenos">385</span></a>        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="finalise_plot-386"><a href="#finalise_plot-386"><span class="linenos">386</span></a>
</span><span id="finalise_plot-387"><a href="#finalise_plot-387"><span class="linenos">387</span></a>    <span class="c1"># And close</span>
</span><span id="finalise_plot-388"><a href="#finalise_plot-388"><span class="linenos">388</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dont_close&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="finalise_plot-389"><a href="#finalise_plot-389"><span class="linenos">389</span></a>        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Finalise and save plots to the file system.</p>

<p>The filename for the saved plot is constructed from the global
chart_dir, the plot's title, any specified tag text, and the
file_type for the plot.</p>

<p>Args:
    axes: Axes - matplotlib axes object - required
    kwargs: FinaliseKwargs</p>
</div>


                </section>
                <section id="get_color">
                            <input id="get_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">s</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="get_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_color-45"><a href="#get_color-45"><span class="linenos"> 45</span></a><span class="k">def</span><span class="w"> </span><span class="nf">get_color</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="get_color-46"><a href="#get_color-46"><span class="linenos"> 46</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a matplotlib color for a party label or an Australian state/territory.</span>
</span><span id="get_color-47"><a href="#get_color-47"><span class="linenos"> 47</span></a>
</span><span id="get_color-48"><a href="#get_color-48"><span class="linenos"> 48</span></a><span class="sd">    Args:</span>
</span><span id="get_color-49"><a href="#get_color-49"><span class="linenos"> 49</span></a><span class="sd">        s: str - the party label or Australian state/territory name.</span>
</span><span id="get_color-50"><a href="#get_color-50"><span class="linenos"> 50</span></a>
</span><span id="get_color-51"><a href="#get_color-51"><span class="linenos"> 51</span></a><span class="sd">    Returns a color string that can be used in matplotlib plots.</span>
</span><span id="get_color-52"><a href="#get_color-52"><span class="linenos"> 52</span></a>
</span><span id="get_color-53"><a href="#get_color-53"><span class="linenos"> 53</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_color-54"><a href="#get_color-54"><span class="linenos"> 54</span></a>    <span class="c1"># Flattened color map for better readability</span>
</span><span id="get_color-55"><a href="#get_color-55"><span class="linenos"> 55</span></a>    <span class="n">color_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="get_color-56"><a href="#get_color-56"><span class="linenos"> 56</span></a>        <span class="c1"># --- Australian states and territories</span>
</span><span id="get_color-57"><a href="#get_color-57"><span class="linenos"> 57</span></a>        <span class="s2">&quot;wa&quot;</span><span class="p">:</span> <span class="s2">&quot;gold&quot;</span><span class="p">,</span>
</span><span id="get_color-58"><a href="#get_color-58"><span class="linenos"> 58</span></a>        <span class="s2">&quot;western australia&quot;</span><span class="p">:</span> <span class="s2">&quot;gold&quot;</span><span class="p">,</span>
</span><span id="get_color-59"><a href="#get_color-59"><span class="linenos"> 59</span></a>        <span class="s2">&quot;sa&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span>
</span><span id="get_color-60"><a href="#get_color-60"><span class="linenos"> 60</span></a>        <span class="s2">&quot;south australia&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span>
</span><span id="get_color-61"><a href="#get_color-61"><span class="linenos"> 61</span></a>        <span class="s2">&quot;nt&quot;</span><span class="p">:</span> <span class="s2">&quot;#CC7722&quot;</span><span class="p">,</span>  <span class="c1"># ochre</span>
</span><span id="get_color-62"><a href="#get_color-62"><span class="linenos"> 62</span></a>        <span class="s2">&quot;northern territory&quot;</span><span class="p">:</span> <span class="s2">&quot;#CC7722&quot;</span><span class="p">,</span>
</span><span id="get_color-63"><a href="#get_color-63"><span class="linenos"> 63</span></a>        <span class="s2">&quot;nsw&quot;</span><span class="p">:</span> <span class="s2">&quot;deepskyblue&quot;</span><span class="p">,</span>
</span><span id="get_color-64"><a href="#get_color-64"><span class="linenos"> 64</span></a>        <span class="s2">&quot;new south wales&quot;</span><span class="p">:</span> <span class="s2">&quot;deepskyblue&quot;</span><span class="p">,</span>
</span><span id="get_color-65"><a href="#get_color-65"><span class="linenos"> 65</span></a>        <span class="s2">&quot;act&quot;</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
</span><span id="get_color-66"><a href="#get_color-66"><span class="linenos"> 66</span></a>        <span class="s2">&quot;australian capital territory&quot;</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
</span><span id="get_color-67"><a href="#get_color-67"><span class="linenos"> 67</span></a>        <span class="s2">&quot;vic&quot;</span><span class="p">:</span> <span class="s2">&quot;navy&quot;</span><span class="p">,</span>
</span><span id="get_color-68"><a href="#get_color-68"><span class="linenos"> 68</span></a>        <span class="s2">&quot;victoria&quot;</span><span class="p">:</span> <span class="s2">&quot;navy&quot;</span><span class="p">,</span>
</span><span id="get_color-69"><a href="#get_color-69"><span class="linenos"> 69</span></a>        <span class="s2">&quot;tas&quot;</span><span class="p">:</span> <span class="s2">&quot;seagreen&quot;</span><span class="p">,</span>  <span class="c1"># bottle green #006A4E?</span>
</span><span id="get_color-70"><a href="#get_color-70"><span class="linenos"> 70</span></a>        <span class="s2">&quot;tasmania&quot;</span><span class="p">:</span> <span class="s2">&quot;seagreen&quot;</span><span class="p">,</span>
</span><span id="get_color-71"><a href="#get_color-71"><span class="linenos"> 71</span></a>        <span class="s2">&quot;qld&quot;</span><span class="p">:</span> <span class="s2">&quot;#c32148&quot;</span><span class="p">,</span>  <span class="c1"># a lighter maroon</span>
</span><span id="get_color-72"><a href="#get_color-72"><span class="linenos"> 72</span></a>        <span class="s2">&quot;queensland&quot;</span><span class="p">:</span> <span class="s2">&quot;#c32148&quot;</span><span class="p">,</span>
</span><span id="get_color-73"><a href="#get_color-73"><span class="linenos"> 73</span></a>        <span class="s2">&quot;australia&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="get_color-74"><a href="#get_color-74"><span class="linenos"> 74</span></a>        <span class="s2">&quot;aus&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="get_color-75"><a href="#get_color-75"><span class="linenos"> 75</span></a>        <span class="c1"># --- political parties</span>
</span><span id="get_color-76"><a href="#get_color-76"><span class="linenos"> 76</span></a>        <span class="s2">&quot;dissatisfied&quot;</span><span class="p">:</span> <span class="s2">&quot;darkorange&quot;</span><span class="p">,</span>  <span class="c1"># must be before satisfied</span>
</span><span id="get_color-77"><a href="#get_color-77"><span class="linenos"> 77</span></a>        <span class="s2">&quot;satisfied&quot;</span><span class="p">:</span> <span class="s2">&quot;mediumblue&quot;</span><span class="p">,</span>
</span><span id="get_color-78"><a href="#get_color-78"><span class="linenos"> 78</span></a>        <span class="s2">&quot;lnp&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-79"><a href="#get_color-79"><span class="linenos"> 79</span></a>        <span class="s2">&quot;l/np&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-80"><a href="#get_color-80"><span class="linenos"> 80</span></a>        <span class="s2">&quot;liberal&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-81"><a href="#get_color-81"><span class="linenos"> 81</span></a>        <span class="s2">&quot;liberals&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-82"><a href="#get_color-82"><span class="linenos"> 82</span></a>        <span class="s2">&quot;coalition&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-83"><a href="#get_color-83"><span class="linenos"> 83</span></a>        <span class="s2">&quot;dutton&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-84"><a href="#get_color-84"><span class="linenos"> 84</span></a>        <span class="s2">&quot;ley&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-85"><a href="#get_color-85"><span class="linenos"> 85</span></a>        <span class="s2">&quot;liberal and/or nationals&quot;</span><span class="p">:</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span>
</span><span id="get_color-86"><a href="#get_color-86"><span class="linenos"> 86</span></a>        <span class="s2">&quot;nat&quot;</span><span class="p">:</span> <span class="s2">&quot;forestgreen&quot;</span><span class="p">,</span>
</span><span id="get_color-87"><a href="#get_color-87"><span class="linenos"> 87</span></a>        <span class="s2">&quot;nats&quot;</span><span class="p">:</span> <span class="s2">&quot;forestgreen&quot;</span><span class="p">,</span>
</span><span id="get_color-88"><a href="#get_color-88"><span class="linenos"> 88</span></a>        <span class="s2">&quot;national&quot;</span><span class="p">:</span> <span class="s2">&quot;forestgreen&quot;</span><span class="p">,</span>
</span><span id="get_color-89"><a href="#get_color-89"><span class="linenos"> 89</span></a>        <span class="s2">&quot;nationals&quot;</span><span class="p">:</span> <span class="s2">&quot;forestgreen&quot;</span><span class="p">,</span>
</span><span id="get_color-90"><a href="#get_color-90"><span class="linenos"> 90</span></a>        <span class="s2">&quot;alp&quot;</span><span class="p">:</span> <span class="s2">&quot;#dd0000&quot;</span><span class="p">,</span>
</span><span id="get_color-91"><a href="#get_color-91"><span class="linenos"> 91</span></a>        <span class="s2">&quot;labor&quot;</span><span class="p">:</span> <span class="s2">&quot;#dd0000&quot;</span><span class="p">,</span>
</span><span id="get_color-92"><a href="#get_color-92"><span class="linenos"> 92</span></a>        <span class="s2">&quot;albanese&quot;</span><span class="p">:</span> <span class="s2">&quot;#dd0000&quot;</span><span class="p">,</span>
</span><span id="get_color-93"><a href="#get_color-93"><span class="linenos"> 93</span></a>        <span class="s2">&quot;grn&quot;</span><span class="p">:</span> <span class="s2">&quot;limegreen&quot;</span><span class="p">,</span>
</span><span id="get_color-94"><a href="#get_color-94"><span class="linenos"> 94</span></a>        <span class="s2">&quot;green&quot;</span><span class="p">:</span> <span class="s2">&quot;limegreen&quot;</span><span class="p">,</span>
</span><span id="get_color-95"><a href="#get_color-95"><span class="linenos"> 95</span></a>        <span class="s2">&quot;greens&quot;</span><span class="p">:</span> <span class="s2">&quot;limegreen&quot;</span><span class="p">,</span>
</span><span id="get_color-96"><a href="#get_color-96"><span class="linenos"> 96</span></a>        <span class="s2">&quot;other&quot;</span><span class="p">:</span> <span class="s2">&quot;darkorange&quot;</span><span class="p">,</span>
</span><span id="get_color-97"><a href="#get_color-97"><span class="linenos"> 97</span></a>        <span class="s2">&quot;oth&quot;</span><span class="p">:</span> <span class="s2">&quot;darkorange&quot;</span><span class="p">,</span>
</span><span id="get_color-98"><a href="#get_color-98"><span class="linenos"> 98</span></a>    <span class="p">}</span>
</span><span id="get_color-99"><a href="#get_color-99"><span class="linenos"> 99</span></a>
</span><span id="get_color-100"><a href="#get_color-100"><span class="linenos">100</span></a>    <span class="k">return</span> <span class="n">color_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">DEFAULT_UNKNOWN_COLOR</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return a matplotlib color for a party label or an Australian state/territory.</p>

<p>Args:
    s: str - the party label or Australian state/territory name.</p>

<p>Returns a color string that can be used in matplotlib plots.</p>
</div>


                </section>
                <section id="get_party_palette">
                            <input id="get_party_palette-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_party_palette</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">party_text</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="get_party_palette-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_party_palette"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_party_palette-21"><a href="#get_party_palette-21"><span class="linenos">21</span></a><span class="k">def</span><span class="w"> </span><span class="nf">get_party_palette</span><span class="p">(</span><span class="n">party_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="get_party_palette-22"><a href="#get_party_palette-22"><span class="linenos">22</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a matplotlib color-map name based on party_text.</span>
</span><span id="get_party_palette-23"><a href="#get_party_palette-23"><span class="linenos">23</span></a>
</span><span id="get_party_palette-24"><a href="#get_party_palette-24"><span class="linenos">24</span></a><span class="sd">    Works for Australian major political parties.</span>
</span><span id="get_party_palette-25"><a href="#get_party_palette-25"><span class="linenos">25</span></a>
</span><span id="get_party_palette-26"><a href="#get_party_palette-26"><span class="linenos">26</span></a><span class="sd">    Args:</span>
</span><span id="get_party_palette-27"><a href="#get_party_palette-27"><span class="linenos">27</span></a><span class="sd">        party_text: str - the party label or name.</span>
</span><span id="get_party_palette-28"><a href="#get_party_palette-28"><span class="linenos">28</span></a>
</span><span id="get_party_palette-29"><a href="#get_party_palette-29"><span class="linenos">29</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_party_palette-30"><a href="#get_party_palette-30"><span class="linenos">30</span></a>    <span class="c1"># Note: light to dark colormaps work best for sequential data visualization</span>
</span><span id="get_party_palette-31"><a href="#get_party_palette-31"><span class="linenos">31</span></a>    <span class="k">match</span> <span class="n">party_text</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
</span><span id="get_party_palette-32"><a href="#get_party_palette-32"><span class="linenos">32</span></a>        <span class="k">case</span> <span class="s2">&quot;alp&quot;</span> <span class="o">|</span> <span class="s2">&quot;labor&quot;</span><span class="p">:</span>
</span><span id="get_party_palette-33"><a href="#get_party_palette-33"><span class="linenos">33</span></a>            <span class="k">return</span> <span class="s2">&quot;Reds&quot;</span>
</span><span id="get_party_palette-34"><a href="#get_party_palette-34"><span class="linenos">34</span></a>        <span class="k">case</span> <span class="s2">&quot;l/np&quot;</span> <span class="o">|</span> <span class="s2">&quot;coalition&quot;</span><span class="p">:</span>
</span><span id="get_party_palette-35"><a href="#get_party_palette-35"><span class="linenos">35</span></a>            <span class="k">return</span> <span class="s2">&quot;Blues&quot;</span>
</span><span id="get_party_palette-36"><a href="#get_party_palette-36"><span class="linenos">36</span></a>        <span class="k">case</span> <span class="s2">&quot;grn&quot;</span> <span class="o">|</span> <span class="s2">&quot;green&quot;</span> <span class="o">|</span> <span class="s2">&quot;greens&quot;</span><span class="p">:</span>
</span><span id="get_party_palette-37"><a href="#get_party_palette-37"><span class="linenos">37</span></a>            <span class="k">return</span> <span class="s2">&quot;Greens&quot;</span>
</span><span id="get_party_palette-38"><a href="#get_party_palette-38"><span class="linenos">38</span></a>        <span class="k">case</span> <span class="s2">&quot;oth&quot;</span> <span class="o">|</span> <span class="s2">&quot;other&quot;</span><span class="p">:</span>
</span><span id="get_party_palette-39"><a href="#get_party_palette-39"><span class="linenos">39</span></a>            <span class="k">return</span> <span class="s2">&quot;YlOrBr&quot;</span>
</span><span id="get_party_palette-40"><a href="#get_party_palette-40"><span class="linenos">40</span></a>        <span class="k">case</span> <span class="s2">&quot;onp&quot;</span> <span class="o">|</span> <span class="s2">&quot;one nation&quot;</span><span class="p">:</span>
</span><span id="get_party_palette-41"><a href="#get_party_palette-41"><span class="linenos">41</span></a>            <span class="k">return</span> <span class="s2">&quot;YlGnBu&quot;</span>
</span><span id="get_party_palette-42"><a href="#get_party_palette-42"><span class="linenos">42</span></a>    <span class="k">return</span> <span class="n">DEFAULT_PARTY_PALETTE</span>
</span></pre></div>


            <div class="docstring"><p>Return a matplotlib color-map name based on party_text.</p>

<p>Works for Australian major political parties.</p>

<p>Args:
    party_text: str - the party label or name.</p>
</div>


                </section>
                <section id="get_setting">
                            <input id="get_setting-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_setting</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">setting</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">Any</span>:</span></span>

                <label class="view-source-button" for="get_setting-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_setting"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_setting-102"><a href="#get_setting-102"><span class="linenos">102</span></a><span class="k">def</span><span class="w"> </span><span class="nf">get_setting</span><span class="p">(</span><span class="n">setting</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="get_setting-103"><a href="#get_setting-103"><span class="linenos">103</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a setting from the global settings.</span>
</span><span id="get_setting-104"><a href="#get_setting-104"><span class="linenos">104</span></a>
</span><span id="get_setting-105"><a href="#get_setting-105"><span class="linenos">105</span></a><span class="sd">    Args:</span>
</span><span id="get_setting-106"><a href="#get_setting-106"><span class="linenos">106</span></a><span class="sd">        setting: str - name of the setting to get.</span>
</span><span id="get_setting-107"><a href="#get_setting-107"><span class="linenos">107</span></a>
</span><span id="get_setting-108"><a href="#get_setting-108"><span class="linenos">108</span></a><span class="sd">    Raises:</span>
</span><span id="get_setting-109"><a href="#get_setting-109"><span class="linenos">109</span></a><span class="sd">        KeyError: if the setting is not found</span>
</span><span id="get_setting-110"><a href="#get_setting-110"><span class="linenos">110</span></a>
</span><span id="get_setting-111"><a href="#get_setting-111"><span class="linenos">111</span></a><span class="sd">    Returns:</span>
</span><span id="get_setting-112"><a href="#get_setting-112"><span class="linenos">112</span></a><span class="sd">        value: Any - the value of the setting</span>
</span><span id="get_setting-113"><a href="#get_setting-113"><span class="linenos">113</span></a>
</span><span id="get_setting-114"><a href="#get_setting-114"><span class="linenos">114</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_setting-115"><a href="#get_setting-115"><span class="linenos">115</span></a>    <span class="k">if</span> <span class="n">setting</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_fields</span><span class="p">():</span>
</span><span id="get_setting-116"><a href="#get_setting-116"><span class="linenos">116</span></a>        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Setting &#39;</span><span class="si">{</span><span class="n">setting</span><span class="si">}</span><span class="s2">&#39; not found in mgplot_defaults.&quot;</span><span class="p">)</span>
</span><span id="get_setting-117"><a href="#get_setting-117"><span class="linenos">117</span></a>    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">mgplot_defaults</span><span class="p">,</span> <span class="n">setting</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get a setting from the global settings.</p>

<p>Args:
    setting: str - name of the setting to get.</p>

<p>Raises:
    KeyError: if the setting is not found</p>

<p>Returns:
    value: Any - the value of the setting</p>
</div>


                </section>
                <section id="growth_plot">
                            <input id="growth_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">growth_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#GrowthKwargs">GrowthKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="growth_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#growth_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="growth_plot-164"><a href="#growth_plot-164"><span class="linenos">164</span></a><span class="k">def</span><span class="w"> </span><span class="nf">growth_plot</span><span class="p">(</span>
</span><span id="growth_plot-165"><a href="#growth_plot-165"><span class="linenos">165</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="growth_plot-166"><a href="#growth_plot-166"><span class="linenos">166</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">GrowthKwargs</span><span class="p">],</span>
</span><span id="growth_plot-167"><a href="#growth_plot-167"><span class="linenos">167</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="growth_plot-168"><a href="#growth_plot-168"><span class="linenos">168</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot annual growth and periodic growth on the same axes.</span>
</span><span id="growth_plot-169"><a href="#growth_plot-169"><span class="linenos">169</span></a>
</span><span id="growth_plot-170"><a href="#growth_plot-170"><span class="linenos">170</span></a><span class="sd">    Args:</span>
</span><span id="growth_plot-171"><a href="#growth_plot-171"><span class="linenos">171</span></a><span class="sd">        data: A pandas DataFrame with two columns:</span>
</span><span id="growth_plot-172"><a href="#growth_plot-172"><span class="linenos">172</span></a><span class="sd">        kwargs: GrowthKwargs</span>
</span><span id="growth_plot-173"><a href="#growth_plot-173"><span class="linenos">173</span></a>
</span><span id="growth_plot-174"><a href="#growth_plot-174"><span class="linenos">174</span></a><span class="sd">    Returns:</span>
</span><span id="growth_plot-175"><a href="#growth_plot-175"><span class="linenos">175</span></a><span class="sd">        axes: The matplotlib Axes object.</span>
</span><span id="growth_plot-176"><a href="#growth_plot-176"><span class="linenos">176</span></a>
</span><span id="growth_plot-177"><a href="#growth_plot-177"><span class="linenos">177</span></a><span class="sd">    Raises:</span>
</span><span id="growth_plot-178"><a href="#growth_plot-178"><span class="linenos">178</span></a><span class="sd">        TypeError if the data is not a 2-column DataFrame.</span>
</span><span id="growth_plot-179"><a href="#growth_plot-179"><span class="linenos">179</span></a><span class="sd">        TypeError if the annual index is not a PeriodIndex.</span>
</span><span id="growth_plot-180"><a href="#growth_plot-180"><span class="linenos">180</span></a><span class="sd">        ValueError if the annual and periodic series do not have the same index.</span>
</span><span id="growth_plot-181"><a href="#growth_plot-181"><span class="linenos">181</span></a>
</span><span id="growth_plot-182"><a href="#growth_plot-182"><span class="linenos">182</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="growth_plot-183"><a href="#growth_plot-183"><span class="linenos">183</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="growth_plot-184"><a href="#growth_plot-184"><span class="linenos">184</span></a>    <span class="n">me</span> <span class="o">=</span> <span class="s2">&quot;growth_plot&quot;</span>
</span><span id="growth_plot-185"><a href="#growth_plot-185"><span class="linenos">185</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="growth_plot-186"><a href="#growth_plot-186"><span class="linenos">186</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">GrowthKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="growth_plot-187"><a href="#growth_plot-187"><span class="linenos">187</span></a>
</span><span id="growth_plot-188"><a href="#growth_plot-188"><span class="linenos">188</span></a>    <span class="c1"># --- data checks</span>
</span><span id="growth_plot-189"><a href="#growth_plot-189"><span class="linenos">189</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">check_clean_timeseries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">me</span><span class="p">)</span>
</span><span id="growth_plot-190"><a href="#growth_plot-190"><span class="linenos">190</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="n">TWO_COLUMNS</span><span class="p">:</span>
</span><span id="growth_plot-191"><a href="#growth_plot-191"><span class="linenos">191</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The data argument must be a pandas DataFrame with two columns&quot;</span><span class="p">)</span>
</span><span id="growth_plot-192"><a href="#growth_plot-192"><span class="linenos">192</span></a>    <span class="n">data</span><span class="p">,</span> <span class="n">kwargsd</span> <span class="o">=</span> <span class="n">constrain_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="growth_plot-193"><a href="#growth_plot-193"><span class="linenos">193</span></a>
</span><span id="growth_plot-194"><a href="#growth_plot-194"><span class="linenos">194</span></a>    <span class="c1"># --- get the series of interest ...</span>
</span><span id="growth_plot-195"><a href="#growth_plot-195"><span class="linenos">195</span></a>    <span class="n">annual</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
</span><span id="growth_plot-196"><a href="#growth_plot-196"><span class="linenos">196</span></a>    <span class="n">periodic</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="growth_plot-197"><a href="#growth_plot-197"><span class="linenos">197</span></a>
</span><span id="growth_plot-198"><a href="#growth_plot-198"><span class="linenos">198</span></a>    <span class="c1"># --- series names</span>
</span><span id="growth_plot-199"><a href="#growth_plot-199"><span class="linenos">199</span></a>    <span class="n">annual</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Annual Growth&quot;</span>
</span><span id="growth_plot-200"><a href="#growth_plot-200"><span class="linenos">200</span></a>    <span class="n">freq</span> <span class="o">=</span> <span class="n">PeriodIndex</span><span class="p">(</span><span class="n">periodic</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">freqstr</span>
</span><span id="growth_plot-201"><a href="#growth_plot-201"><span class="linenos">201</span></a>    <span class="k">if</span> <span class="n">freq</span> <span class="ow">and</span> <span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">FREQUENCY_TO_NAME</span><span class="p">:</span>
</span><span id="growth_plot-202"><a href="#growth_plot-202"><span class="linenos">202</span></a>        <span class="n">periodic</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">FREQUENCY_TO_NAME</span><span class="p">[</span><span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="s2">&quot; Growth&quot;</span>
</span><span id="growth_plot-203"><a href="#growth_plot-203"><span class="linenos">203</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="growth_plot-204"><a href="#growth_plot-204"><span class="linenos">204</span></a>        <span class="n">periodic</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Periodic Growth&quot;</span>
</span><span id="growth_plot-205"><a href="#growth_plot-205"><span class="linenos">205</span></a>
</span><span id="growth_plot-206"><a href="#growth_plot-206"><span class="linenos">206</span></a>    <span class="c1"># --- convert PeriodIndex periodic growth data to integer indexed data.</span>
</span><span id="growth_plot-207"><a href="#growth_plot-207"><span class="linenos">207</span></a>    <span class="n">saved_pi</span> <span class="o">=</span> <span class="n">map_periodindex</span><span class="p">(</span><span class="n">periodic</span><span class="p">)</span>
</span><span id="growth_plot-208"><a href="#growth_plot-208"><span class="linenos">208</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="growth_plot-209"><a href="#growth_plot-209"><span class="linenos">209</span></a>        <span class="n">periodic</span> <span class="o">=</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># extract the reindexed DataFrame</span>
</span><span id="growth_plot-210"><a href="#growth_plot-210"><span class="linenos">210</span></a>
</span><span id="growth_plot-211"><a href="#growth_plot-211"><span class="linenos">211</span></a>    <span class="c1"># --- simple bar chart for the periodic growth</span>
</span><span id="growth_plot-212"><a href="#growth_plot-212"><span class="linenos">212</span></a>    <span class="k">if</span> <span class="s2">&quot;bar_anno_color&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargsd</span> <span class="ow">or</span> <span class="n">kwargsd</span><span class="p">[</span><span class="s2">&quot;bar_anno_color&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="growth_plot-213"><a href="#growth_plot-213"><span class="linenos">213</span></a>        <span class="n">kwargsd</span><span class="p">[</span><span class="s2">&quot;bar_anno_color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span> <span class="k">if</span> <span class="n">kwargsd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;above&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;white&quot;</span>
</span><span id="growth_plot-214"><a href="#growth_plot-214"><span class="linenos">214</span></a>    <span class="n">selected</span> <span class="o">=</span> <span class="n">package_kwargs</span><span class="p">(</span><span class="n">to_bar_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargsd</span><span class="p">)</span>
</span><span id="growth_plot-215"><a href="#growth_plot-215"><span class="linenos">215</span></a>    <span class="n">axes</span> <span class="o">=</span> <span class="n">bar_plot</span><span class="p">(</span><span class="n">periodic</span><span class="p">,</span> <span class="o">**</span><span class="n">selected</span><span class="p">)</span>
</span><span id="growth_plot-216"><a href="#growth_plot-216"><span class="linenos">216</span></a>
</span><span id="growth_plot-217"><a href="#growth_plot-217"><span class="linenos">217</span></a>    <span class="c1"># --- and now the annual growth as a line</span>
</span><span id="growth_plot-218"><a href="#growth_plot-218"><span class="linenos">218</span></a>    <span class="n">selected</span> <span class="o">=</span> <span class="n">package_kwargs</span><span class="p">(</span><span class="n">to_line_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargsd</span><span class="p">)</span>
</span><span id="growth_plot-219"><a href="#growth_plot-219"><span class="linenos">219</span></a>    <span class="n">line_plot</span><span class="p">(</span><span class="n">annual</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="o">**</span><span class="n">selected</span><span class="p">)</span>
</span><span id="growth_plot-220"><a href="#growth_plot-220"><span class="linenos">220</span></a>
</span><span id="growth_plot-221"><a href="#growth_plot-221"><span class="linenos">221</span></a>    <span class="c1"># --- fix the x-axis labels</span>
</span><span id="growth_plot-222"><a href="#growth_plot-222"><span class="linenos">222</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="growth_plot-223"><a href="#growth_plot-223"><span class="linenos">223</span></a>        <span class="n">set_labels</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kwargsd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_ticks&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span><span id="growth_plot-224"><a href="#growth_plot-224"><span class="linenos">224</span></a>
</span><span id="growth_plot-225"><a href="#growth_plot-225"><span class="linenos">225</span></a>    <span class="c1"># --- and done ...</span>
</span><span id="growth_plot-226"><a href="#growth_plot-226"><span class="linenos">226</span></a>    <span class="k">return</span> <span class="n">axes</span>
</span></pre></div>


            <div class="docstring"><p>Plot annual growth and periodic growth on the same axes.</p>

<p>Args:
    data: A pandas DataFrame with two columns:
    kwargs: GrowthKwargs</p>

<p>Returns:
    axes: The matplotlib Axes object.</p>

<p>Raises:
    TypeError if the data is not a 2-column DataFrame.
    TypeError if the annual index is not a PeriodIndex.
    ValueError if the annual and periodic series do not have the same index.</p>
</div>


                </section>
                <section id="growth_plot_finalise">
                            <input id="growth_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">growth_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">GrowthPFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="growth_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#growth_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="growth_plot_finalise-152"><a href="#growth_plot_finalise-152"><span class="linenos">152</span></a><span class="k">def</span><span class="w"> </span><span class="nf">growth_plot_finalise</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">GrowthPFKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="growth_plot_finalise-153"><a href="#growth_plot_finalise-153"><span class="linenos">153</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call growth_plot() and finalise_plot().</span>
</span><span id="growth_plot_finalise-154"><a href="#growth_plot_finalise-154"><span class="linenos">154</span></a>
</span><span id="growth_plot_finalise-155"><a href="#growth_plot_finalise-155"><span class="linenos">155</span></a><span class="sd">    Args:</span>
</span><span id="growth_plot_finalise-156"><a href="#growth_plot_finalise-156"><span class="linenos">156</span></a><span class="sd">        data: The growth data to be plotted.</span>
</span><span id="growth_plot_finalise-157"><a href="#growth_plot_finalise-157"><span class="linenos">157</span></a><span class="sd">        kwargs: Combined growth plot and finalise plot keyword arguments.</span>
</span><span id="growth_plot_finalise-158"><a href="#growth_plot_finalise-158"><span class="linenos">158</span></a>
</span><span id="growth_plot_finalise-159"><a href="#growth_plot_finalise-159"><span class="linenos">159</span></a><span class="sd">    Note:</span>
</span><span id="growth_plot_finalise-160"><a href="#growth_plot_finalise-160"><span class="linenos">160</span></a><span class="sd">        Use this when you are providing the raw growth data. Don&#39;t forget to</span>
</span><span id="growth_plot_finalise-161"><a href="#growth_plot_finalise-161"><span class="linenos">161</span></a><span class="sd">        set the ylabel in kwargs.</span>
</span><span id="growth_plot_finalise-162"><a href="#growth_plot_finalise-162"><span class="linenos">162</span></a>
</span><span id="growth_plot_finalise-163"><a href="#growth_plot_finalise-163"><span class="linenos">163</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="growth_plot_finalise-164"><a href="#growth_plot_finalise-164"><span class="linenos">164</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">GrowthPFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;growth_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="growth_plot_finalise-165"><a href="#growth_plot_finalise-165"><span class="linenos">165</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="growth_plot_finalise-166"><a href="#growth_plot_finalise-166"><span class="linenos">166</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">growth_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call growth_plot() and finalise_plot().</p>

<p>Args:
    data: The growth data to be plotted.
    kwargs: Combined growth plot and finalise plot keyword arguments.</p>

<p>Note:
    Use this when you are providing the raw growth data. Don't forget to
    set the ylabel in kwargs.</p>
</div>


                </section>
                <section id="line_plot">
                            <input id="line_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">line_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#LineKwargs">LineKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="line_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#line_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="line_plot-147"><a href="#line_plot-147"><span class="linenos">147</span></a><span class="k">def</span><span class="w"> </span><span class="nf">line_plot</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">LineKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="line_plot-148"><a href="#line_plot-148"><span class="linenos">148</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Build a single or multi-line plot.</span>
</span><span id="line_plot-149"><a href="#line_plot-149"><span class="linenos">149</span></a>
</span><span id="line_plot-150"><a href="#line_plot-150"><span class="linenos">150</span></a><span class="sd">    Args:</span>
</span><span id="line_plot-151"><a href="#line_plot-151"><span class="linenos">151</span></a><span class="sd">        data: DataFrame | Series - data to plot</span>
</span><span id="line_plot-152"><a href="#line_plot-152"><span class="linenos">152</span></a><span class="sd">        kwargs: LineKwargs - keyword arguments for the line plot</span>
</span><span id="line_plot-153"><a href="#line_plot-153"><span class="linenos">153</span></a>
</span><span id="line_plot-154"><a href="#line_plot-154"><span class="linenos">154</span></a><span class="sd">    Returns:</span>
</span><span id="line_plot-155"><a href="#line_plot-155"><span class="linenos">155</span></a><span class="sd">    - axes: Axes - the axes object for the plot</span>
</span><span id="line_plot-156"><a href="#line_plot-156"><span class="linenos">156</span></a>
</span><span id="line_plot-157"><a href="#line_plot-157"><span class="linenos">157</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="line_plot-158"><a href="#line_plot-158"><span class="linenos">158</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="line_plot-159"><a href="#line_plot-159"><span class="linenos">159</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="line_plot-160"><a href="#line_plot-160"><span class="linenos">160</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">LineKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="line_plot-161"><a href="#line_plot-161"><span class="linenos">161</span></a>
</span><span id="line_plot-162"><a href="#line_plot-162"><span class="linenos">162</span></a>    <span class="c1"># --- check the data</span>
</span><span id="line_plot-163"><a href="#line_plot-163"><span class="linenos">163</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">check_clean_timeseries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ME</span><span class="p">)</span>
</span><span id="line_plot-164"><a href="#line_plot-164"><span class="linenos">164</span></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># we are only plotting DataFrames</span>
</span><span id="line_plot-165"><a href="#line_plot-165"><span class="linenos">165</span></a>    <span class="n">df</span><span class="p">,</span> <span class="n">kwargs_d</span> <span class="o">=</span> <span class="n">constrain_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="line_plot-166"><a href="#line_plot-166"><span class="linenos">166</span></a>
</span><span id="line_plot-167"><a href="#line_plot-167"><span class="linenos">167</span></a>    <span class="c1"># --- convert PeriodIndex to Integer Index</span>
</span><span id="line_plot-168"><a href="#line_plot-168"><span class="linenos">168</span></a>    <span class="n">saved_pi</span> <span class="o">=</span> <span class="n">map_periodindex</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span><span id="line_plot-169"><a href="#line_plot-169"><span class="linenos">169</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="line_plot-170"><a href="#line_plot-170"><span class="linenos">170</span></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="line_plot-171"><a href="#line_plot-171"><span class="linenos">171</span></a>
</span><span id="line_plot-172"><a href="#line_plot-172"><span class="linenos">172</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">PeriodIndex</span><span class="p">):</span>
</span><span id="line_plot-173"><a href="#line_plot-173"><span class="linenos">173</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Internal error: data is still a PeriodIndex - come back here and fix it&quot;</span><span class="p">)</span>
</span><span id="line_plot-174"><a href="#line_plot-174"><span class="linenos">174</span></a>
</span><span id="line_plot-175"><a href="#line_plot-175"><span class="linenos">175</span></a>    <span class="c1"># --- Let&#39;s plot</span>
</span><span id="line_plot-176"><a href="#line_plot-176"><span class="linenos">176</span></a>    <span class="n">axes</span><span class="p">,</span> <span class="n">kwargs_d</span> <span class="o">=</span> <span class="n">get_axes</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_d</span><span class="p">)</span>  <span class="c1"># get the axes to plot on</span>
</span><span id="line_plot-177"><a href="#line_plot-177"><span class="linenos">177</span></a>    <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">or</span> <span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
</span><span id="line_plot-178"><a href="#line_plot-178"><span class="linenos">178</span></a>        <span class="c1"># Note: finalise plot should ignore an empty axes object</span>
</span><span id="line_plot-179"><a href="#line_plot-179"><span class="linenos">179</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: No data to plot in </span><span class="si">{</span><span class="n">ME</span><span class="si">}</span><span class="s2">().&quot;</span><span class="p">)</span>
</span><span id="line_plot-180"><a href="#line_plot-180"><span class="linenos">180</span></a>        <span class="k">return</span> <span class="n">axes</span>
</span><span id="line_plot-181"><a href="#line_plot-181"><span class="linenos">181</span></a>
</span><span id="line_plot-182"><a href="#line_plot-182"><span class="linenos">182</span></a>    <span class="c1"># --- get the arguments for each line we will plot ...</span>
</span><span id="line_plot-183"><a href="#line_plot-183"><span class="linenos">183</span></a>    <span class="n">item_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</span><span id="line_plot-184"><a href="#line_plot-184"><span class="linenos">184</span></a>    <span class="n">num_data_points</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span><span id="line_plot-185"><a href="#line_plot-185"><span class="linenos">185</span></a>    <span class="n">swce</span><span class="p">,</span> <span class="n">kwargs_d</span> <span class="o">=</span> <span class="n">get_style_width_color_etc</span><span class="p">(</span><span class="n">item_count</span><span class="p">,</span> <span class="n">num_data_points</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs_d</span><span class="p">)</span>
</span><span id="line_plot-186"><a href="#line_plot-186"><span class="linenos">186</span></a>
</span><span id="line_plot-187"><a href="#line_plot-187"><span class="linenos">187</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
</span><span id="line_plot-188"><a href="#line_plot-188"><span class="linenos">188</span></a>        <span class="n">series</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>
</span><span id="line_plot-189"><a href="#line_plot-189"><span class="linenos">189</span></a>        <span class="n">series</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;dropna&quot;</span> <span class="ow">in</span> <span class="n">swce</span> <span class="ow">and</span> <span class="n">swce</span><span class="p">[</span><span class="s2">&quot;dropna&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">else</span> <span class="n">series</span>
</span><span id="line_plot-190"><a href="#line_plot-190"><span class="linenos">190</span></a>        <span class="k">if</span> <span class="n">series</span><span class="o">.</span><span class="n">empty</span> <span class="ow">or</span> <span class="n">series</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
</span><span id="line_plot-191"><a href="#line_plot-191"><span class="linenos">191</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: No data to plot for </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2"> in line_plot().&quot;</span><span class="p">)</span>
</span><span id="line_plot-192"><a href="#line_plot-192"><span class="linenos">192</span></a>            <span class="k">continue</span>
</span><span id="line_plot-193"><a href="#line_plot-193"><span class="linenos">193</span></a>
</span><span id="line_plot-194"><a href="#line_plot-194"><span class="linenos">194</span></a>        <span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
</span><span id="line_plot-195"><a href="#line_plot-195"><span class="linenos">195</span></a>            <span class="c1"># using matplotlib, as pandas can set xlabel/ylabel</span>
</span><span id="line_plot-196"><a href="#line_plot-196"><span class="linenos">196</span></a>            <span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>  <span class="c1"># x</span>
</span><span id="line_plot-197"><a href="#line_plot-197"><span class="linenos">197</span></a>            <span class="n">series</span><span class="p">,</span>  <span class="c1"># y</span>
</span><span id="line_plot-198"><a href="#line_plot-198"><span class="linenos">198</span></a>            <span class="n">ls</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-199"><a href="#line_plot-199"><span class="linenos">199</span></a>            <span class="n">lw</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-200"><a href="#line_plot-200"><span class="linenos">200</span></a>            <span class="n">color</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-201"><a href="#line_plot-201"><span class="linenos">201</span></a>            <span class="n">alpha</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;alpha&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-202"><a href="#line_plot-202"><span class="linenos">202</span></a>            <span class="n">marker</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;marker&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-203"><a href="#line_plot-203"><span class="linenos">203</span></a>            <span class="n">ms</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;markersize&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-204"><a href="#line_plot-204"><span class="linenos">204</span></a>            <span class="n">drawstyle</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;drawstyle&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-205"><a href="#line_plot-205"><span class="linenos">205</span></a>            <span class="n">label</span><span class="o">=</span><span class="p">(</span><span class="n">column</span> <span class="k">if</span> <span class="s2">&quot;label_series&quot;</span> <span class="ow">in</span> <span class="n">swce</span> <span class="ow">and</span> <span class="n">swce</span><span class="p">[</span><span class="s2">&quot;label_series&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">_&quot;</span><span class="p">),</span>
</span><span id="line_plot-206"><a href="#line_plot-206"><span class="linenos">206</span></a>        <span class="p">)</span>
</span><span id="line_plot-207"><a href="#line_plot-207"><span class="linenos">207</span></a>
</span><span id="line_plot-208"><a href="#line_plot-208"><span class="linenos">208</span></a>        <span class="k">if</span> <span class="n">swce</span><span class="p">[</span><span class="s2">&quot;annotate&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">swce</span><span class="p">[</span><span class="s2">&quot;annotate&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]:</span>
</span><span id="line_plot-209"><a href="#line_plot-209"><span class="linenos">209</span></a>            <span class="k">continue</span>
</span><span id="line_plot-210"><a href="#line_plot-210"><span class="linenos">210</span></a>
</span><span id="line_plot-211"><a href="#line_plot-211"><span class="linenos">211</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">swce</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">swce</span><span class="p">[</span><span class="s2">&quot;annotate_color&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="n">swce</span><span class="p">[</span><span class="s2">&quot;annotate_color&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
</span><span id="line_plot-212"><a href="#line_plot-212"><span class="linenos">212</span></a>        <span class="n">annotate_series</span><span class="p">(</span>
</span><span id="line_plot-213"><a href="#line_plot-213"><span class="linenos">213</span></a>            <span class="n">series</span><span class="p">,</span>
</span><span id="line_plot-214"><a href="#line_plot-214"><span class="linenos">214</span></a>            <span class="n">axes</span><span class="p">,</span>
</span><span id="line_plot-215"><a href="#line_plot-215"><span class="linenos">215</span></a>            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
</span><span id="line_plot-216"><a href="#line_plot-216"><span class="linenos">216</span></a>            <span class="n">rounding</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;rounding&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-217"><a href="#line_plot-217"><span class="linenos">217</span></a>            <span class="n">fontsize</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;fontsize&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-218"><a href="#line_plot-218"><span class="linenos">218</span></a>            <span class="n">fontname</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;fontname&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-219"><a href="#line_plot-219"><span class="linenos">219</span></a>            <span class="n">rotation</span><span class="o">=</span><span class="n">swce</span><span class="p">[</span><span class="s2">&quot;rotation&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
</span><span id="line_plot-220"><a href="#line_plot-220"><span class="linenos">220</span></a>        <span class="p">)</span>
</span><span id="line_plot-221"><a href="#line_plot-221"><span class="linenos">221</span></a>
</span><span id="line_plot-222"><a href="#line_plot-222"><span class="linenos">222</span></a>    <span class="c1"># --- set the labels</span>
</span><span id="line_plot-223"><a href="#line_plot-223"><span class="linenos">223</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="line_plot-224"><a href="#line_plot-224"><span class="linenos">224</span></a>        <span class="n">set_labels</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_ticks&quot;</span><span class="p">,</span> <span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;max_ticks&quot;</span><span class="p">)))</span>
</span><span id="line_plot-225"><a href="#line_plot-225"><span class="linenos">225</span></a>
</span><span id="line_plot-226"><a href="#line_plot-226"><span class="linenos">226</span></a>    <span class="k">return</span> <span class="n">axes</span>
</span></pre></div>


            <div class="docstring"><p>Build a single or multi-line plot.</p>

<p>Args:
    data: DataFrame | Series - data to plot
    kwargs: LineKwargs - keyword arguments for the line plot</p>

<p>Returns:</p>

<ul>
<li>axes: Axes - the axes object for the plot</li>
</ul>
</div>


                </section>
                <section id="line_plot_finalise">
                            <input id="line_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">line_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">LPFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="line_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#line_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="line_plot_finalise-169"><a href="#line_plot_finalise-169"><span class="linenos">169</span></a><span class="k">def</span><span class="w"> </span><span class="nf">line_plot_finalise</span><span class="p">(</span>
</span><span id="line_plot_finalise-170"><a href="#line_plot_finalise-170"><span class="linenos">170</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="line_plot_finalise-171"><a href="#line_plot_finalise-171"><span class="linenos">171</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">LPFKwargs</span><span class="p">],</span>
</span><span id="line_plot_finalise-172"><a href="#line_plot_finalise-172"><span class="linenos">172</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="line_plot_finalise-173"><a href="#line_plot_finalise-173"><span class="linenos">173</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call line_plot() then finalise_plot().</span>
</span><span id="line_plot_finalise-174"><a href="#line_plot_finalise-174"><span class="linenos">174</span></a>
</span><span id="line_plot_finalise-175"><a href="#line_plot_finalise-175"><span class="linenos">175</span></a><span class="sd">    Args:</span>
</span><span id="line_plot_finalise-176"><a href="#line_plot_finalise-176"><span class="linenos">176</span></a><span class="sd">        data: The data to be plotted.</span>
</span><span id="line_plot_finalise-177"><a href="#line_plot_finalise-177"><span class="linenos">177</span></a><span class="sd">        kwargs: Combined line plot and finalise plot keyword arguments.</span>
</span><span id="line_plot_finalise-178"><a href="#line_plot_finalise-178"><span class="linenos">178</span></a>
</span><span id="line_plot_finalise-179"><a href="#line_plot_finalise-179"><span class="linenos">179</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="line_plot_finalise-180"><a href="#line_plot_finalise-180"><span class="linenos">180</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">LPFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;line_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="line_plot_finalise-181"><a href="#line_plot_finalise-181"><span class="linenos">181</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</span><span id="line_plot_finalise-182"><a href="#line_plot_finalise-182"><span class="linenos">182</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">line_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call line_plot() then finalise_plot().</p>

<p>Args:
    data: The data to be plotted.
    kwargs: Combined line plot and finalise plot keyword arguments.</p>
</div>


                </section>
                <section id="multi_column">
                            <input id="multi_column-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">multi_column</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="multi_column-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#multi_column"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="multi_column-271"><a href="#multi_column-271"><span class="linenos">271</span></a><span class="k">def</span><span class="w"> </span><span class="nf">multi_column</span><span class="p">(</span>
</span><span id="multi_column-272"><a href="#multi_column-272"><span class="linenos">272</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataFrame</span><span class="p">,</span>
</span><span id="multi_column-273"><a href="#multi_column-273"><span class="linenos">273</span></a>    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
</span><span id="multi_column-274"><a href="#multi_column-274"><span class="linenos">274</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="multi_column-275"><a href="#multi_column-275"><span class="linenos">275</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="multi_column-276"><a href="#multi_column-276"><span class="linenos">276</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create multiple plots, one for each column in a DataFrame.</span>
</span><span id="multi_column-277"><a href="#multi_column-277"><span class="linenos">277</span></a>
</span><span id="multi_column-278"><a href="#multi_column-278"><span class="linenos">278</span></a><span class="sd">    Args:</span>
</span><span id="multi_column-279"><a href="#multi_column-279"><span class="linenos">279</span></a><span class="sd">        data: DataFrame - The data to be plotted.</span>
</span><span id="multi_column-280"><a href="#multi_column-280"><span class="linenos">280</span></a><span class="sd">        function: Callable | list[Callable] - The plotting function(s) to be used.</span>
</span><span id="multi_column-281"><a href="#multi_column-281"><span class="linenos">281</span></a><span class="sd">        kwargs: Any - Additional keyword arguments passed to plotting functions.</span>
</span><span id="multi_column-282"><a href="#multi_column-282"><span class="linenos">282</span></a>
</span><span id="multi_column-283"><a href="#multi_column-283"><span class="linenos">283</span></a><span class="sd">    Returns:</span>
</span><span id="multi_column-284"><a href="#multi_column-284"><span class="linenos">284</span></a><span class="sd">        None</span>
</span><span id="multi_column-285"><a href="#multi_column-285"><span class="linenos">285</span></a>
</span><span id="multi_column-286"><a href="#multi_column-286"><span class="linenos">286</span></a><span class="sd">    Raises:</span>
</span><span id="multi_column-287"><a href="#multi_column-287"><span class="linenos">287</span></a><span class="sd">        TypeError: If data is not a DataFrame.</span>
</span><span id="multi_column-288"><a href="#multi_column-288"><span class="linenos">288</span></a><span class="sd">        ValueError: If DataFrame is empty or has no columns.</span>
</span><span id="multi_column-289"><a href="#multi_column-289"><span class="linenos">289</span></a>
</span><span id="multi_column-290"><a href="#multi_column-290"><span class="linenos">290</span></a><span class="sd">    Note:</span>
</span><span id="multi_column-291"><a href="#multi_column-291"><span class="linenos">291</span></a><span class="sd">        The plot title will be kwargs[&quot;title&quot;] plus the column name.</span>
</span><span id="multi_column-292"><a href="#multi_column-292"><span class="linenos">292</span></a>
</span><span id="multi_column-293"><a href="#multi_column-293"><span class="linenos">293</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="multi_column-294"><a href="#multi_column-294"><span class="linenos">294</span></a>    <span class="c1"># --- sanity checks</span>
</span><span id="multi_column-295"><a href="#multi_column-295"><span class="linenos">295</span></a>    <span class="n">me</span> <span class="o">=</span> <span class="s2">&quot;multi_column&quot;</span>
</span><span id="multi_column-296"><a href="#multi_column-296"><span class="linenos">296</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="multi_column-297"><a href="#multi_column-297"><span class="linenos">297</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">):</span>
</span><span id="multi_column-298"><a href="#multi_column-298"><span class="linenos">298</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;data must be a pandas DataFrame for multi_column()&quot;</span><span class="p">)</span>
</span><span id="multi_column-299"><a href="#multi_column-299"><span class="linenos">299</span></a>    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="multi_column-300"><a href="#multi_column-300"><span class="linenos">300</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;DataFrame cannot be empty&quot;</span><span class="p">)</span>
</span><span id="multi_column-301"><a href="#multi_column-301"><span class="linenos">301</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="multi_column-302"><a href="#multi_column-302"><span class="linenos">302</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;DataFrame must have at least one column&quot;</span><span class="p">)</span>
</span><span id="multi_column-303"><a href="#multi_column-303"><span class="linenos">303</span></a>
</span><span id="multi_column-304"><a href="#multi_column-304"><span class="linenos">304</span></a>    <span class="c1"># --- check the function argument</span>
</span><span id="multi_column-305"><a href="#multi_column-305"><span class="linenos">305</span></a>    <span class="n">title_stem</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="multi_column-306"><a href="#multi_column-306"><span class="linenos">306</span></a>    <span class="n">tag</span><span class="p">:</span> <span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tag&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="multi_column-307"><a href="#multi_column-307"><span class="linenos">307</span></a>    <span class="n">first</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">first_unchain</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
</span><span id="multi_column-308"><a href="#multi_column-308"><span class="linenos">308</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]:</span>
</span><span id="multi_column-309"><a href="#multi_column-309"><span class="linenos">309</span></a>        <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span>  <span class="c1"># remove the function key if it is empty</span>
</span><span id="multi_column-310"><a href="#multi_column-310"><span class="linenos">310</span></a>
</span><span id="multi_column-311"><a href="#multi_column-311"><span class="linenos">311</span></a>    <span class="c1"># --- iterate over the columns</span>
</span><span id="multi_column-312"><a href="#multi_column-312"><span class="linenos">312</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
</span><span id="multi_column-313"><a href="#multi_column-313"><span class="linenos">313</span></a>        <span class="n">series</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>  <span class="c1"># Extract as Series, not single-column DataFrame</span>
</span><span id="multi_column-314"><a href="#multi_column-314"><span class="linenos">314</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">title_stem</span><span class="si">}{</span><span class="n">col</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">title_stem</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</span><span id="multi_column-315"><a href="#multi_column-315"><span class="linenos">315</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_generate_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span><span id="multi_column-316"><a href="#multi_column-316"><span class="linenos">316</span></a>        <span class="n">first</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create multiple plots, one for each column in a DataFrame.</p>

<p>Args:
    data: DataFrame - The data to be plotted.
    function: Callable | list[Callable] - The plotting function(s) to be used.
    kwargs: Any - Additional keyword arguments passed to plotting functions.</p>

<p>Returns:
    None</p>

<p>Raises:
    TypeError: If data is not a DataFrame.
    ValueError: If DataFrame is empty or has no columns.</p>

<p>Note:
    The plot title will be kwargs["title"] plus the column name.</p>
</div>


                </section>
                <section id="multi_start">
                            <input id="multi_start-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">multi_start</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="n">function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span>,</span><span class="param">	<span class="n">starts</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="kc">None</span> <span class="o">|</span> <span class="n">pandas</span><span class="o">.</span><span class="n">_libs</span><span class="o">.</span><span class="n">tslibs</span><span class="o">.</span><span class="n">period</span><span class="o">.</span><span class="n">Period</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="multi_start-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#multi_start"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="multi_start-213"><a href="#multi_start-213"><span class="linenos">213</span></a><span class="k">def</span><span class="w"> </span><span class="nf">multi_start</span><span class="p">(</span>
</span><span id="multi_start-214"><a href="#multi_start-214"><span class="linenos">214</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="multi_start-215"><a href="#multi_start-215"><span class="linenos">215</span></a>    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
</span><span id="multi_start-216"><a href="#multi_start-216"><span class="linenos">216</span></a>    <span class="n">starts</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="kc">None</span> <span class="o">|</span> <span class="n">Period</span> <span class="o">|</span> <span class="nb">int</span><span class="p">],</span>
</span><span id="multi_start-217"><a href="#multi_start-217"><span class="linenos">217</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="multi_start-218"><a href="#multi_start-218"><span class="linenos">218</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="multi_start-219"><a href="#multi_start-219"><span class="linenos">219</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create multiple plots with different starting points.</span>
</span><span id="multi_start-220"><a href="#multi_start-220"><span class="linenos">220</span></a>
</span><span id="multi_start-221"><a href="#multi_start-221"><span class="linenos">221</span></a><span class="sd">    Args:</span>
</span><span id="multi_start-222"><a href="#multi_start-222"><span class="linenos">222</span></a><span class="sd">        data: Series | DataFrame - The data to be plotted.</span>
</span><span id="multi_start-223"><a href="#multi_start-223"><span class="linenos">223</span></a><span class="sd">        function: Callable | list[Callable] - desired plotting function(s).</span>
</span><span id="multi_start-224"><a href="#multi_start-224"><span class="linenos">224</span></a><span class="sd">        starts: Iterable[Period | int | None] - The starting points for each plot.</span>
</span><span id="multi_start-225"><a href="#multi_start-225"><span class="linenos">225</span></a><span class="sd">        kwargs: Any - Additional keyword arguments passed to plotting functions.</span>
</span><span id="multi_start-226"><a href="#multi_start-226"><span class="linenos">226</span></a>
</span><span id="multi_start-227"><a href="#multi_start-227"><span class="linenos">227</span></a><span class="sd">    Returns:</span>
</span><span id="multi_start-228"><a href="#multi_start-228"><span class="linenos">228</span></a><span class="sd">        None</span>
</span><span id="multi_start-229"><a href="#multi_start-229"><span class="linenos">229</span></a>
</span><span id="multi_start-230"><a href="#multi_start-230"><span class="linenos">230</span></a><span class="sd">    Raises:</span>
</span><span id="multi_start-231"><a href="#multi_start-231"><span class="linenos">231</span></a><span class="sd">        TypeError: If starts is not an iterable of None, Period or int.</span>
</span><span id="multi_start-232"><a href="#multi_start-232"><span class="linenos">232</span></a><span class="sd">        ValueError: If starts contains invalid values or is empty.</span>
</span><span id="multi_start-233"><a href="#multi_start-233"><span class="linenos">233</span></a>
</span><span id="multi_start-234"><a href="#multi_start-234"><span class="linenos">234</span></a><span class="sd">    Note:</span>
</span><span id="multi_start-235"><a href="#multi_start-235"><span class="linenos">235</span></a><span class="sd">        kwargs[&#39;tag&#39;] is used to create a unique tag for each plot.</span>
</span><span id="multi_start-236"><a href="#multi_start-236"><span class="linenos">236</span></a>
</span><span id="multi_start-237"><a href="#multi_start-237"><span class="linenos">237</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="multi_start-238"><a href="#multi_start-238"><span class="linenos">238</span></a>    <span class="c1"># --- sanity checks</span>
</span><span id="multi_start-239"><a href="#multi_start-239"><span class="linenos">239</span></a>    <span class="n">me</span> <span class="o">=</span> <span class="s2">&quot;multi_start&quot;</span>
</span><span id="multi_start-240"><a href="#multi_start-240"><span class="linenos">240</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="multi_start-241"><a href="#multi_start-241"><span class="linenos">241</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">):</span>
</span><span id="multi_start-242"><a href="#multi_start-242"><span class="linenos">242</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;starts must be an iterable of None, Period or int&quot;</span><span class="p">)</span>
</span><span id="multi_start-243"><a href="#multi_start-243"><span class="linenos">243</span></a>
</span><span id="multi_start-244"><a href="#multi_start-244"><span class="linenos">244</span></a>    <span class="c1"># Convert to list to validate contents and check if empty</span>
</span><span id="multi_start-245"><a href="#multi_start-245"><span class="linenos">245</span></a>    <span class="n">starts_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">starts</span><span class="p">)</span>
</span><span id="multi_start-246"><a href="#multi_start-246"><span class="linenos">246</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">starts_list</span><span class="p">:</span>
</span><span id="multi_start-247"><a href="#multi_start-247"><span class="linenos">247</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;starts cannot be empty&quot;</span><span class="p">)</span>
</span><span id="multi_start-248"><a href="#multi_start-248"><span class="linenos">248</span></a>
</span><span id="multi_start-249"><a href="#multi_start-249"><span class="linenos">249</span></a>    <span class="c1"># Validate each start value</span>
</span><span id="multi_start-250"><a href="#multi_start-250"><span class="linenos">250</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">start</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">starts_list</span><span class="p">):</span>
</span><span id="multi_start-251"><a href="#multi_start-251"><span class="linenos">251</span></a>        <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="p">(</span><span class="n">Period</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
</span><span id="multi_start-252"><a href="#multi_start-252"><span class="linenos">252</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
</span><span id="multi_start-253"><a href="#multi_start-253"><span class="linenos">253</span></a>                <span class="sa">f</span><span class="s2">&quot;Start value at index </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> must be None, Period, or int, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">start</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="multi_start-254"><a href="#multi_start-254"><span class="linenos">254</span></a>            <span class="p">)</span>
</span><span id="multi_start-255"><a href="#multi_start-255"><span class="linenos">255</span></a>
</span><span id="multi_start-256"><a href="#multi_start-256"><span class="linenos">256</span></a>    <span class="c1"># --- check the function argument</span>
</span><span id="multi_start-257"><a href="#multi_start-257"><span class="linenos">257</span></a>    <span class="n">original_tag</span><span class="p">:</span> <span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tag&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="multi_start-258"><a href="#multi_start-258"><span class="linenos">258</span></a>    <span class="n">first</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">first_unchain</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
</span><span id="multi_start-259"><a href="#multi_start-259"><span class="linenos">259</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]:</span>
</span><span id="multi_start-260"><a href="#multi_start-260"><span class="linenos">260</span></a>        <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span>  <span class="c1"># remove the function key if it is empty</span>
</span><span id="multi_start-261"><a href="#multi_start-261"><span class="linenos">261</span></a>
</span><span id="multi_start-262"><a href="#multi_start-262"><span class="linenos">262</span></a>    <span class="c1"># --- iterate over the starts</span>
</span><span id="multi_start-263"><a href="#multi_start-263"><span class="linenos">263</span></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">start</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">starts_list</span><span class="p">):</span>
</span><span id="multi_start-264"><a href="#multi_start-264"><span class="linenos">264</span></a>        <span class="n">kw</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># copy to avoid modifying the original kwargs</span>
</span><span id="multi_start-265"><a href="#multi_start-265"><span class="linenos">265</span></a>        <span class="n">this_tag</span> <span class="o">=</span> <span class="n">_generate_tag</span><span class="p">(</span><span class="n">original_tag</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span><span id="multi_start-266"><a href="#multi_start-266"><span class="linenos">266</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_tag</span>
</span><span id="multi_start-267"><a href="#multi_start-267"><span class="linenos">267</span></a>        <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;plot_from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span>  <span class="c1"># rely on plotting function to constrain the data</span>
</span><span id="multi_start-268"><a href="#multi_start-268"><span class="linenos">268</span></a>        <span class="n">first</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create multiple plots with different starting points.</p>

<p>Args:
    data: Series | DataFrame - The data to be plotted.
    function: Callable | list[Callable] - desired plotting function(s).
    starts: Iterable[Period | int | None] - The starting points for each plot.
    kwargs: Any - Additional keyword arguments passed to plotting functions.</p>

<p>Returns:
    None</p>

<p>Raises:
    TypeError: If starts is not an iterable of None, Period or int.
    ValueError: If starts contains invalid values or is empty.</p>

<p>Note:
    kwargs['tag'] is used to create a unique tag for each plot.</p>
</div>


                </section>
                <section id="plot_then_finalise">
                            <input id="plot_then_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">plot_then_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="n">function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="plot_then_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#plot_then_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="plot_then_finalise-150"><a href="#plot_then_finalise-150"><span class="linenos">150</span></a><span class="k">def</span><span class="w"> </span><span class="nf">plot_then_finalise</span><span class="p">(</span>
</span><span id="plot_then_finalise-151"><a href="#plot_then_finalise-151"><span class="linenos">151</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="plot_then_finalise-152"><a href="#plot_then_finalise-152"><span class="linenos">152</span></a>    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
</span><span id="plot_then_finalise-153"><a href="#plot_then_finalise-153"><span class="linenos">153</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="plot_then_finalise-154"><a href="#plot_then_finalise-154"><span class="linenos">154</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="plot_then_finalise-155"><a href="#plot_then_finalise-155"><span class="linenos">155</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Chain a plotting function with the finalise_plot() function.</span>
</span><span id="plot_then_finalise-156"><a href="#plot_then_finalise-156"><span class="linenos">156</span></a>
</span><span id="plot_then_finalise-157"><a href="#plot_then_finalise-157"><span class="linenos">157</span></a><span class="sd">    Args:</span>
</span><span id="plot_then_finalise-158"><a href="#plot_then_finalise-158"><span class="linenos">158</span></a><span class="sd">        data: Series | DataFrame - The data to be plotted.</span>
</span><span id="plot_then_finalise-159"><a href="#plot_then_finalise-159"><span class="linenos">159</span></a><span class="sd">        function: Callable | list[Callable] - the desired plotting function(s).</span>
</span><span id="plot_then_finalise-160"><a href="#plot_then_finalise-160"><span class="linenos">160</span></a><span class="sd">        kwargs: Any - Additional keyword arguments.</span>
</span><span id="plot_then_finalise-161"><a href="#plot_then_finalise-161"><span class="linenos">161</span></a>
</span><span id="plot_then_finalise-162"><a href="#plot_then_finalise-162"><span class="linenos">162</span></a><span class="sd">    Returns None.</span>
</span><span id="plot_then_finalise-163"><a href="#plot_then_finalise-163"><span class="linenos">163</span></a>
</span><span id="plot_then_finalise-164"><a href="#plot_then_finalise-164"><span class="linenos">164</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="plot_then_finalise-165"><a href="#plot_then_finalise-165"><span class="linenos">165</span></a>    <span class="c1"># --- checks</span>
</span><span id="plot_then_finalise-166"><a href="#plot_then_finalise-166"><span class="linenos">166</span></a>    <span class="n">me</span> <span class="o">=</span> <span class="s2">&quot;plot_then_finalise&quot;</span>
</span><span id="plot_then_finalise-167"><a href="#plot_then_finalise-167"><span class="linenos">167</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="plot_then_finalise-168"><a href="#plot_then_finalise-168"><span class="linenos">168</span></a>    <span class="c1"># validate once we have established the first function</span>
</span><span id="plot_then_finalise-169"><a href="#plot_then_finalise-169"><span class="linenos">169</span></a>
</span><span id="plot_then_finalise-170"><a href="#plot_then_finalise-170"><span class="linenos">170</span></a>    <span class="c1"># data is not checked here, assume it is checked by the called</span>
</span><span id="plot_then_finalise-171"><a href="#plot_then_finalise-171"><span class="linenos">171</span></a>    <span class="c1"># plot function.</span>
</span><span id="plot_then_finalise-172"><a href="#plot_then_finalise-172"><span class="linenos">172</span></a>
</span><span id="plot_then_finalise-173"><a href="#plot_then_finalise-173"><span class="linenos">173</span></a>    <span class="n">first</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">first_unchain</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
</span><span id="plot_then_finalise-174"><a href="#plot_then_finalise-174"><span class="linenos">174</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]:</span>
</span><span id="plot_then_finalise-175"><a href="#plot_then_finalise-175"><span class="linenos">175</span></a>        <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span>  <span class="c1"># remove the function key if it is empty</span>
</span><span id="plot_then_finalise-176"><a href="#plot_then_finalise-176"><span class="linenos">176</span></a>
</span><span id="plot_then_finalise-177"><a href="#plot_then_finalise-177"><span class="linenos">177</span></a>    <span class="c1"># Check that forbidden functions are not called first</span>
</span><span id="plot_then_finalise-178"><a href="#plot_then_finalise-178"><span class="linenos">178</span></a>    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="s2">&quot;__name__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">first</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> <span class="n">FORBIDDEN_FIRST_FUNCTIONS</span><span class="p">:</span>
</span><span id="plot_then_finalise-179"><a href="#plot_then_finalise-179"><span class="linenos">179</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="plot_then_finalise-180"><a href="#plot_then_finalise-180"><span class="linenos">180</span></a>            <span class="sa">f</span><span class="s2">&quot;Function &#39;</span><span class="si">{</span><span class="n">first</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; should not be called by </span><span class="si">{</span><span class="n">me</span><span class="si">}</span><span class="s2">. Call it before calling </span><span class="si">{</span><span class="n">me</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="plot_then_finalise-181"><a href="#plot_then_finalise-181"><span class="linenos">181</span></a>        <span class="p">)</span>
</span><span id="plot_then_finalise-182"><a href="#plot_then_finalise-182"><span class="linenos">182</span></a>
</span><span id="plot_then_finalise-183"><a href="#plot_then_finalise-183"><span class="linenos">183</span></a>    <span class="k">if</span> <span class="n">first</span> <span class="ow">in</span> <span class="n">EXPECTED_CALLABLES</span><span class="p">:</span>
</span><span id="plot_then_finalise-184"><a href="#plot_then_finalise-184"><span class="linenos">184</span></a>        <span class="n">expected</span> <span class="o">=</span> <span class="n">EXPECTED_CALLABLES</span><span class="p">[</span><span class="n">first</span><span class="p">]</span>
</span><span id="plot_then_finalise-185"><a href="#plot_then_finalise-185"><span class="linenos">185</span></a>        <span class="n">plot_kwargs</span> <span class="o">=</span> <span class="n">limit_kwargs</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="plot_then_finalise-186"><a href="#plot_then_finalise-186"><span class="linenos">186</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="plot_then_finalise-187"><a href="#plot_then_finalise-187"><span class="linenos">187</span></a>        <span class="c1"># this is an unexpected Callable, so we will give it a try</span>
</span><span id="plot_then_finalise-188"><a href="#plot_then_finalise-188"><span class="linenos">188</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown proposed function: </span><span class="si">{</span><span class="n">first</span><span class="si">}</span><span class="s2">; nonetheless, will give it a try.&quot;</span><span class="p">)</span>
</span><span id="plot_then_finalise-189"><a href="#plot_then_finalise-189"><span class="linenos">189</span></a>        <span class="n">expected</span> <span class="o">=</span> <span class="n">BaseKwargs</span>
</span><span id="plot_then_finalise-190"><a href="#plot_then_finalise-190"><span class="linenos">190</span></a>        <span class="n">plot_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="plot_then_finalise-191"><a href="#plot_then_finalise-191"><span class="linenos">191</span></a>
</span><span id="plot_then_finalise-192"><a href="#plot_then_finalise-192"><span class="linenos">192</span></a>    <span class="c1"># --- validate the original kwargs (could not do before now)</span>
</span><span id="plot_then_finalise-193"><a href="#plot_then_finalise-193"><span class="linenos">193</span></a>    <span class="n">kw_types</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="plot_then_finalise-194"><a href="#plot_then_finalise-194"><span class="linenos">194</span></a>        <span class="c1"># combine the expected kwargs types with the finalise kwargs types</span>
</span><span id="plot_then_finalise-195"><a href="#plot_then_finalise-195"><span class="linenos">195</span></a>        <span class="nb">dict</span><span class="p">(</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;dict[str, Any]&quot;</span><span class="p">,</span> <span class="n">expected</span><span class="o">.</span><span class="vm">__annotations__</span><span class="p">))</span>
</span><span id="plot_then_finalise-196"><a href="#plot_then_finalise-196"><span class="linenos">196</span></a>        <span class="o">|</span> <span class="nb">dict</span><span class="p">(</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;dict[str, Any]&quot;</span><span class="p">,</span> <span class="n">FinaliseKwargs</span><span class="o">.</span><span class="vm">__annotations__</span><span class="p">))</span>
</span><span id="plot_then_finalise-197"><a href="#plot_then_finalise-197"><span class="linenos">197</span></a>    <span class="p">)</span>
</span><span id="plot_then_finalise-198"><a href="#plot_then_finalise-198"><span class="linenos">198</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">kw_types</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="plot_then_finalise-199"><a href="#plot_then_finalise-199"><span class="linenos">199</span></a>
</span><span id="plot_then_finalise-200"><a href="#plot_then_finalise-200"><span class="linenos">200</span></a>    <span class="c1"># --- call the first function with the data and selected plot kwargs</span>
</span><span id="plot_then_finalise-201"><a href="#plot_then_finalise-201"><span class="linenos">201</span></a>    <span class="n">axes</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">)</span>
</span><span id="plot_then_finalise-202"><a href="#plot_then_finalise-202"><span class="linenos">202</span></a>
</span><span id="plot_then_finalise-203"><a href="#plot_then_finalise-203"><span class="linenos">203</span></a>    <span class="c1"># --- prepare finalise kwargs (remove overlapping arguments)</span>
</span><span id="plot_then_finalise-204"><a href="#plot_then_finalise-204"><span class="linenos">204</span></a>    <span class="n">fp_kwargs</span> <span class="o">=</span> <span class="n">limit_kwargs</span><span class="p">(</span><span class="n">FinaliseKwargs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="plot_then_finalise-205"><a href="#plot_then_finalise-205"><span class="linenos">205</span></a>    <span class="c1"># Remove any arguments that were already used in the plot function</span>
</span><span id="plot_then_finalise-206"><a href="#plot_then_finalise-206"><span class="linenos">206</span></a>    <span class="n">used_plot_args</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">plot_kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="plot_then_finalise-207"><a href="#plot_then_finalise-207"><span class="linenos">207</span></a>    <span class="n">fp_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">fp_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">used_plot_args</span><span class="p">}</span>
</span><span id="plot_then_finalise-208"><a href="#plot_then_finalise-208"><span class="linenos">208</span></a>
</span><span id="plot_then_finalise-209"><a href="#plot_then_finalise-209"><span class="linenos">209</span></a>    <span class="c1"># --- finalise the plot</span>
</span><span id="plot_then_finalise-210"><a href="#plot_then_finalise-210"><span class="linenos">210</span></a>    <span class="n">finalise_plot</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="o">**</span><span class="n">fp_kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Chain a plotting function with the finalise_plot() function.</p>

<p>Args:
    data: Series | DataFrame - The data to be plotted.
    function: Callable | list[Callable] - the desired plotting function(s).
    kwargs: Any - Additional keyword arguments.</p>

<p>Returns None.</p>
</div>


                </section>
                <section id="postcovid_plot">
                            <input id="postcovid_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">postcovid_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#PostcovidKwargs">PostcovidKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="postcovid_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#postcovid_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="postcovid_plot-132"><a href="#postcovid_plot-132"><span class="linenos">132</span></a><span class="k">def</span><span class="w"> </span><span class="nf">postcovid_plot</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">PostcovidKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="postcovid_plot-133"><a href="#postcovid_plot-133"><span class="linenos">133</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot a series with a PeriodIndex, including a post-COVID projection.</span>
</span><span id="postcovid_plot-134"><a href="#postcovid_plot-134"><span class="linenos">134</span></a>
</span><span id="postcovid_plot-135"><a href="#postcovid_plot-135"><span class="linenos">135</span></a><span class="sd">    Args:</span>
</span><span id="postcovid_plot-136"><a href="#postcovid_plot-136"><span class="linenos">136</span></a><span class="sd">        data: Series - the series to be plotted.</span>
</span><span id="postcovid_plot-137"><a href="#postcovid_plot-137"><span class="linenos">137</span></a><span class="sd">        kwargs: PostcovidKwargs - plotting arguments.</span>
</span><span id="postcovid_plot-138"><a href="#postcovid_plot-138"><span class="linenos">138</span></a>
</span><span id="postcovid_plot-139"><a href="#postcovid_plot-139"><span class="linenos">139</span></a><span class="sd">    Raises:</span>
</span><span id="postcovid_plot-140"><a href="#postcovid_plot-140"><span class="linenos">140</span></a><span class="sd">        TypeError if series is not a pandas Series</span>
</span><span id="postcovid_plot-141"><a href="#postcovid_plot-141"><span class="linenos">141</span></a><span class="sd">        TypeError if series does not have a PeriodIndex</span>
</span><span id="postcovid_plot-142"><a href="#postcovid_plot-142"><span class="linenos">142</span></a><span class="sd">        ValueError if series does not have a D, M or Q frequency</span>
</span><span id="postcovid_plot-143"><a href="#postcovid_plot-143"><span class="linenos">143</span></a><span class="sd">        ValueError if regression start is after regression end</span>
</span><span id="postcovid_plot-144"><a href="#postcovid_plot-144"><span class="linenos">144</span></a>
</span><span id="postcovid_plot-145"><a href="#postcovid_plot-145"><span class="linenos">145</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="postcovid_plot-146"><a href="#postcovid_plot-146"><span class="linenos">146</span></a>
</span><span id="postcovid_plot-147"><a href="#postcovid_plot-147"><span class="linenos">147</span></a>    <span class="c1"># --- failure</span>
</span><span id="postcovid_plot-148"><a href="#postcovid_plot-148"><span class="linenos">148</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">failure</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="postcovid_plot-149"><a href="#postcovid_plot-149"><span class="linenos">149</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;postcovid_plot(): plotting the raw data only.&quot;</span><span class="p">)</span>
</span><span id="postcovid_plot-150"><a href="#postcovid_plot-150"><span class="linenos">150</span></a>        <span class="n">remove</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;plot_from&quot;</span><span class="p">,</span> <span class="s2">&quot;start_r&quot;</span><span class="p">,</span> <span class="s2">&quot;end_r&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;plot_from&quot;</span><span class="p">,</span> <span class="s2">&quot;start_r&quot;</span><span class="p">,</span> <span class="s2">&quot;end_r&quot;</span><span class="p">]</span>
</span><span id="postcovid_plot-151"><a href="#postcovid_plot-151"><span class="linenos">151</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">remove</span><span class="p">:</span>
</span><span id="postcovid_plot-152"><a href="#postcovid_plot-152"><span class="linenos">152</span></a>            <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="postcovid_plot-153"><a href="#postcovid_plot-153"><span class="linenos">153</span></a>        <span class="k">return</span> <span class="n">line_plot</span><span class="p">(</span>
</span><span id="postcovid_plot-154"><a href="#postcovid_plot-154"><span class="linenos">154</span></a>            <span class="n">data</span><span class="p">,</span>
</span><span id="postcovid_plot-155"><a href="#postcovid_plot-155"><span class="linenos">155</span></a>            <span class="o">**</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;LineKwargs&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">),</span>
</span><span id="postcovid_plot-156"><a href="#postcovid_plot-156"><span class="linenos">156</span></a>        <span class="p">)</span>
</span><span id="postcovid_plot-157"><a href="#postcovid_plot-157"><span class="linenos">157</span></a>
</span><span id="postcovid_plot-158"><a href="#postcovid_plot-158"><span class="linenos">158</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="postcovid_plot-159"><a href="#postcovid_plot-159"><span class="linenos">159</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="postcovid_plot-160"><a href="#postcovid_plot-160"><span class="linenos">160</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">PostcovidKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="postcovid_plot-161"><a href="#postcovid_plot-161"><span class="linenos">161</span></a>
</span><span id="postcovid_plot-162"><a href="#postcovid_plot-162"><span class="linenos">162</span></a>    <span class="c1"># --- check the data</span>
</span><span id="postcovid_plot-163"><a href="#postcovid_plot-163"><span class="linenos">163</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">check_clean_timeseries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ME</span><span class="p">)</span>
</span><span id="postcovid_plot-164"><a href="#postcovid_plot-164"><span class="linenos">164</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Series</span><span class="p">):</span>
</span><span id="postcovid_plot-165"><a href="#postcovid_plot-165"><span class="linenos">165</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The series argument must be a pandas Series&quot;</span><span class="p">)</span>
</span><span id="postcovid_plot-166"><a href="#postcovid_plot-166"><span class="linenos">166</span></a>
</span><span id="postcovid_plot-167"><a href="#postcovid_plot-167"><span class="linenos">167</span></a>    <span class="c1"># --- rely on line_plot() to validate kwargs, but remove any that are not relevant</span>
</span><span id="postcovid_plot-168"><a href="#postcovid_plot-168"><span class="linenos">168</span></a>    <span class="k">if</span> <span class="s2">&quot;plot_from&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="postcovid_plot-169"><a href="#postcovid_plot-169"><span class="linenos">169</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Warning: the &#39;plot_from&#39; argument is ignored in postcovid_plot().&quot;</span><span class="p">)</span>
</span><span id="postcovid_plot-170"><a href="#postcovid_plot-170"><span class="linenos">170</span></a>        <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;plot_from&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="postcovid_plot-171"><a href="#postcovid_plot-171"><span class="linenos">171</span></a>
</span><span id="postcovid_plot-172"><a href="#postcovid_plot-172"><span class="linenos">172</span></a>    <span class="c1"># --- set the regression period</span>
</span><span id="postcovid_plot-173"><a href="#postcovid_plot-173"><span class="linenos">173</span></a>    <span class="n">start_r</span><span class="p">,</span> <span class="n">end_r</span><span class="p">,</span> <span class="n">robust</span> <span class="o">=</span> <span class="n">regression_period</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="postcovid_plot-174"><a href="#postcovid_plot-174"><span class="linenos">174</span></a>    <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;start_r&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># remove from kwargs to avoid confusion</span>
</span><span id="postcovid_plot-175"><a href="#postcovid_plot-175"><span class="linenos">175</span></a>    <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;end_r&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># remove from kwargs to avoid confusion</span>
</span><span id="postcovid_plot-176"><a href="#postcovid_plot-176"><span class="linenos">176</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">robust</span><span class="p">:</span>
</span><span id="postcovid_plot-177"><a href="#postcovid_plot-177"><span class="linenos">177</span></a>        <span class="k">return</span> <span class="n">failure</span><span class="p">()</span>
</span><span id="postcovid_plot-178"><a href="#postcovid_plot-178"><span class="linenos">178</span></a>
</span><span id="postcovid_plot-179"><a href="#postcovid_plot-179"><span class="linenos">179</span></a>    <span class="c1"># --- combine data and projection</span>
</span><span id="postcovid_plot-180"><a href="#postcovid_plot-180"><span class="linenos">180</span></a>    <span class="k">if</span> <span class="n">start_r</span> <span class="o">&lt;</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">():</span>
</span><span id="postcovid_plot-181"><a href="#postcovid_plot-181"><span class="linenos">181</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Caution: Regression start period pre-dates the series index: </span><span class="si">{</span><span class="n">start_r</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="postcovid_plot-182"><a href="#postcovid_plot-182"><span class="linenos">182</span></a>    <span class="n">recent_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="n">start_r</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="postcovid_plot-183"><a href="#postcovid_plot-183"><span class="linenos">183</span></a>    <span class="n">recent_data</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Series&quot;</span>
</span><span id="postcovid_plot-184"><a href="#postcovid_plot-184"><span class="linenos">184</span></a>    <span class="n">projection_data</span> <span class="o">=</span> <span class="n">get_projection</span><span class="p">(</span><span class="n">recent_data</span><span class="p">,</span> <span class="n">end_r</span><span class="p">)</span>
</span><span id="postcovid_plot-185"><a href="#postcovid_plot-185"><span class="linenos">185</span></a>    <span class="k">if</span> <span class="n">projection_data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="postcovid_plot-186"><a href="#postcovid_plot-186"><span class="linenos">186</span></a>        <span class="k">return</span> <span class="n">failure</span><span class="p">()</span>
</span><span id="postcovid_plot-187"><a href="#postcovid_plot-187"><span class="linenos">187</span></a>    <span class="n">projection_data</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Pre-COVID projection&quot;</span>
</span><span id="postcovid_plot-188"><a href="#postcovid_plot-188"><span class="linenos">188</span></a>
</span><span id="postcovid_plot-189"><a href="#postcovid_plot-189"><span class="linenos">189</span></a>    <span class="c1"># --- Create DataFrame with proper column alignment</span>
</span><span id="postcovid_plot-190"><a href="#postcovid_plot-190"><span class="linenos">190</span></a>    <span class="n">combined_data</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span>
</span><span id="postcovid_plot-191"><a href="#postcovid_plot-191"><span class="linenos">191</span></a>        <span class="p">{</span>
</span><span id="postcovid_plot-192"><a href="#postcovid_plot-192"><span class="linenos">192</span></a>            <span class="n">projection_data</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">projection_data</span><span class="p">,</span>
</span><span id="postcovid_plot-193"><a href="#postcovid_plot-193"><span class="linenos">193</span></a>            <span class="n">recent_data</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">recent_data</span><span class="p">,</span>
</span><span id="postcovid_plot-194"><a href="#postcovid_plot-194"><span class="linenos">194</span></a>        <span class="p">}</span>
</span><span id="postcovid_plot-195"><a href="#postcovid_plot-195"><span class="linenos">195</span></a>    <span class="p">)</span>
</span><span id="postcovid_plot-196"><a href="#postcovid_plot-196"><span class="linenos">196</span></a>
</span><span id="postcovid_plot-197"><a href="#postcovid_plot-197"><span class="linenos">197</span></a>    <span class="c1"># --- activate plot settings</span>
</span><span id="postcovid_plot-198"><a href="#postcovid_plot-198"><span class="linenos">198</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
</span><span id="postcovid_plot-199"><a href="#postcovid_plot-199"><span class="linenos">199</span></a>        <span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="postcovid_plot-200"><a href="#postcovid_plot-200"><span class="linenos">200</span></a>        <span class="p">(</span><span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;line_normal&quot;</span><span class="p">),</span> <span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;line_wide&quot;</span><span class="p">)),</span>
</span><span id="postcovid_plot-201"><a href="#postcovid_plot-201"><span class="linenos">201</span></a>    <span class="p">)</span>  <span class="c1"># series line is thicker than projection</span>
</span><span id="postcovid_plot-202"><a href="#postcovid_plot-202"><span class="linenos">202</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">))</span>  <span class="c1"># dashed regression line</span>
</span><span id="postcovid_plot-203"><a href="#postcovid_plot-203"><span class="linenos">203</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;label_series&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;label_series&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="postcovid_plot-204"><a href="#postcovid_plot-204"><span class="linenos">204</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;annotate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;annotate&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>  <span class="c1"># annotate series only</span>
</span><span id="postcovid_plot-205"><a href="#postcovid_plot-205"><span class="linenos">205</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;darkblue&quot;</span><span class="p">,</span> <span class="s2">&quot;#dd0000&quot;</span><span class="p">))</span>
</span><span id="postcovid_plot-206"><a href="#postcovid_plot-206"><span class="linenos">206</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;dropna&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;dropna&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>  <span class="c1"># drop NaN values</span>
</span><span id="postcovid_plot-207"><a href="#postcovid_plot-207"><span class="linenos">207</span></a>
</span><span id="postcovid_plot-208"><a href="#postcovid_plot-208"><span class="linenos">208</span></a>    <span class="k">return</span> <span class="n">line_plot</span><span class="p">(</span>
</span><span id="postcovid_plot-209"><a href="#postcovid_plot-209"><span class="linenos">209</span></a>        <span class="n">combined_data</span><span class="p">,</span>
</span><span id="postcovid_plot-210"><a href="#postcovid_plot-210"><span class="linenos">210</span></a>        <span class="o">**</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;LineKwargs&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">),</span>
</span><span id="postcovid_plot-211"><a href="#postcovid_plot-211"><span class="linenos">211</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Plot a series with a PeriodIndex, including a post-COVID projection.</p>

<p>Args:
    data: Series - the series to be plotted.
    kwargs: PostcovidKwargs - plotting arguments.</p>

<p>Raises:
    TypeError if series is not a pandas Series
    TypeError if series does not have a PeriodIndex
    ValueError if series does not have a D, M or Q frequency
    ValueError if regression start is after regression end</p>
</div>


                </section>
                <section id="postcovid_plot_finalise">
                            <input id="postcovid_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">postcovid_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">PCFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="postcovid_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#postcovid_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="postcovid_plot_finalise-185"><a href="#postcovid_plot_finalise-185"><span class="linenos">185</span></a><span class="k">def</span><span class="w"> </span><span class="nf">postcovid_plot_finalise</span><span class="p">(</span>
</span><span id="postcovid_plot_finalise-186"><a href="#postcovid_plot_finalise-186"><span class="linenos">186</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="postcovid_plot_finalise-187"><a href="#postcovid_plot_finalise-187"><span class="linenos">187</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">PCFKwargs</span><span class="p">],</span>
</span><span id="postcovid_plot_finalise-188"><a href="#postcovid_plot_finalise-188"><span class="linenos">188</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="postcovid_plot_finalise-189"><a href="#postcovid_plot_finalise-189"><span class="linenos">189</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call postcovid_plot() and finalise_plot().</span>
</span><span id="postcovid_plot_finalise-190"><a href="#postcovid_plot_finalise-190"><span class="linenos">190</span></a>
</span><span id="postcovid_plot_finalise-191"><a href="#postcovid_plot_finalise-191"><span class="linenos">191</span></a><span class="sd">    Args:</span>
</span><span id="postcovid_plot_finalise-192"><a href="#postcovid_plot_finalise-192"><span class="linenos">192</span></a><span class="sd">        data: The data to be plotted.</span>
</span><span id="postcovid_plot_finalise-193"><a href="#postcovid_plot_finalise-193"><span class="linenos">193</span></a><span class="sd">        kwargs: Combined postcovid plot and finalise plot keyword arguments.</span>
</span><span id="postcovid_plot_finalise-194"><a href="#postcovid_plot_finalise-194"><span class="linenos">194</span></a>
</span><span id="postcovid_plot_finalise-195"><a href="#postcovid_plot_finalise-195"><span class="linenos">195</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="postcovid_plot_finalise-196"><a href="#postcovid_plot_finalise-196"><span class="linenos">196</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">PCFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;postcovid_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="postcovid_plot_finalise-197"><a href="#postcovid_plot_finalise-197"><span class="linenos">197</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="postcovid_plot_finalise-198"><a href="#postcovid_plot_finalise-198"><span class="linenos">198</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">postcovid_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call postcovid_plot() and finalise_plot().</p>

<p>Args:
    data: The data to be plotted.
    kwargs: Combined postcovid plot and finalise plot keyword arguments.</p>
</div>


                </section>
                <section id="revision_plot">
                            <input id="revision_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">revision_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#LineKwargs">LineKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="revision_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#revision_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="revision_plot-21"><a href="#revision_plot-21"><span class="linenos">21</span></a><span class="k">def</span><span class="w"> </span><span class="nf">revision_plot</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">LineKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="revision_plot-22"><a href="#revision_plot-22"><span class="linenos">22</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot the revisions to ABS data.</span>
</span><span id="revision_plot-23"><a href="#revision_plot-23"><span class="linenos">23</span></a>
</span><span id="revision_plot-24"><a href="#revision_plot-24"><span class="linenos">24</span></a><span class="sd">    Args:</span>
</span><span id="revision_plot-25"><a href="#revision_plot-25"><span class="linenos">25</span></a><span class="sd">        data: DataFrame - the data to plot, with a column for each data revision.</span>
</span><span id="revision_plot-26"><a href="#revision_plot-26"><span class="linenos">26</span></a><span class="sd">               Must have at least 2 columns to show meaningful revision comparisons.</span>
</span><span id="revision_plot-27"><a href="#revision_plot-27"><span class="linenos">27</span></a><span class="sd">        kwargs: LineKwargs - additional keyword arguments for the line_plot function.</span>
</span><span id="revision_plot-28"><a href="#revision_plot-28"><span class="linenos">28</span></a>
</span><span id="revision_plot-29"><a href="#revision_plot-29"><span class="linenos">29</span></a><span class="sd">    Returns:</span>
</span><span id="revision_plot-30"><a href="#revision_plot-30"><span class="linenos">30</span></a><span class="sd">        Axes: A matplotlib Axes object containing the revision plot.</span>
</span><span id="revision_plot-31"><a href="#revision_plot-31"><span class="linenos">31</span></a>
</span><span id="revision_plot-32"><a href="#revision_plot-32"><span class="linenos">32</span></a><span class="sd">    Raises:</span>
</span><span id="revision_plot-33"><a href="#revision_plot-33"><span class="linenos">33</span></a><span class="sd">        TypeError: If data is not a DataFrame.</span>
</span><span id="revision_plot-34"><a href="#revision_plot-34"><span class="linenos">34</span></a><span class="sd">        ValueError: If DataFrame has fewer than 2 columns for revision comparison.</span>
</span><span id="revision_plot-35"><a href="#revision_plot-35"><span class="linenos">35</span></a>
</span><span id="revision_plot-36"><a href="#revision_plot-36"><span class="linenos">36</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="revision_plot-37"><a href="#revision_plot-37"><span class="linenos">37</span></a>    <span class="c1"># --- check the kwargs and data</span>
</span><span id="revision_plot-38"><a href="#revision_plot-38"><span class="linenos">38</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="revision_plot-39"><a href="#revision_plot-39"><span class="linenos">39</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">LineKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="revision_plot-40"><a href="#revision_plot-40"><span class="linenos">40</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">check_clean_timeseries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ME</span><span class="p">)</span>
</span><span id="revision_plot-41"><a href="#revision_plot-41"><span class="linenos">41</span></a>
</span><span id="revision_plot-42"><a href="#revision_plot-42"><span class="linenos">42</span></a>    <span class="c1"># --- additional checks</span>
</span><span id="revision_plot-43"><a href="#revision_plot-43"><span class="linenos">43</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">):</span>
</span><span id="revision_plot-44"><a href="#revision_plot-44"><span class="linenos">44</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ME</span><span class="si">}</span><span class="s2">() requires a DataFrame with columns for each revision, not a Series or any other type.&quot;</span><span class="p">)</span>
</span><span id="revision_plot-45"><a href="#revision_plot-45"><span class="linenos">45</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ME</span><span class="si">}</span><span class="s2">() requires a DataFrame, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="revision_plot-46"><a href="#revision_plot-46"><span class="linenos">46</span></a>
</span><span id="revision_plot-47"><a href="#revision_plot-47"><span class="linenos">47</span></a>    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">MIN_REVISION_COLUMNS</span><span class="p">:</span>
</span><span id="revision_plot-48"><a href="#revision_plot-48"><span class="linenos">48</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="revision_plot-49"><a href="#revision_plot-49"><span class="linenos">49</span></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ME</span><span class="si">}</span><span class="s2">() requires at least </span><span class="si">{</span><span class="n">MIN_REVISION_COLUMNS</span><span class="si">}</span><span class="s2"> columns for revision comparison, &quot;</span>
</span><span id="revision_plot-50"><a href="#revision_plot-50"><span class="linenos">50</span></a>            <span class="sa">f</span><span class="s2">&quot;but got </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> columns&quot;</span>
</span><span id="revision_plot-51"><a href="#revision_plot-51"><span class="linenos">51</span></a>        <span class="p">)</span>
</span><span id="revision_plot-52"><a href="#revision_plot-52"><span class="linenos">52</span></a>
</span><span id="revision_plot-53"><a href="#revision_plot-53"><span class="linenos">53</span></a>    <span class="c1"># --- set defaults for revision visualization</span>
</span><span id="revision_plot-54"><a href="#revision_plot-54"><span class="linenos">54</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;plot_from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plot_from&quot;</span><span class="p">,</span> <span class="n">DEFAULT_PLOT_FROM</span><span class="p">)</span>
</span><span id="revision_plot-55"><a href="#revision_plot-55"><span class="linenos">55</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;annotate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;annotate&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="revision_plot-56"><a href="#revision_plot-56"><span class="linenos">56</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;annotate_color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;annotate_color&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
</span><span id="revision_plot-57"><a href="#revision_plot-57"><span class="linenos">57</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;rounding&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rounding&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="revision_plot-58"><a href="#revision_plot-58"><span class="linenos">58</span></a>
</span><span id="revision_plot-59"><a href="#revision_plot-59"><span class="linenos">59</span></a>    <span class="c1"># --- plot</span>
</span><span id="revision_plot-60"><a href="#revision_plot-60"><span class="linenos">60</span></a>    <span class="k">return</span> <span class="n">line_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Plot the revisions to ABS data.</p>

<p>Args:
    data: DataFrame - the data to plot, with a column for each data revision.
           Must have at least 2 columns to show meaningful revision comparisons.
    kwargs: LineKwargs - additional keyword arguments for the line_plot function.</p>

<p>Returns:
    Axes: A matplotlib Axes object containing the revision plot.</p>

<p>Raises:
    TypeError: If data is not a DataFrame.
    ValueError: If DataFrame has fewer than 2 columns for revision comparison.</p>
</div>


                </section>
                <section id="revision_plot_finalise">
                            <input id="revision_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">revision_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">RevPFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="revision_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#revision_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="revision_plot_finalise-201"><a href="#revision_plot_finalise-201"><span class="linenos">201</span></a><span class="k">def</span><span class="w"> </span><span class="nf">revision_plot_finalise</span><span class="p">(</span>
</span><span id="revision_plot_finalise-202"><a href="#revision_plot_finalise-202"><span class="linenos">202</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="revision_plot_finalise-203"><a href="#revision_plot_finalise-203"><span class="linenos">203</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">RevPFKwargs</span><span class="p">],</span>
</span><span id="revision_plot_finalise-204"><a href="#revision_plot_finalise-204"><span class="linenos">204</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="revision_plot_finalise-205"><a href="#revision_plot_finalise-205"><span class="linenos">205</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call revision_plot() and finalise_plot().</span>
</span><span id="revision_plot_finalise-206"><a href="#revision_plot_finalise-206"><span class="linenos">206</span></a>
</span><span id="revision_plot_finalise-207"><a href="#revision_plot_finalise-207"><span class="linenos">207</span></a><span class="sd">    Args:</span>
</span><span id="revision_plot_finalise-208"><a href="#revision_plot_finalise-208"><span class="linenos">208</span></a><span class="sd">        data: The revision data to be plotted.</span>
</span><span id="revision_plot_finalise-209"><a href="#revision_plot_finalise-209"><span class="linenos">209</span></a><span class="sd">        kwargs: Combined revision plot and finalise plot keyword arguments.</span>
</span><span id="revision_plot_finalise-210"><a href="#revision_plot_finalise-210"><span class="linenos">210</span></a>
</span><span id="revision_plot_finalise-211"><a href="#revision_plot_finalise-211"><span class="linenos">211</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="revision_plot_finalise-212"><a href="#revision_plot_finalise-212"><span class="linenos">212</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">RevPFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;revision_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="revision_plot_finalise-213"><a href="#revision_plot_finalise-213"><span class="linenos">213</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="revision_plot_finalise-214"><a href="#revision_plot_finalise-214"><span class="linenos">214</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">revision_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call revision_plot() and finalise_plot().</p>

<p>Args:
    data: The revision data to be plotted.
    kwargs: Combined revision plot and finalise plot keyword arguments.</p>
</div>


                </section>
                <section id="run_plot">
                            <input id="run_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#RunKwargs">RunKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="run_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#run_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="run_plot-161"><a href="#run_plot-161"><span class="linenos">161</span></a><span class="k">def</span><span class="w"> </span><span class="nf">run_plot</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">RunKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="run_plot-162"><a href="#run_plot-162"><span class="linenos">162</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot a series of percentage rates, highlighting the increasing runs.</span>
</span><span id="run_plot-163"><a href="#run_plot-163"><span class="linenos">163</span></a>
</span><span id="run_plot-164"><a href="#run_plot-164"><span class="linenos">164</span></a><span class="sd">    Arguments:</span>
</span><span id="run_plot-165"><a href="#run_plot-165"><span class="linenos">165</span></a><span class="sd">        data: Series - ordered pandas Series of percentages, with PeriodIndex.</span>
</span><span id="run_plot-166"><a href="#run_plot-166"><span class="linenos">166</span></a><span class="sd">        kwargs: RunKwargs - keyword arguments for the run_plot function.</span>
</span><span id="run_plot-167"><a href="#run_plot-167"><span class="linenos">167</span></a>
</span><span id="run_plot-168"><a href="#run_plot-168"><span class="linenos">168</span></a><span class="sd">    Return:</span>
</span><span id="run_plot-169"><a href="#run_plot-169"><span class="linenos">169</span></a><span class="sd">     - matplotlib Axes object</span>
</span><span id="run_plot-170"><a href="#run_plot-170"><span class="linenos">170</span></a>
</span><span id="run_plot-171"><a href="#run_plot-171"><span class="linenos">171</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="run_plot-172"><a href="#run_plot-172"><span class="linenos">172</span></a>    <span class="c1"># --- validate inputs</span>
</span><span id="run_plot-173"><a href="#run_plot-173"><span class="linenos">173</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="run_plot-174"><a href="#run_plot-174"><span class="linenos">174</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">RunKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="run_plot-175"><a href="#run_plot-175"><span class="linenos">175</span></a>
</span><span id="run_plot-176"><a href="#run_plot-176"><span class="linenos">176</span></a>    <span class="n">series</span> <span class="o">=</span> <span class="n">check_clean_timeseries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ME</span><span class="p">)</span>
</span><span id="run_plot-177"><a href="#run_plot-177"><span class="linenos">177</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">Series</span><span class="p">):</span>
</span><span id="run_plot-178"><a href="#run_plot-178"><span class="linenos">178</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;series must be a pandas Series for run_plot()&quot;</span><span class="p">)</span>
</span><span id="run_plot-179"><a href="#run_plot-179"><span class="linenos">179</span></a>    <span class="n">series</span><span class="p">,</span> <span class="n">kwargs_d</span> <span class="o">=</span> <span class="n">constrain_data</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="run_plot-180"><a href="#run_plot-180"><span class="linenos">180</span></a>
</span><span id="run_plot-181"><a href="#run_plot-181"><span class="linenos">181</span></a>    <span class="c1"># --- configure defaults and validate</span>
</span><span id="run_plot-182"><a href="#run_plot-182"><span class="linenos">182</span></a>    <span class="n">direction</span> <span class="o">=</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;direction&quot;</span><span class="p">,</span> <span class="s2">&quot;both&quot;</span><span class="p">)</span>
</span><span id="run_plot-183"><a href="#run_plot-183"><span class="linenos">183</span></a>    <span class="n">_configure_defaults</span><span class="p">(</span><span class="n">kwargs_d</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
</span><span id="run_plot-184"><a href="#run_plot-184"><span class="linenos">184</span></a>
</span><span id="run_plot-185"><a href="#run_plot-185"><span class="linenos">185</span></a>    <span class="n">threshold</span> <span class="o">=</span> <span class="n">kwargs_d</span><span class="p">[</span><span class="s2">&quot;threshold&quot;</span><span class="p">]</span>
</span><span id="run_plot-186"><a href="#run_plot-186"><span class="linenos">186</span></a>    <span class="k">if</span> <span class="n">threshold</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="run_plot-187"><a href="#run_plot-187"><span class="linenos">187</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Threshold must be positive&quot;</span><span class="p">)</span>
</span><span id="run_plot-188"><a href="#run_plot-188"><span class="linenos">188</span></a>
</span><span id="run_plot-189"><a href="#run_plot-189"><span class="linenos">189</span></a>    <span class="c1"># --- handle PeriodIndex conversion</span>
</span><span id="run_plot-190"><a href="#run_plot-190"><span class="linenos">190</span></a>    <span class="n">saved_pi</span> <span class="o">=</span> <span class="n">map_periodindex</span><span class="p">(</span><span class="n">series</span><span class="p">)</span>
</span><span id="run_plot-191"><a href="#run_plot-191"><span class="linenos">191</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="run_plot-192"><a href="#run_plot-192"><span class="linenos">192</span></a>        <span class="n">series</span> <span class="o">=</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="run_plot-193"><a href="#run_plot-193"><span class="linenos">193</span></a>
</span><span id="run_plot-194"><a href="#run_plot-194"><span class="linenos">194</span></a>    <span class="c1"># --- plot the line</span>
</span><span id="run_plot-195"><a href="#run_plot-195"><span class="linenos">195</span></a>    <span class="n">lp_kwargs</span> <span class="o">=</span> <span class="n">limit_kwargs</span><span class="p">(</span><span class="n">LineKwargs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs_d</span><span class="p">)</span>
</span><span id="run_plot-196"><a href="#run_plot-196"><span class="linenos">196</span></a>    <span class="n">axes</span> <span class="o">=</span> <span class="n">line_plot</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="o">**</span><span class="n">lp_kwargs</span><span class="p">)</span>
</span><span id="run_plot-197"><a href="#run_plot-197"><span class="linenos">197</span></a>
</span><span id="run_plot-198"><a href="#run_plot-198"><span class="linenos">198</span></a>    <span class="c1"># --- plot runs based on direction</span>
</span><span id="run_plot-199"><a href="#run_plot-199"><span class="linenos">199</span></a>    <span class="n">run_label</span> <span class="o">=</span> <span class="n">kwargs_d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;highlight_label&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="run_plot-200"><a href="#run_plot-200"><span class="linenos">200</span></a>    <span class="n">up_label</span><span class="p">,</span> <span class="n">down_label</span> <span class="o">=</span> <span class="n">_resolve_labels</span><span class="p">(</span><span class="n">run_label</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
</span><span id="run_plot-201"><a href="#run_plot-201"><span class="linenos">201</span></a>
</span><span id="run_plot-202"><a href="#run_plot-202"><span class="linenos">202</span></a>    <span class="k">if</span> <span class="n">direction</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;both&quot;</span><span class="p">):</span>
</span><span id="run_plot-203"><a href="#run_plot-203"><span class="linenos">203</span></a>        <span class="n">_plot_runs</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">series</span><span class="p">,</span> <span class="n">run_label</span><span class="o">=</span><span class="n">up_label</span><span class="p">,</span> <span class="n">up</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs_d</span><span class="p">)</span>
</span><span id="run_plot-204"><a href="#run_plot-204"><span class="linenos">204</span></a>    <span class="k">if</span> <span class="n">direction</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;both&quot;</span><span class="p">):</span>
</span><span id="run_plot-205"><a href="#run_plot-205"><span class="linenos">205</span></a>        <span class="n">_plot_runs</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">series</span><span class="p">,</span> <span class="n">run_label</span><span class="o">=</span><span class="n">down_label</span><span class="p">,</span> <span class="n">up</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs_d</span><span class="p">)</span>
</span><span id="run_plot-206"><a href="#run_plot-206"><span class="linenos">206</span></a>
</span><span id="run_plot-207"><a href="#run_plot-207"><span class="linenos">207</span></a>    <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;both&quot;</span><span class="p">):</span>
</span><span id="run_plot-208"><a href="#run_plot-208"><span class="linenos">208</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid direction: </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s2">. Expected &#39;up&#39;, &#39;down&#39;, or &#39;both&#39;.&quot;</span><span class="p">)</span>
</span><span id="run_plot-209"><a href="#run_plot-209"><span class="linenos">209</span></a>
</span><span id="run_plot-210"><a href="#run_plot-210"><span class="linenos">210</span></a>    <span class="c1"># --- set axis labels</span>
</span><span id="run_plot-211"><a href="#run_plot-211"><span class="linenos">211</span></a>    <span class="k">if</span> <span class="n">saved_pi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="run_plot-212"><a href="#run_plot-212"><span class="linenos">212</span></a>        <span class="n">set_labels</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">saved_pi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_ticks&quot;</span><span class="p">,</span> <span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;max_ticks&quot;</span><span class="p">)))</span>
</span><span id="run_plot-213"><a href="#run_plot-213"><span class="linenos">213</span></a>
</span><span id="run_plot-214"><a href="#run_plot-214"><span class="linenos">214</span></a>    <span class="k">return</span> <span class="n">axes</span>
</span></pre></div>


            <div class="docstring"><p>Plot a series of percentage rates, highlighting the increasing runs.</p>

<p>Arguments:
    data: Series - ordered pandas Series of percentages, with PeriodIndex.
    kwargs: RunKwargs - keyword arguments for the run_plot function.</p>

<p>Return:</p>

<ul>
<li>matplotlib Axes object</li>
</ul>
</div>


                </section>
                <section id="run_plot_finalise">
                            <input id="run_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">RunPFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="run_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#run_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="run_plot_finalise-217"><a href="#run_plot_finalise-217"><span class="linenos">217</span></a><span class="k">def</span><span class="w"> </span><span class="nf">run_plot_finalise</span><span class="p">(</span>
</span><span id="run_plot_finalise-218"><a href="#run_plot_finalise-218"><span class="linenos">218</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="run_plot_finalise-219"><a href="#run_plot_finalise-219"><span class="linenos">219</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">RunPFKwargs</span><span class="p">],</span>
</span><span id="run_plot_finalise-220"><a href="#run_plot_finalise-220"><span class="linenos">220</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="run_plot_finalise-221"><a href="#run_plot_finalise-221"><span class="linenos">221</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call run_plot() and finalise_plot().</span>
</span><span id="run_plot_finalise-222"><a href="#run_plot_finalise-222"><span class="linenos">222</span></a>
</span><span id="run_plot_finalise-223"><a href="#run_plot_finalise-223"><span class="linenos">223</span></a><span class="sd">    Args:</span>
</span><span id="run_plot_finalise-224"><a href="#run_plot_finalise-224"><span class="linenos">224</span></a><span class="sd">        data: The data to be plotted.</span>
</span><span id="run_plot_finalise-225"><a href="#run_plot_finalise-225"><span class="linenos">225</span></a><span class="sd">        kwargs: Combined run plot and finalise plot keyword arguments.</span>
</span><span id="run_plot_finalise-226"><a href="#run_plot_finalise-226"><span class="linenos">226</span></a>
</span><span id="run_plot_finalise-227"><a href="#run_plot_finalise-227"><span class="linenos">227</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="run_plot_finalise-228"><a href="#run_plot_finalise-228"><span class="linenos">228</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">RunPFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;run_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="run_plot_finalise-229"><a href="#run_plot_finalise-229"><span class="linenos">229</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="s2">&quot;highlight_label&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">)</span>
</span><span id="run_plot_finalise-230"><a href="#run_plot_finalise-230"><span class="linenos">230</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">run_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call run_plot() and finalise_plot().</p>

<p>Args:
    data: The data to be plotted.
    kwargs: Combined run plot and finalise plot keyword arguments.</p>
</div>


                </section>
                <section id="seastrend_plot">
                            <input id="seastrend_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">seastrend_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#LineKwargs">LineKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="seastrend_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#seastrend_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="seastrend_plot-19"><a href="#seastrend_plot-19"><span class="linenos">19</span></a><span class="k">def</span><span class="w"> </span><span class="nf">seastrend_plot</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">LineKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="seastrend_plot-20"><a href="#seastrend_plot-20"><span class="linenos">20</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Produce a seasonal+trend plot.</span>
</span><span id="seastrend_plot-21"><a href="#seastrend_plot-21"><span class="linenos">21</span></a>
</span><span id="seastrend_plot-22"><a href="#seastrend_plot-22"><span class="linenos">22</span></a><span class="sd">    Arguments:</span>
</span><span id="seastrend_plot-23"><a href="#seastrend_plot-23"><span class="linenos">23</span></a><span class="sd">        data: DataFrame - the data to plot. Must have exactly 2 columns:</span>
</span><span id="seastrend_plot-24"><a href="#seastrend_plot-24"><span class="linenos">24</span></a><span class="sd">                          Seasonal data in column 0, Trend data in column 1</span>
</span><span id="seastrend_plot-25"><a href="#seastrend_plot-25"><span class="linenos">25</span></a><span class="sd">        kwargs: LineKwargs - additional keyword arguments to pass to line_plot()</span>
</span><span id="seastrend_plot-26"><a href="#seastrend_plot-26"><span class="linenos">26</span></a>
</span><span id="seastrend_plot-27"><a href="#seastrend_plot-27"><span class="linenos">27</span></a><span class="sd">    Returns:</span>
</span><span id="seastrend_plot-28"><a href="#seastrend_plot-28"><span class="linenos">28</span></a><span class="sd">        Axes: A matplotlib Axes object containing the seasonal+trend plot</span>
</span><span id="seastrend_plot-29"><a href="#seastrend_plot-29"><span class="linenos">29</span></a>
</span><span id="seastrend_plot-30"><a href="#seastrend_plot-30"><span class="linenos">30</span></a><span class="sd">    Raises:</span>
</span><span id="seastrend_plot-31"><a href="#seastrend_plot-31"><span class="linenos">31</span></a><span class="sd">        ValueError: If the DataFrame does not have exactly 2 columns</span>
</span><span id="seastrend_plot-32"><a href="#seastrend_plot-32"><span class="linenos">32</span></a>
</span><span id="seastrend_plot-33"><a href="#seastrend_plot-33"><span class="linenos">33</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="seastrend_plot-34"><a href="#seastrend_plot-34"><span class="linenos">34</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="seastrend_plot-35"><a href="#seastrend_plot-35"><span class="linenos">35</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="seastrend_plot-36"><a href="#seastrend_plot-36"><span class="linenos">36</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">LineKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="seastrend_plot-37"><a href="#seastrend_plot-37"><span class="linenos">37</span></a>
</span><span id="seastrend_plot-38"><a href="#seastrend_plot-38"><span class="linenos">38</span></a>    <span class="c1"># --- check the data</span>
</span><span id="seastrend_plot-39"><a href="#seastrend_plot-39"><span class="linenos">39</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">check_clean_timeseries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ME</span><span class="p">)</span>
</span><span id="seastrend_plot-40"><a href="#seastrend_plot-40"><span class="linenos">40</span></a>    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">REQUIRED_COLUMNS</span><span class="p">:</span>
</span><span id="seastrend_plot-41"><a href="#seastrend_plot-41"><span class="linenos">41</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="seastrend_plot-42"><a href="#seastrend_plot-42"><span class="linenos">42</span></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ME</span><span class="si">}</span><span class="s2">() expects a DataFrame with exactly </span><span class="si">{</span><span class="n">REQUIRED_COLUMNS</span><span class="si">}</span><span class="s2"> columns &quot;</span>
</span><span id="seastrend_plot-43"><a href="#seastrend_plot-43"><span class="linenos">43</span></a>            <span class="sa">f</span><span class="s2">&quot;(seasonal and trend), but got </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> columns.&quot;</span>
</span><span id="seastrend_plot-44"><a href="#seastrend_plot-44"><span class="linenos">44</span></a>        <span class="p">)</span>
</span><span id="seastrend_plot-45"><a href="#seastrend_plot-45"><span class="linenos">45</span></a>
</span><span id="seastrend_plot-46"><a href="#seastrend_plot-46"><span class="linenos">46</span></a>    <span class="c1"># --- set defaults for seasonal+trend visualization</span>
</span><span id="seastrend_plot-47"><a href="#seastrend_plot-47"><span class="linenos">47</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="n">get_color_list</span><span class="p">(</span><span class="n">REQUIRED_COLUMNS</span><span class="p">))</span>
</span><span id="seastrend_plot-48"><a href="#seastrend_plot-48"><span class="linenos">48</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;line_normal&quot;</span><span class="p">),</span> <span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;line_wide&quot;</span><span class="p">)])</span>
</span><span id="seastrend_plot-49"><a href="#seastrend_plot-49"><span class="linenos">49</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">])</span>
</span><span id="seastrend_plot-50"><a href="#seastrend_plot-50"><span class="linenos">50</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;annotate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;annotate&quot;</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>  <span class="c1"># annotate seasonal, not trend</span>
</span><span id="seastrend_plot-51"><a href="#seastrend_plot-51"><span class="linenos">51</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;rounding&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rounding&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="seastrend_plot-52"><a href="#seastrend_plot-52"><span class="linenos">52</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;dropna&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dropna&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>  <span class="c1"># series breaks are common in seas-trend data</span>
</span><span id="seastrend_plot-53"><a href="#seastrend_plot-53"><span class="linenos">53</span></a>
</span><span id="seastrend_plot-54"><a href="#seastrend_plot-54"><span class="linenos">54</span></a>    <span class="k">return</span> <span class="n">line_plot</span><span class="p">(</span>
</span><span id="seastrend_plot-55"><a href="#seastrend_plot-55"><span class="linenos">55</span></a>        <span class="n">data</span><span class="p">,</span>
</span><span id="seastrend_plot-56"><a href="#seastrend_plot-56"><span class="linenos">56</span></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="seastrend_plot-57"><a href="#seastrend_plot-57"><span class="linenos">57</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Produce a seasonal+trend plot.</p>

<p>Arguments:
    data: DataFrame - the data to plot. Must have exactly 2 columns:
                      Seasonal data in column 0, Trend data in column 1
    kwargs: LineKwargs - additional keyword arguments to pass to line_plot()</p>

<p>Returns:
    Axes: A matplotlib Axes object containing the seasonal+trend plot</p>

<p>Raises:
    ValueError: If the DataFrame does not have exactly 2 columns</p>
</div>


                </section>
                <section id="seastrend_plot_finalise">
                            <input id="seastrend_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">seastrend_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">SFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="seastrend_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#seastrend_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="seastrend_plot_finalise-233"><a href="#seastrend_plot_finalise-233"><span class="linenos">233</span></a><span class="k">def</span><span class="w"> </span><span class="nf">seastrend_plot_finalise</span><span class="p">(</span>
</span><span id="seastrend_plot_finalise-234"><a href="#seastrend_plot_finalise-234"><span class="linenos">234</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="seastrend_plot_finalise-235"><a href="#seastrend_plot_finalise-235"><span class="linenos">235</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">SFKwargs</span><span class="p">],</span>
</span><span id="seastrend_plot_finalise-236"><a href="#seastrend_plot_finalise-236"><span class="linenos">236</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="seastrend_plot_finalise-237"><a href="#seastrend_plot_finalise-237"><span class="linenos">237</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call seastrend_plot() and finalise_plot().</span>
</span><span id="seastrend_plot_finalise-238"><a href="#seastrend_plot_finalise-238"><span class="linenos">238</span></a>
</span><span id="seastrend_plot_finalise-239"><a href="#seastrend_plot_finalise-239"><span class="linenos">239</span></a><span class="sd">    Args:</span>
</span><span id="seastrend_plot_finalise-240"><a href="#seastrend_plot_finalise-240"><span class="linenos">240</span></a><span class="sd">        data: The seasonal and trend data to be plotted.</span>
</span><span id="seastrend_plot_finalise-241"><a href="#seastrend_plot_finalise-241"><span class="linenos">241</span></a><span class="sd">        kwargs: Combined seastrend plot and finalise plot keyword arguments.</span>
</span><span id="seastrend_plot_finalise-242"><a href="#seastrend_plot_finalise-242"><span class="linenos">242</span></a>
</span><span id="seastrend_plot_finalise-243"><a href="#seastrend_plot_finalise-243"><span class="linenos">243</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="seastrend_plot_finalise-244"><a href="#seastrend_plot_finalise-244"><span class="linenos">244</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">SFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;seastrend_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="seastrend_plot_finalise-245"><a href="#seastrend_plot_finalise-245"><span class="linenos">245</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="seastrend_plot_finalise-246"><a href="#seastrend_plot_finalise-246"><span class="linenos">246</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">seastrend_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call seastrend_plot() and finalise_plot().</p>

<p>Args:
    data: The seasonal and trend data to be plotted.
    kwargs: Combined seastrend plot and finalise plot keyword arguments.</p>
</div>


                </section>
                <section id="series_growth_plot">
                            <input id="series_growth_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">series_growth_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#SeriesGrowthKwargs">SeriesGrowthKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="series_growth_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#series_growth_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="series_growth_plot-229"><a href="#series_growth_plot-229"><span class="linenos">229</span></a><span class="k">def</span><span class="w"> </span><span class="nf">series_growth_plot</span><span class="p">(</span>
</span><span id="series_growth_plot-230"><a href="#series_growth_plot-230"><span class="linenos">230</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="series_growth_plot-231"><a href="#series_growth_plot-231"><span class="linenos">231</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">SeriesGrowthKwargs</span><span class="p">],</span>
</span><span id="series_growth_plot-232"><a href="#series_growth_plot-232"><span class="linenos">232</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="series_growth_plot-233"><a href="#series_growth_plot-233"><span class="linenos">233</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot annual and periodic growth in percentage terms from a pandas Series.</span>
</span><span id="series_growth_plot-234"><a href="#series_growth_plot-234"><span class="linenos">234</span></a>
</span><span id="series_growth_plot-235"><a href="#series_growth_plot-235"><span class="linenos">235</span></a><span class="sd">    Args:</span>
</span><span id="series_growth_plot-236"><a href="#series_growth_plot-236"><span class="linenos">236</span></a><span class="sd">        data: A pandas Series with an appropriate PeriodIndex.</span>
</span><span id="series_growth_plot-237"><a href="#series_growth_plot-237"><span class="linenos">237</span></a><span class="sd">        kwargs: SeriesGrowthKwargs</span>
</span><span id="series_growth_plot-238"><a href="#series_growth_plot-238"><span class="linenos">238</span></a>
</span><span id="series_growth_plot-239"><a href="#series_growth_plot-239"><span class="linenos">239</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="series_growth_plot-240"><a href="#series_growth_plot-240"><span class="linenos">240</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="series_growth_plot-241"><a href="#series_growth_plot-241"><span class="linenos">241</span></a>    <span class="n">me</span> <span class="o">=</span> <span class="s2">&quot;series_growth_plot&quot;</span>
</span><span id="series_growth_plot-242"><a href="#series_growth_plot-242"><span class="linenos">242</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="series_growth_plot-243"><a href="#series_growth_plot-243"><span class="linenos">243</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">SeriesGrowthKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">me</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="series_growth_plot-244"><a href="#series_growth_plot-244"><span class="linenos">244</span></a>
</span><span id="series_growth_plot-245"><a href="#series_growth_plot-245"><span class="linenos">245</span></a>    <span class="c1"># --- sanity checks</span>
</span><span id="series_growth_plot-246"><a href="#series_growth_plot-246"><span class="linenos">246</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Series</span><span class="p">):</span>
</span><span id="series_growth_plot-247"><a href="#series_growth_plot-247"><span class="linenos">247</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The data argument to series_growth_plot() must be a pandas Series&quot;</span><span class="p">)</span>
</span><span id="series_growth_plot-248"><a href="#series_growth_plot-248"><span class="linenos">248</span></a>
</span><span id="series_growth_plot-249"><a href="#series_growth_plot-249"><span class="linenos">249</span></a>    <span class="c1"># --- calculate growth and plot - add ylabel</span>
</span><span id="series_growth_plot-250"><a href="#series_growth_plot-250"><span class="linenos">250</span></a>    <span class="n">ylabel</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;ylabel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="series_growth_plot-251"><a href="#series_growth_plot-251"><span class="linenos">251</span></a>    <span class="k">if</span> <span class="n">ylabel</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="series_growth_plot-252"><a href="#series_growth_plot-252"><span class="linenos">252</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Did you intend to specify a value for the &#39;ylabel&#39; in </span><span class="si">{</span><span class="n">me</span><span class="si">}</span><span class="s2">()?&quot;</span><span class="p">)</span>
</span><span id="series_growth_plot-253"><a href="#series_growth_plot-253"><span class="linenos">253</span></a>    <span class="n">ylabel</span> <span class="o">=</span> <span class="s2">&quot;Growth (%)&quot;</span> <span class="k">if</span> <span class="n">ylabel</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">ylabel</span>
</span><span id="series_growth_plot-254"><a href="#series_growth_plot-254"><span class="linenos">254</span></a>    <span class="n">growth</span> <span class="o">=</span> <span class="n">calc_growth</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="series_growth_plot-255"><a href="#series_growth_plot-255"><span class="linenos">255</span></a>    <span class="n">ax</span> <span class="o">=</span> <span class="n">growth_plot</span><span class="p">(</span><span class="n">growth</span><span class="p">,</span> <span class="o">**</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;GrowthKwargs&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span>
</span><span id="series_growth_plot-256"><a href="#series_growth_plot-256"><span class="linenos">256</span></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>
</span><span id="series_growth_plot-257"><a href="#series_growth_plot-257"><span class="linenos">257</span></a>    <span class="k">return</span> <span class="n">ax</span>
</span></pre></div>


            <div class="docstring"><p>Plot annual and periodic growth in percentage terms from a pandas Series.</p>

<p>Args:
    data: A pandas Series with an appropriate PeriodIndex.
    kwargs: SeriesGrowthKwargs</p>
</div>


                </section>
                <section id="series_growth_plot_finalise">
                            <input id="series_growth_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">series_growth_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">SGFPKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="series_growth_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#series_growth_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="series_growth_plot_finalise-249"><a href="#series_growth_plot_finalise-249"><span class="linenos">249</span></a><span class="k">def</span><span class="w"> </span><span class="nf">series_growth_plot_finalise</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">SGFPKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="series_growth_plot_finalise-250"><a href="#series_growth_plot_finalise-250"><span class="linenos">250</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call series_growth_plot() and finalise_plot().</span>
</span><span id="series_growth_plot_finalise-251"><a href="#series_growth_plot_finalise-251"><span class="linenos">251</span></a>
</span><span id="series_growth_plot_finalise-252"><a href="#series_growth_plot_finalise-252"><span class="linenos">252</span></a><span class="sd">    Args:</span>
</span><span id="series_growth_plot_finalise-253"><a href="#series_growth_plot_finalise-253"><span class="linenos">253</span></a><span class="sd">        data: The series data to calculate and plot growth for.</span>
</span><span id="series_growth_plot_finalise-254"><a href="#series_growth_plot_finalise-254"><span class="linenos">254</span></a><span class="sd">        kwargs: Combined series growth plot and finalise plot keyword arguments.</span>
</span><span id="series_growth_plot_finalise-255"><a href="#series_growth_plot_finalise-255"><span class="linenos">255</span></a>
</span><span id="series_growth_plot_finalise-256"><a href="#series_growth_plot_finalise-256"><span class="linenos">256</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="series_growth_plot_finalise-257"><a href="#series_growth_plot_finalise-257"><span class="linenos">257</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">SGFPKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;series_growth_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="series_growth_plot_finalise-258"><a href="#series_growth_plot_finalise-258"><span class="linenos">258</span></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">impose_legend</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="series_growth_plot_finalise-259"><a href="#series_growth_plot_finalise-259"><span class="linenos">259</span></a>    <span class="n">plot_then_finalise</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">series_growth_plot</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call series_growth_plot() and finalise_plot().</p>

<p>Args:
    data: The series data to calculate and plot growth for.
    kwargs: Combined series growth plot and finalise plot keyword arguments.</p>
</div>


                </section>
                <section id="set_chart_dir">
                            <input id="set_chart_dir-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_chart_dir</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">chart_dir</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="set_chart_dir-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#set_chart_dir"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="set_chart_dir-156"><a href="#set_chart_dir-156"><span class="linenos">156</span></a><span class="k">def</span><span class="w"> </span><span class="nf">set_chart_dir</span><span class="p">(</span><span class="n">chart_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="set_chart_dir-157"><a href="#set_chart_dir-157"><span class="linenos">157</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Set a global chart directory for finalise_plot().</span>
</span><span id="set_chart_dir-158"><a href="#set_chart_dir-158"><span class="linenos">158</span></a>
</span><span id="set_chart_dir-159"><a href="#set_chart_dir-159"><span class="linenos">159</span></a><span class="sd">    Args:</span>
</span><span id="set_chart_dir-160"><a href="#set_chart_dir-160"><span class="linenos">160</span></a><span class="sd">        chart_dir: str - the directory to set as the chart directory</span>
</span><span id="set_chart_dir-161"><a href="#set_chart_dir-161"><span class="linenos">161</span></a>
</span><span id="set_chart_dir-162"><a href="#set_chart_dir-162"><span class="linenos">162</span></a><span class="sd">    Note: Path.mkdir() may raise an exception if a directory cannot be created.</span>
</span><span id="set_chart_dir-163"><a href="#set_chart_dir-163"><span class="linenos">163</span></a>
</span><span id="set_chart_dir-164"><a href="#set_chart_dir-164"><span class="linenos">164</span></a><span class="sd">    Note: This is a wrapper for set_setting() to set the chart_dir setting, and</span>
</span><span id="set_chart_dir-165"><a href="#set_chart_dir-165"><span class="linenos">165</span></a><span class="sd">    create the directory if it does not exist.</span>
</span><span id="set_chart_dir-166"><a href="#set_chart_dir-166"><span class="linenos">166</span></a>
</span><span id="set_chart_dir-167"><a href="#set_chart_dir-167"><span class="linenos">167</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="set_chart_dir-168"><a href="#set_chart_dir-168"><span class="linenos">168</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">chart_dir</span> <span class="ow">or</span> <span class="n">chart_dir</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
</span><span id="set_chart_dir-169"><a href="#set_chart_dir-169"><span class="linenos">169</span></a>        <span class="n">chart_dir</span> <span class="o">=</span> <span class="n">DEFAULT_CHART_DIR</span>  <span class="c1"># avoid empty/whitespace strings</span>
</span><span id="set_chart_dir-170"><a href="#set_chart_dir-170"><span class="linenos">170</span></a>    <span class="n">Path</span><span class="p">(</span><span class="n">chart_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="set_chart_dir-171"><a href="#set_chart_dir-171"><span class="linenos">171</span></a>    <span class="n">set_setting</span><span class="p">(</span><span class="s2">&quot;chart_dir&quot;</span><span class="p">,</span> <span class="n">chart_dir</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set a global chart directory for finalise_plot().</p>

<p>Args:
    chart_dir: str - the directory to set as the chart directory</p>

<p>Note: Path.mkdir() may raise an exception if a directory cannot be created.</p>

<p>Note: This is a wrapper for set_setting() to set the chart_dir setting, and
create the directory if it does not exist.</p>
</div>


                </section>
                <section id="set_setting">
                            <input id="set_setting-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_setting</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">setting</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="set_setting-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#set_setting"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="set_setting-120"><a href="#set_setting-120"><span class="linenos">120</span></a><span class="k">def</span><span class="w"> </span><span class="nf">set_setting</span><span class="p">(</span><span class="n">setting</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="set_setting-121"><a href="#set_setting-121"><span class="linenos">121</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Set a setting in the global settings.</span>
</span><span id="set_setting-122"><a href="#set_setting-122"><span class="linenos">122</span></a>
</span><span id="set_setting-123"><a href="#set_setting-123"><span class="linenos">123</span></a><span class="sd">    Args:</span>
</span><span id="set_setting-124"><a href="#set_setting-124"><span class="linenos">124</span></a><span class="sd">        setting: str - name of the setting to set (see get_setting())</span>
</span><span id="set_setting-125"><a href="#set_setting-125"><span class="linenos">125</span></a><span class="sd">        value: Any - the value to set the setting to</span>
</span><span id="set_setting-126"><a href="#set_setting-126"><span class="linenos">126</span></a>
</span><span id="set_setting-127"><a href="#set_setting-127"><span class="linenos">127</span></a><span class="sd">    Raises:</span>
</span><span id="set_setting-128"><a href="#set_setting-128"><span class="linenos">128</span></a><span class="sd">        KeyError: if the setting is not found</span>
</span><span id="set_setting-129"><a href="#set_setting-129"><span class="linenos">129</span></a><span class="sd">        ValueError: if the value is invalid for the setting</span>
</span><span id="set_setting-130"><a href="#set_setting-130"><span class="linenos">130</span></a>
</span><span id="set_setting-131"><a href="#set_setting-131"><span class="linenos">131</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="set_setting-132"><a href="#set_setting-132"><span class="linenos">132</span></a>    <span class="k">if</span> <span class="n">setting</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_fields</span><span class="p">():</span>
</span><span id="set_setting-133"><a href="#set_setting-133"><span class="linenos">133</span></a>        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Setting &#39;</span><span class="si">{</span><span class="n">setting</span><span class="si">}</span><span class="s2">&#39; not found in mgplot_defaults.&quot;</span><span class="p">)</span>
</span><span id="set_setting-134"><a href="#set_setting-134"><span class="linenos">134</span></a>
</span><span id="set_setting-135"><a href="#set_setting-135"><span class="linenos">135</span></a>    <span class="c1"># Basic validation for some settings</span>
</span><span id="set_setting-136"><a href="#set_setting-136"><span class="linenos">136</span></a>    <span class="k">if</span> <span class="n">setting</span> <span class="o">==</span> <span class="s2">&quot;chart_dir&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="set_setting-137"><a href="#set_setting-137"><span class="linenos">137</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;chart_dir must be a string, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="set_setting-138"><a href="#set_setting-138"><span class="linenos">138</span></a>    <span class="k">if</span> <span class="n">setting</span> <span class="o">==</span> <span class="s2">&quot;dpi&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="set_setting-139"><a href="#set_setting-139"><span class="linenos">139</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;dpi must be a positive integer, got </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="set_setting-140"><a href="#set_setting-140"><span class="linenos">140</span></a>    <span class="k">if</span> <span class="n">setting</span> <span class="o">==</span> <span class="s2">&quot;max_ticks&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="set_setting-141"><a href="#set_setting-141"><span class="linenos">141</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;max_ticks must be a positive integer, got </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="set_setting-142"><a href="#set_setting-142"><span class="linenos">142</span></a>
</span><span id="set_setting-143"><a href="#set_setting-143"><span class="linenos">143</span></a>    <span class="nb">setattr</span><span class="p">(</span><span class="n">mgplot_defaults</span><span class="p">,</span> <span class="n">setting</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set a setting in the global settings.</p>

<p>Args:
    setting: str - name of the setting to set (see get_setting())
    value: Any - the value to set the setting to</p>

<p>Raises:
    KeyError: if the setting is not found
    ValueError: if the value is invalid for the setting</p>
</div>


                </section>
                <section id="state_abbrs">
                    <div class="attr variable">
            <span class="name">state_abbrs</span>        =
<span class="default_value">(&#39;NSW&#39;, &#39;Vic&#39;, &#39;Qld&#39;, &#39;SA&#39;, &#39;WA&#39;, &#39;Tas&#39;, &#39;NT&#39;, &#39;ACT&#39;)</span>

        
    </div>
    <a class="headerlink" href="#state_abbrs"></a>
    
    

                </section>
                <section id="state_names">
                    <div class="attr variable">
            <span class="name">state_names</span>        =
<input id="state_names-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="state_names-view-value"></label><span class="default_value">(&#39;New South Wales&#39;, &#39;Victoria&#39;, &#39;Queensland&#39;, &#39;South Australia&#39;, &#39;Western Australia&#39;, &#39;Tasmania&#39;, &#39;Northern Territory&#39;, &#39;Australian Capital Territory&#39;)</span>

        
    </div>
    <a class="headerlink" href="#state_names"></a>
    
    

                </section>
                <section id="summary_plot">
                            <input id="summary_plot-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">summary_plot</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#SummaryKwargs">SummaryKwargs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_axes</span><span class="o">.</span><span class="n">Axes</span>:</span></span>

                <label class="view-source-button" for="summary_plot-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#summary_plot"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="summary_plot-294"><a href="#summary_plot-294"><span class="linenos">294</span></a><span class="k">def</span><span class="w"> </span><span class="nf">summary_plot</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">SummaryKwargs</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Axes</span><span class="p">:</span>
</span><span id="summary_plot-295"><a href="#summary_plot-295"><span class="linenos">295</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot a summary of historical data for a given DataFrame.</span>
</span><span id="summary_plot-296"><a href="#summary_plot-296"><span class="linenos">296</span></a>
</span><span id="summary_plot-297"><a href="#summary_plot-297"><span class="linenos">297</span></a><span class="sd">    Args:</span>
</span><span id="summary_plot-298"><a href="#summary_plot-298"><span class="linenos">298</span></a><span class="sd">        data: DataFrame containing the summary data. The column names are</span>
</span><span id="summary_plot-299"><a href="#summary_plot-299"><span class="linenos">299</span></a><span class="sd">              used as labels for the plot.</span>
</span><span id="summary_plot-300"><a href="#summary_plot-300"><span class="linenos">300</span></a><span class="sd">        kwargs: Additional arguments for the plot, including middle (float),</span>
</span><span id="summary_plot-301"><a href="#summary_plot-301"><span class="linenos">301</span></a><span class="sd">               plot_type (str), verbose (bool), and standard plotting options.</span>
</span><span id="summary_plot-302"><a href="#summary_plot-302"><span class="linenos">302</span></a>
</span><span id="summary_plot-303"><a href="#summary_plot-303"><span class="linenos">303</span></a><span class="sd">    Returns:</span>
</span><span id="summary_plot-304"><a href="#summary_plot-304"><span class="linenos">304</span></a><span class="sd">        Axes: A matplotlib Axes object containing the summary plot.</span>
</span><span id="summary_plot-305"><a href="#summary_plot-305"><span class="linenos">305</span></a>
</span><span id="summary_plot-306"><a href="#summary_plot-306"><span class="linenos">306</span></a><span class="sd">    Raises:</span>
</span><span id="summary_plot-307"><a href="#summary_plot-307"><span class="linenos">307</span></a><span class="sd">        TypeError: If data is not a DataFrame.</span>
</span><span id="summary_plot-308"><a href="#summary_plot-308"><span class="linenos">308</span></a>
</span><span id="summary_plot-309"><a href="#summary_plot-309"><span class="linenos">309</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="summary_plot-310"><a href="#summary_plot-310"><span class="linenos">310</span></a>    <span class="c1"># --- check the kwargs</span>
</span><span id="summary_plot-311"><a href="#summary_plot-311"><span class="linenos">311</span></a>    <span class="n">report_kwargs</span><span class="p">(</span><span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="summary_plot-312"><a href="#summary_plot-312"><span class="linenos">312</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">SummaryKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="n">ME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="summary_plot-313"><a href="#summary_plot-313"><span class="linenos">313</span></a>
</span><span id="summary_plot-314"><a href="#summary_plot-314"><span class="linenos">314</span></a>    <span class="c1"># --- check the data</span>
</span><span id="summary_plot-315"><a href="#summary_plot-315"><span class="linenos">315</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">check_clean_timeseries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ME</span><span class="p">)</span>
</span><span id="summary_plot-316"><a href="#summary_plot-316"><span class="linenos">316</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">):</span>
</span><span id="summary_plot-317"><a href="#summary_plot-317"><span class="linenos">317</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;data must be a pandas DataFrame for summary_plot()&quot;</span><span class="p">)</span>
</span><span id="summary_plot-318"><a href="#summary_plot-318"><span class="linenos">318</span></a>
</span><span id="summary_plot-319"><a href="#summary_plot-319"><span class="linenos">319</span></a>    <span class="c1"># --- legend</span>
</span><span id="summary_plot-320"><a href="#summary_plot-320"><span class="linenos">320</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;legend&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="summary_plot-321"><a href="#summary_plot-321"><span class="linenos">321</span></a>        <span class="s2">&quot;legend&quot;</span><span class="p">,</span>
</span><span id="summary_plot-322"><a href="#summary_plot-322"><span class="linenos">322</span></a>        <span class="p">{</span>
</span><span id="summary_plot-323"><a href="#summary_plot-323"><span class="linenos">323</span></a>            <span class="c1"># put the legend below the x-axis label</span>
</span><span id="summary_plot-324"><a href="#summary_plot-324"><span class="linenos">324</span></a>            <span class="s2">&quot;loc&quot;</span><span class="p">:</span> <span class="s2">&quot;upper center&quot;</span><span class="p">,</span>
</span><span id="summary_plot-325"><a href="#summary_plot-325"><span class="linenos">325</span></a>            <span class="s2">&quot;fontsize&quot;</span><span class="p">:</span> <span class="s2">&quot;xx-small&quot;</span><span class="p">,</span>
</span><span id="summary_plot-326"><a href="#summary_plot-326"><span class="linenos">326</span></a>            <span class="s2">&quot;bbox_to_anchor&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.125</span><span class="p">),</span>
</span><span id="summary_plot-327"><a href="#summary_plot-327"><span class="linenos">327</span></a>            <span class="s2">&quot;ncol&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
</span><span id="summary_plot-328"><a href="#summary_plot-328"><span class="linenos">328</span></a>        <span class="p">},</span>
</span><span id="summary_plot-329"><a href="#summary_plot-329"><span class="linenos">329</span></a>    <span class="p">)</span>
</span><span id="summary_plot-330"><a href="#summary_plot-330"><span class="linenos">330</span></a>
</span><span id="summary_plot-331"><a href="#summary_plot-331"><span class="linenos">331</span></a>    <span class="c1"># --- and plot it ...</span>
</span><span id="summary_plot-332"><a href="#summary_plot-332"><span class="linenos">332</span></a>    <span class="n">ax</span><span class="p">,</span> <span class="n">plot_type</span> <span class="o">=</span> <span class="n">plot_the_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="summary_plot-333"><a href="#summary_plot-333"><span class="linenos">333</span></a>    <span class="n">label_x_axis</span><span class="p">(</span>
</span><span id="summary_plot-334"><a href="#summary_plot-334"><span class="linenos">334</span></a>        <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plot_from&quot;</span><span class="p">,</span> <span class="n">DEFAULT_PLOT_FROM</span><span class="p">),</span>
</span><span id="summary_plot-335"><a href="#summary_plot-335"><span class="linenos">335</span></a>        <span class="n">label</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xlabel&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
</span><span id="summary_plot-336"><a href="#summary_plot-336"><span class="linenos">336</span></a>        <span class="n">plot_type</span><span class="o">=</span><span class="n">plot_type</span><span class="p">,</span>
</span><span id="summary_plot-337"><a href="#summary_plot-337"><span class="linenos">337</span></a>        <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
</span><span id="summary_plot-338"><a href="#summary_plot-338"><span class="linenos">338</span></a>        <span class="n">df</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
</span><span id="summary_plot-339"><a href="#summary_plot-339"><span class="linenos">339</span></a>    <span class="p">)</span>
</span><span id="summary_plot-340"><a href="#summary_plot-340"><span class="linenos">340</span></a>    <span class="n">mark_reference_lines</span><span class="p">(</span><span class="n">plot_type</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
</span><span id="summary_plot-341"><a href="#summary_plot-341"><span class="linenos">341</span></a>
</span><span id="summary_plot-342"><a href="#summary_plot-342"><span class="linenos">342</span></a>    <span class="k">return</span> <span class="n">ax</span>
</span></pre></div>


            <div class="docstring"><p>Plot a summary of historical data for a given DataFrame.</p>

<p>Args:
    data: DataFrame containing the summary data. The column names are
          used as labels for the plot.
    kwargs: Additional arguments for the plot, including middle (float),
           plot_type (str), verbose (bool), and standard plotting options.</p>

<p>Returns:
    Axes: A matplotlib Axes object containing the summary plot.</p>

<p>Raises:
    TypeError: If data is not a DataFrame.</p>
</div>


                </section>
                <section id="summary_plot_finalise">
                            <input id="summary_plot_finalise-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">summary_plot_finalise</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">DataT</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">mgplot</span><span class="o">.</span><span class="n">finalisers</span><span class="o">.</span><span class="n">SumPFKwargs</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="summary_plot_finalise-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#summary_plot_finalise"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="summary_plot_finalise-262"><a href="#summary_plot_finalise-262"><span class="linenos">262</span></a><span class="k">def</span><span class="w"> </span><span class="nf">summary_plot_finalise</span><span class="p">(</span>
</span><span id="summary_plot_finalise-263"><a href="#summary_plot_finalise-263"><span class="linenos">263</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="summary_plot_finalise-264"><a href="#summary_plot_finalise-264"><span class="linenos">264</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">SumPFKwargs</span><span class="p">],</span>
</span><span id="summary_plot_finalise-265"><a href="#summary_plot_finalise-265"><span class="linenos">265</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="summary_plot_finalise-266"><a href="#summary_plot_finalise-266"><span class="linenos">266</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Call summary_plot() and finalise_plot().</span>
</span><span id="summary_plot_finalise-267"><a href="#summary_plot_finalise-267"><span class="linenos">267</span></a>
</span><span id="summary_plot_finalise-268"><a href="#summary_plot_finalise-268"><span class="linenos">268</span></a><span class="sd">    This is more complex than most of the above convenience methods as it</span>
</span><span id="summary_plot_finalise-269"><a href="#summary_plot_finalise-269"><span class="linenos">269</span></a><span class="sd">    creates multiple plots (one for each plot type).</span>
</span><span id="summary_plot_finalise-270"><a href="#summary_plot_finalise-270"><span class="linenos">270</span></a>
</span><span id="summary_plot_finalise-271"><a href="#summary_plot_finalise-271"><span class="linenos">271</span></a><span class="sd">    Args:</span>
</span><span id="summary_plot_finalise-272"><a href="#summary_plot_finalise-272"><span class="linenos">272</span></a><span class="sd">        data: DataFrame containing the summary data. The index must be a PeriodIndex.</span>
</span><span id="summary_plot_finalise-273"><a href="#summary_plot_finalise-273"><span class="linenos">273</span></a><span class="sd">        kwargs: Combined summary plot and finalise plot keyword arguments.</span>
</span><span id="summary_plot_finalise-274"><a href="#summary_plot_finalise-274"><span class="linenos">274</span></a>
</span><span id="summary_plot_finalise-275"><a href="#summary_plot_finalise-275"><span class="linenos">275</span></a><span class="sd">    Raises:</span>
</span><span id="summary_plot_finalise-276"><a href="#summary_plot_finalise-276"><span class="linenos">276</span></a><span class="sd">        TypeError: If data is not a DataFrame with a PeriodIndex.</span>
</span><span id="summary_plot_finalise-277"><a href="#summary_plot_finalise-277"><span class="linenos">277</span></a><span class="sd">        IndexError: If DataFrame is empty.</span>
</span><span id="summary_plot_finalise-278"><a href="#summary_plot_finalise-278"><span class="linenos">278</span></a>
</span><span id="summary_plot_finalise-279"><a href="#summary_plot_finalise-279"><span class="linenos">279</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="summary_plot_finalise-280"><a href="#summary_plot_finalise-280"><span class="linenos">280</span></a>    <span class="c1"># --- validate data type and structure</span>
</span><span id="summary_plot_finalise-281"><a href="#summary_plot_finalise-281"><span class="linenos">281</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">PeriodIndex</span><span class="p">):</span>
</span><span id="summary_plot_finalise-282"><a href="#summary_plot_finalise-282"><span class="linenos">282</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Data must be a DataFrame with a PeriodIndex.&quot;</span><span class="p">)</span>
</span><span id="summary_plot_finalise-283"><a href="#summary_plot_finalise-283"><span class="linenos">283</span></a>
</span><span id="summary_plot_finalise-284"><a href="#summary_plot_finalise-284"><span class="linenos">284</span></a>    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">empty</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="summary_plot_finalise-285"><a href="#summary_plot_finalise-285"><span class="linenos">285</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;DataFrame cannot be empty&quot;</span><span class="p">)</span>
</span><span id="summary_plot_finalise-286"><a href="#summary_plot_finalise-286"><span class="linenos">286</span></a>
</span><span id="summary_plot_finalise-287"><a href="#summary_plot_finalise-287"><span class="linenos">287</span></a>    <span class="n">validate_kwargs</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">SumPFKwargs</span><span class="p">,</span> <span class="n">caller</span><span class="o">=</span><span class="s2">&quot;summary_plot_finalise&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="summary_plot_finalise-288"><a href="#summary_plot_finalise-288"><span class="linenos">288</span></a>
</span><span id="summary_plot_finalise-289"><a href="#summary_plot_finalise-289"><span class="linenos">289</span></a>    <span class="c1"># --- set default title with bounds checking</span>
</span><span id="summary_plot_finalise-290"><a href="#summary_plot_finalise-290"><span class="linenos">290</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Summary at </span><span class="si">{</span><span class="n">label_period</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="summary_plot_finalise-291"><a href="#summary_plot_finalise-291"><span class="linenos">291</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;preserve_lims&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;preserve_lims&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="summary_plot_finalise-292"><a href="#summary_plot_finalise-292"><span class="linenos">292</span></a>
</span><span id="summary_plot_finalise-293"><a href="#summary_plot_finalise-293"><span class="linenos">293</span></a>    <span class="c1"># --- handle plot_from parameter with bounds checking</span>
</span><span id="summary_plot_finalise-294"><a href="#summary_plot_finalise-294"><span class="linenos">294</span></a>    <span class="n">start</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">Period</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;plot_from&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="summary_plot_finalise-295"><a href="#summary_plot_finalise-295"><span class="linenos">295</span></a>    <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="summary_plot_finalise-296"><a href="#summary_plot_finalise-296"><span class="linenos">296</span></a>        <span class="n">start</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="summary_plot_finalise-297"><a href="#summary_plot_finalise-297"><span class="linenos">297</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="summary_plot_finalise-298"><a href="#summary_plot_finalise-298"><span class="linenos">298</span></a>        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">start</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
</span><span id="summary_plot_finalise-299"><a href="#summary_plot_finalise-299"><span class="linenos">299</span></a>            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span>
</span><span id="summary_plot_finalise-300"><a href="#summary_plot_finalise-300"><span class="linenos">300</span></a>                <span class="sa">f</span><span class="s2">&quot;plot_from index </span><span class="si">{</span><span class="n">start</span><span class="si">}</span><span class="s2"> out of range for DataFrame with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="si">}</span><span class="s2"> rows&quot;</span>
</span><span id="summary_plot_finalise-301"><a href="#summary_plot_finalise-301"><span class="linenos">301</span></a>            <span class="p">)</span>
</span><span id="summary_plot_finalise-302"><a href="#summary_plot_finalise-302"><span class="linenos">302</span></a>        <span class="n">start</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
</span><span id="summary_plot_finalise-303"><a href="#summary_plot_finalise-303"><span class="linenos">303</span></a>
</span><span id="summary_plot_finalise-304"><a href="#summary_plot_finalise-304"><span class="linenos">304</span></a>    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;plot_from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span>
</span><span id="summary_plot_finalise-305"><a href="#summary_plot_finalise-305"><span class="linenos">305</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">Period</span><span class="p">):</span>
</span><span id="summary_plot_finalise-306"><a href="#summary_plot_finalise-306"><span class="linenos">306</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;plot_from must be a Period or convertible to one&quot;</span><span class="p">)</span>
</span><span id="summary_plot_finalise-307"><a href="#summary_plot_finalise-307"><span class="linenos">307</span></a>
</span><span id="summary_plot_finalise-308"><a href="#summary_plot_finalise-308"><span class="linenos">308</span></a>    <span class="c1"># --- create plots for each plot type</span>
</span><span id="summary_plot_finalise-309"><a href="#summary_plot_finalise-309"><span class="linenos">309</span></a>    <span class="n">pre_tag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pre_tag&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="summary_plot_finalise-310"><a href="#summary_plot_finalise-310"><span class="linenos">310</span></a>    <span class="k">for</span> <span class="n">plot_type</span> <span class="ow">in</span> <span class="n">SUMMARY_PLOT_TYPES</span><span class="p">:</span>
</span><span id="summary_plot_finalise-311"><a href="#summary_plot_finalise-311"><span class="linenos">311</span></a>        <span class="n">plot_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># Avoid modifying original kwargs</span>
</span><span id="summary_plot_finalise-312"><a href="#summary_plot_finalise-312"><span class="linenos">312</span></a>        <span class="n">plot_kwargs</span><span class="p">[</span><span class="s2">&quot;plot_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_type</span>
</span><span id="summary_plot_finalise-313"><a href="#summary_plot_finalise-313"><span class="linenos">313</span></a>        <span class="n">plot_kwargs</span><span class="p">[</span><span class="s2">&quot;pre_tag&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_tag</span> <span class="o">+</span> <span class="n">plot_type</span>
</span><span id="summary_plot_finalise-314"><a href="#summary_plot_finalise-314"><span class="linenos">314</span></a>
</span><span id="summary_plot_finalise-315"><a href="#summary_plot_finalise-315"><span class="linenos">315</span></a>        <span class="n">plot_then_finalise</span><span class="p">(</span>
</span><span id="summary_plot_finalise-316"><a href="#summary_plot_finalise-316"><span class="linenos">316</span></a>            <span class="n">data</span><span class="p">,</span>
</span><span id="summary_plot_finalise-317"><a href="#summary_plot_finalise-317"><span class="linenos">317</span></a>            <span class="n">function</span><span class="o">=</span><span class="n">summary_plot</span><span class="p">,</span>
</span><span id="summary_plot_finalise-318"><a href="#summary_plot_finalise-318"><span class="linenos">318</span></a>            <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">,</span>
</span><span id="summary_plot_finalise-319"><a href="#summary_plot_finalise-319"><span class="linenos">319</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Call summary_plot() and finalise_plot().</p>

<p>This is more complex than most of the above convenience methods as it
creates multiple plots (one for each plot type).</p>

<p>Args:
    data: DataFrame containing the summary data. The index must be a PeriodIndex.
    kwargs: Combined summary plot and finalise plot keyword arguments.</p>

<p>Raises:
    TypeError: If data is not a DataFrame with a PeriodIndex.
    IndexError: If DataFrame is empty.</p>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>